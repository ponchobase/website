function hexToRgb(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,r){return e+e+i+i+r+r});t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function clamp(t,e,i){return Math.min(Math.max(t,e),i)}function isInArray(t,e){return-1<e.indexOf(t)}((t,e)=>{"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(t.document)return e(t);throw new Error("jQuery requires a window with a document")}:e(t)})("undefined"!=typeof window?window:this,function(w,F){function y(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item}function R(t){return null!=t&&t===t.window}var e=[],B=Object.getPrototypeOf,o=e.slice,N=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},z=e.push,x=e.indexOf,H={},W=H.toString,V=H.hasOwnProperty,X=V.toString,Y=X.call(Object),g={},S=w.document,G={type:!0,src:!0,nonce:!0,noModule:!0};function q(t,e,i){var r,s,a=(i=i||S).createElement("script");if(a.text=t,e)for(r in G)(s=e[r]||e.getAttribute&&e.getAttribute(r))&&a.setAttribute(r,s);i.head.appendChild(a).parentNode.removeChild(a)}function U(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?H[W.call(t)]||"object":typeof t}var t="3.7.1",$=/HTML$/i,C=function(t,e){return new C.fn.init(t,e)};function K(t){var e=!!t&&"length"in t&&t.length,i=U(t);return!y(t)&&!R(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}function b(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}C.fn=C.prototype={jquery:t,constructor:C,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=C.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return C.each(this,t)},map:function(i){return this.pushStack(C.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:z,sort:e.sort,splice:e.splice},C.extend=C.fn.extend=function(){var t,e,i,r,s,a=arguments[0]||{},n=1,o=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[n]||{},n++),"object"==typeof a||y(a)||(a={}),n===o&&(a=this,n--);n<o;n++)if(null!=(t=arguments[n]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(l&&i&&(C.isPlainObject(i)||(r=Array.isArray(i)))?(s=a[e],s=r&&!Array.isArray(s)?[]:r||C.isPlainObject(s)?s:{},r=!1,a[e]=C.extend(l,s,i)):void 0!==i&&(a[e]=i));return a},C.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==W.call(t)||(t=B(t))&&("function"!=typeof(t=V.call(t,"constructor")&&t.constructor)||X.call(t)!==Y))},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,i){q(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,r=0;if(K(t))for(i=t.length;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},text:function(t){var e,i="",r=0,s=t.nodeType;if(!s)for(;e=t[r++];)i+=C.text(e);return 1===s||11===s?t.textContent:9===s?t.documentElement.textContent:3===s||4===s?t.nodeValue:i},makeArray:function(t,e){e=e||[];return null!=t&&(K(Object(t))?C.merge(e,"string"==typeof t?[t]:t):z.call(e,t)),e},inArray:function(t,e,i){return null==e?-1:x.call(e,t,i)},isXMLDoc:function(t){var e=t&&t.namespaceURI,t=t&&(t.ownerDocument||t).documentElement;return!$.test(e||t&&t.nodeName||"HTML")},merge:function(t,e){for(var i=+e.length,r=0,s=t.length;r<i;r++)t[s++]=e[r];return t.length=s,t},grep:function(t,e,i){for(var r=[],s=0,a=t.length,n=!i;s<a;s++)!e(t[s],s)!=n&&r.push(t[s]);return r},map:function(t,e,i){var r,s,a=0,n=[];if(K(t))for(r=t.length;a<r;a++)null!=(s=e(t[a],a,i))&&n.push(s);else for(a in t)null!=(s=e(t[a],a,i))&&n.push(s);return N(n)},guid:1,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=e[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){H["[object "+e+"]"]=e.toLowerCase()});var J=e.pop,Q=e.sort,Z=e.splice,i="[\\x20\\t\\r\\n\\f]",tt=new RegExp("^"+i+"+|((?:^|[^\\\\])(?:\\\\.)*)"+i+"+$","g"),et=(C.contains=function(t,e){e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(t.contains?t.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))},/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g);function it(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}C.escapeSelector=function(t){return(t+"").replace(et,it)};var rt,_,st,at,nt,T,r,k,u,ot,s=S,lt=z,M=lt,E=C.expando,P=0,ht=0,ct=Pt(),dt=Pt(),ut=Pt(),pt=Pt(),ft=function(t,e){return t===e&&(nt=!0),0},gt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+i+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",a="\\["+i+"*("+t+")(?:"+i+"*([*^$|!~]?=)"+i+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+i+"*\\]",n=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+a+")*)|.*)\\)|)",mt=new RegExp(i+"+","g"),vt=new RegExp("^"+i+"*,"+i+"*"),yt=new RegExp("^"+i+"*([>+~]|"+i+")"+i+"*"),bt=new RegExp(i+"|>"),xt=new RegExp(n),_t=new RegExp("^"+t+"$"),wt={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+a),PSEUDO:new RegExp("^"+n),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+i+"*(even|odd|(([+-]|)(\\d*)n|)"+i+"*(?:([+-]|)"+i+"*(\\d+)|))"+i+"*\\)|)","i"),bool:new RegExp("^(?:"+gt+")$","i"),needsContext:new RegExp("^"+i+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+i+"*((?:-\\d)?\\d*)"+i+"*\\)|)(?=[^-]|$)","i")},St=/^(?:input|select|textarea|button)$/i,Ct=/^h\d$/i,Tt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,kt=/[+~]/,d=new RegExp("\\\\[\\da-fA-F]{1,6}"+i+"?|\\\\([^\\r\\n\\f])","g"),p=function(t,e){t="0x"+t.slice(1)-65536;return e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))},Mt=function(){It()},Et=Bt(function(t){return!0===t.disabled&&b(t,"fieldset")},{dir:"parentNode",next:"legend"});try{M.apply(e=o.call(s.childNodes),s.childNodes),e[s.childNodes.length].nodeType}catch(rt){M={apply:function(t,e){lt.apply(t,o.call(e))},call:function(t){lt.apply(t,o.call(arguments,1))}}}function O(t,e,i,r){var s,a,n,o,l,h,c=e&&e.ownerDocument,d=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return i;if(!r&&(It(e),e=e||T,k)){if(11!==d&&(o=Tt.exec(t)))if(s=o[1]){if(9===d){if(!(h=e.getElementById(s)))return i;if(h.id===s)return M.call(i,h),i}else if(c&&(h=c.getElementById(s))&&O.contains(e,h)&&h.id===s)return M.call(i,h),i}else{if(o[2])return M.apply(i,e.getElementsByTagName(t)),i;if((s=o[3])&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(s)),i}if(!(pt[t+" "]||u&&u.test(t))){if(h=t,c=e,1===d&&(bt.test(t)||yt.test(t))){for((c=kt.test(t)&&Lt(e.parentNode)||e)==e&&g.scope||((n=e.getAttribute("id"))?n=C.escapeSelector(n):e.setAttribute("id",n=E)),a=(l=Ft(t)).length;a--;)l[a]=(n?"#"+n:":scope")+" "+Rt(l[a]);h=l.join(",")}try{return M.apply(i,c.querySelectorAll(h)),i}catch(e){pt(t,!0)}finally{n===E&&e.removeAttribute("id")}}}return Vt(t.replace(tt,"$1"),e,i,r)}function Pt(){var r=[];return function t(e,i){return r.push(e+" ")>_.cacheLength&&delete t[r.shift()],t[e+" "]=i}}function l(t){return t[E]=!0,t}function Ot(t){var e=T.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function Dt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Et(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function At(n){return l(function(a){return a=+a,l(function(t,e){for(var i,r=n([],t.length,a),s=r.length;s--;)t[i=r[s]]&&(t[i]=!(e[i]=t[i]))})})}function Lt(t){return t&&void 0!==t.getElementsByTagName&&t}function It(t){var t=t?t.ownerDocument||t:s;return t!=T&&9===t.nodeType&&t.documentElement&&(r=(T=t).documentElement,k=!C.isXMLDoc(T),ot=r.matches||r.webkitMatchesSelector||r.msMatchesSelector,r.msMatchesSelector&&s!=T&&(t=T.defaultView)&&t.top!==t&&t.addEventListener("unload",Mt),g.getById=Ot(function(t){return r.appendChild(t).id=C.expando,!T.getElementsByName||!T.getElementsByName(C.expando).length}),g.disconnectedMatch=Ot(function(t){return ot.call(t,"*")}),g.scope=Ot(function(){return T.querySelectorAll(":scope")}),g.cssHas=Ot(function(){try{return T.querySelector(":has(*,:jqfake)"),0}catch(t){return 1}}),g.getById?(_.filter.ID=function(t){var e=t.replace(d,p);return function(t){return t.getAttribute("id")===e}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&k)return(e=e.getElementById(t))?[e]:[]}):(_.filter.ID=function(t){var e=t.replace(d,p);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&k){var i,r,s,a=e.getElementById(t);if(a){if((i=a.getAttributeNode("id"))&&i.value===t)return[a];for(s=e.getElementsByName(t),r=0;a=s[r++];)if((i=a.getAttributeNode("id"))&&i.value===t)return[a]}return[]}}),_.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},_.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&k)return e.getElementsByClassName(t)},u=[],Ot(function(t){var e;r.appendChild(t).innerHTML="<a id='"+E+"' href='' disabled='disabled'></a><select id='"+E+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||u.push("\\["+i+"*(?:value|"+gt+")"),t.querySelectorAll("[id~="+E+"-]").length||u.push("~="),t.querySelectorAll("a#"+E+"+*").length||u.push(".#.+[+~]"),t.querySelectorAll(":checked").length||u.push(":checked"),(e=T.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),r.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&u.push(":enabled",":disabled"),(e=T.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||u.push("\\["+i+"*name"+i+"*="+i+"*(?:''|\"\")")}),g.cssHas||u.push(":has"),u=u.length&&new RegExp(u.join("|")),ft=function(t,e){var i;return t===e?(nt=!0,0):!t.compareDocumentPosition-!e.compareDocumentPosition||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!g.sortDetached&&e.compareDocumentPosition(t)===i?t===T||t.ownerDocument==s&&O.contains(s,t)?-1:e===T||e.ownerDocument==s&&O.contains(s,e)?1:at?x.call(at,t)-x.call(at,e):0:4&i?-1:1)}),T}for(rt in O.matches=function(t,e){return O(t,null,null,e)},O.matchesSelector=function(t,e){if(It(t),k&&!pt[e+" "]&&(!u||!u.test(e)))try{var i=ot.call(t,e);if(i||g.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){pt(e,!0)}return 0<O(e,T,null,[t]).length},O.contains=function(t,e){return(t.ownerDocument||t)!=T&&It(t),C.contains(t,e)},O.attr=function(t,e){(t.ownerDocument||t)!=T&&It(t);var i=_.attrHandle[e.toLowerCase()],i=i&&V.call(_.attrHandle,e.toLowerCase())?i(t,e,!k):void 0;return void 0!==i?i:t.getAttribute(e)},O.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},C.uniqueSort=function(t){var e,i=[],r=0,s=0;if(nt=!g.sortStable,at=!g.sortStable&&o.call(t,0),Q.call(t,ft),nt){for(;e=t[s++];)e===t[s]&&(r=i.push(s));for(;r--;)Z.call(t,i[r],1)}return at=null,t},C.fn.uniqueSort=function(){return this.pushStack(C.uniqueSort(o.apply(this)))},(_=C.expr={cacheLength:50,createPseudo:l,match:wt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(d,p),t[3]=(t[3]||t[4]||t[5]||"").replace(d,p),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||O.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&O.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return wt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&xt.test(i)&&(e=(e=Ft(i,!0))&&i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(d,p).toLowerCase();return"*"===t?function(){return!0}:function(t){return b(t,e)}},CLASS:function(t){var e=ct[t+" "];return e||(e=new RegExp("(^|"+i+")"+t+"("+i+"|$)"))&&ct(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,i,r){return function(t){t=O.attr(t,e);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(mt," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,f,g){var m="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===t;return 1===f&&0===g?function(t){return!!t.parentNode}:function(t,e,i){var r,s,a,n,o,l=m!=v?"nextSibling":"previousSibling",h=t.parentNode,c=y&&t.nodeName.toLowerCase(),d=!i&&!y,u=!1;if(h){if(m){for(;l;){for(a=t;a=a[l];)if(y?b(a,c):1===a.nodeType)return!1;o=l="only"===p&&!o&&"nextSibling"}return!0}if(o=[v?h.firstChild:h.lastChild],v&&d){for(u=(n=(r=(s=h[E]||(h[E]={}))[p]||[])[0]===P&&r[1])&&r[2],a=n&&h.childNodes[n];a=++n&&a&&a[l]||(u=n=0,o.pop());)if(1===a.nodeType&&++u&&a===t){s[p]=[P,n,u];break}}else if(!1===(u=d?n=(r=(s=t[E]||(t[E]={}))[p]||[])[0]===P&&r[1]:u))for(;(a=++n&&a&&a[l]||(u=n=0,o.pop()))&&((y?!b(a,c):1!==a.nodeType)||!++u||(d&&((s=a[E]||(a[E]={}))[p]=[P,u]),a!==t)););return(u-=g)===f||u%f==0&&0<=u/f}}},PSEUDO:function(t,a){var e,n=_.pseudos[t]||_.setFilters[t.toLowerCase()]||O.error("unsupported pseudo: "+t);return n[E]?n(a):1<n.length?(e=[t,t,"",a],_.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var i,r=n(t,a),s=r.length;s--;)t[i=x.call(t,r[s])]=!(e[i]=r[s])}):function(t){return n(t,0,e)}):n}},pseudos:{not:l(function(t){var r=[],s=[],o=Wt(t.replace(tt,"$1"));return o[E]?l(function(t,e,i,r){for(var s,a=o(t,null,r,[]),n=t.length;n--;)(s=a[n])&&(t[n]=!(e[n]=s))}):function(t,e,i){return r[0]=t,o(r,null,i,s),r[0]=null,!s.pop()}}),has:l(function(e){return function(t){return 0<O(e,t).length}}),contains:l(function(e){return e=e.replace(d,p),function(t){return-1<(t.textContent||C.text(t)).indexOf(e)}}),lang:l(function(i){return _t.test(i||"")||O.error("unsupported lang: "+i),i=i.replace(d,p).toLowerCase(),function(t){var e;do{if(e=k?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=w.location&&w.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===r},focus:function(t){return t===(()=>{try{return T.activeElement}catch(t){}})()&&T.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:Dt(!1),disabled:Dt(!0),checked:function(t){return b(t,"input")&&!!t.checked||b(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return Ct.test(t.nodeName)},input:function(t){return St.test(t.nodeName)},button:function(t){return b(t,"input")&&"button"===t.type||b(t,"button")},text:function(t){return b(t,"input")&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:At(function(){return[0]}),last:At(function(t,e){return[e-1]}),eq:At(function(t,e,i){return[i<0?i+e:i]}),even:At(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:At(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:At(function(t,e,i){for(var r=i<0?i+e:e<i?e:i;0<=--r;)t.push(r);return t}),gt:At(function(t,e,i){for(var r=i<0?i+e:i;++r<e;)t.push(r);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[rt]=(e=>function(t){return b(t,"input")&&t.type===e})(rt);for(rt in{submit:!0,reset:!0})_.pseudos[rt]=(e=>function(t){return(b(t,"input")||b(t,"button"))&&t.type===e})(rt);function jt(){}function Ft(t,e){var i,r,s,a,n,o,l,h=dt[t+" "];if(h)return e?0:h.slice(0);for(n=t,o=[],l=_.preFilter;n;){for(a in i&&!(r=vt.exec(n))||(r&&(n=n.slice(r[0].length)||n),o.push(s=[])),i=!1,(r=yt.exec(n))&&(i=r.shift(),s.push({value:i,type:r[0].replace(tt," ")}),n=n.slice(i.length)),_.filter)!(r=wt[a].exec(n))||l[a]&&!(r=l[a](r))||(i=r.shift(),s.push({value:i,type:a,matches:r}),n=n.slice(i.length));if(!i)break}return e?n.length:n?O.error(t):dt(t,o).slice(0)}function Rt(t){for(var e=0,i=t.length,r="";e<i;e++)r+=t[e].value;return r}function Bt(n,t,e){var o=t.dir,l=t.next,h=l||o,c=e&&"parentNode"===h,d=ht++;return t.first?function(t,e,i){for(;t=t[o];)if(1===t.nodeType||c)return n(t,e,i);return!1}:function(t,e,i){var r,s,a=[P,d];if(i){for(;t=t[o];)if((1===t.nodeType||c)&&n(t,e,i))return!0}else for(;t=t[o];)if(1===t.nodeType||c)if(s=t[E]||(t[E]={}),l&&b(t,l))t=t[o]||t;else{if((r=s[h])&&r[0]===P&&r[1]===d)return a[2]=r[2];if((s[h]=a)[2]=n(t,e,i))return!0}return!1}}function Nt(s){return 1<s.length?function(t,e,i){for(var r=s.length;r--;)if(!s[r](t,e,i))return!1;return!0}:s[0]}function zt(t,e,i,r,s){for(var a,n=[],o=0,l=t.length,h=null!=e;o<l;o++)!(a=t[o])||i&&!i(a,r,s)||(n.push(a),h&&e.push(o));return n}function Ht(p,f,g,m,v,t){return m&&!m[E]&&(m=Ht(m)),v&&!v[E]&&(v=Ht(v,t)),l(function(t,e,i,r){var s,a,n,o,l=[],h=[],c=e.length,d=t||((t,e,i)=>{for(var r=0,s=e.length;r<s;r++)O(t,e[r],i);return i})(f||"*",i.nodeType?[i]:i,[]),u=!p||!t&&f?d:zt(d,l,p,i,r);if(g?g(u,o=v||(t?p:c||m)?[]:e,i,r):o=u,m)for(s=zt(o,h),m(s,[],i,r),a=s.length;a--;)(n=s[a])&&(o[h[a]]=!(u[h[a]]=n));if(t){if(v||p){if(v){for(s=[],a=o.length;a--;)(n=o[a])&&s.push(u[a]=n);v(null,o=[],s,r)}for(a=o.length;a--;)(n=o[a])&&-1<(s=v?x.call(t,n):l[a])&&(t[s]=!(e[s]=n))}}else o=zt(o===e?o.splice(c,o.length):o),v?v(null,e,o,r):M.apply(e,o)})}function Wt(t,e){var i,m,v,y,b,r,s=[],a=[],n=ut[t+" "];if(!n){for(i=(e=e||Ft(t)).length;i--;)((n=function t(e){for(var r,i,s,a=e.length,n=_.relative[e[0].type],o=n||_.relative[" "],l=n?1:0,h=Bt(function(t){return t===r},o,!0),c=Bt(function(t){return-1<x.call(r,t)},o,!0),d=[function(t,e,i){return t=!n&&(i||e!=st)||((r=e).nodeType?h:c)(t,e,i),r=null,t}];l<a;l++)if(i=_.relative[e[l].type])d=[Bt(Nt(d),i)];else{if((i=_.filter[e[l].type].apply(null,e[l].matches))[E]){for(s=++l;s<a&&!_.relative[e[s].type];s++);return Ht(1<l&&Nt(d),1<l&&Rt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(tt,"$1"),i,l<s&&t(e.slice(l,s)),s<a&&t(e=e.slice(s)),s<a&&Rt(e))}d.push(i)}return Nt(d)}(e[i]))[E]?s:a).push(n);(n=ut(t,(y=0<(v=s).length,b=0<(m=a).length,r=function(t,e,i,r,s){var a,n,o,l=0,h="0",c=t&&[],d=[],u=st,p=t||b&&_.find.TAG("*",s),f=P+=null==u?1:Math.random()||.1,g=p.length;for(s&&(st=e==T||e||s);h!==g&&null!=(a=p[h]);h++){if(b&&a){for(n=0,e||a.ownerDocument==T||(It(a),i=!k);o=m[n++];)if(o(a,e||T,i)){M.call(r,a);break}s&&(P=f)}y&&((a=!o&&a)&&l--,t)&&c.push(a)}if(l+=h,y&&h!==l){for(n=0;o=v[n++];)o(c,d,e,i);if(t){if(0<l)for(;h--;)c[h]||d[h]||(d[h]=J.call(r));d=zt(d)}M.apply(r,d),s&&!t&&0<d.length&&1<l+v.length&&C.uniqueSort(r)}return s&&(P=f,st=u),c},y?l(r):r))).selector=t}return n}function Vt(t,e,i,r){var s,a,n,o,l,h="function"==typeof t&&t,c=!r&&Ft(t=h.selector||t);if(i=i||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(n=a[0]).type&&9===e.nodeType&&k&&_.relative[a[1].type]){if(!(e=(_.find.ID(n.matches[0].replace(d,p),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(s=wt.needsContext.test(t)?0:a.length;s--&&(n=a[s],!_.relative[o=n.type]);)if((l=_.find[o])&&(r=l(n.matches[0].replace(d,p),kt.test(a[0].type)&&Lt(e.parentNode)||e))){if(a.splice(s,1),t=r.length&&Rt(a))break;return M.apply(i,r),i}}return(h||Wt(t,c))(r,e,!k,i,!e||kt.test(t)&&Lt(e.parentNode)||e),i}jt.prototype=_.filters=_.pseudos,_.setFilters=new jt,g.sortStable=E.split("").sort(ft).join("")===E,It(),g.sortDetached=Ot(function(t){return 1&t.compareDocumentPosition(T.createElement("fieldset"))}),C.find=O,C.expr[":"]=C.expr.pseudos,C.unique=C.uniqueSort,O.compile=Wt,O.select=Vt,O.setDocument=It,O.tokenize=Ft,O.escape=C.escapeSelector,O.getText=C.text,O.isXML=C.isXMLDoc,O.selectors=C.expr,O.support=C.support,O.uniqueSort=C.uniqueSort;function Xt(t,e,i){for(var r=[],s=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&C(t).is(i))break;r.push(t)}return r}function Yt(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}var Gt=C.expr.match.needsContext,qt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ut(t,i,r){return y(i)?C.grep(t,function(t,e){return!!i.call(t,e,t)!==r}):i.nodeType?C.grep(t,function(t){return t===i!==r}):"string"!=typeof i?C.grep(t,function(t){return-1<x.call(i,t)!==r}):C.filter(i,t,r)}C.filter=function(t,e,i){var r=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?C.find.matchesSelector(r,t)?[r]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,i,r=this.length,s=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<r;e++)if(C.contains(s[e],this))return!0}));for(i=this.pushStack([]),e=0;e<r;e++)C.find(t,s[e],i);return 1<r?C.uniqueSort(i):i},filter:function(t){return this.pushStack(Ut(this,t||[],!1))},not:function(t){return this.pushStack(Ut(this,t||[],!0))},is:function(t){return!!Ut(this,"string"==typeof t&&Gt.test(t)?C(t):t||[],!1).length}});var $t,Kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Jt=((C.fn.init=function(t,e,i){if(t){if(i=i||$t,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==i.ready?i.ready(t):t(C):C.makeArray(t,this);if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:Kt.exec(t))||!r[1]&&e)return(!e||e.jquery?e||i:this.constructor(e)).find(t);if(r[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),qt.test(r[1])&&C.isPlainObject(e))for(var r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r])}else(i=S.getElementById(r[2]))&&(this[0]=i,this.length=1)}return this}).prototype=C.fn,$t=C(S),/^(?:parents|prev(?:Until|All))/),Qt={children:!0,contents:!0,next:!0,prev:!0};function Zt(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){var i,r=0,s=this.length,a=[],n="string"!=typeof t&&C(t);if(!Gt.test(t))for(;r<s;r++)for(i=this[r];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(n?-1<n.index(i):1===i.nodeType&&C.find.matchesSelector(i,t))){a.push(i);break}return this.pushStack(1<a.length?C.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?x.call(C(t),this[0]):x.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return Xt(t,"parentNode")},parentsUntil:function(t,e,i){return Xt(t,"parentNode",i)},next:function(t){return Zt(t,"nextSibling")},prev:function(t){return Zt(t,"previousSibling")},nextAll:function(t){return Xt(t,"nextSibling")},prevAll:function(t){return Xt(t,"previousSibling")},nextUntil:function(t,e,i){return Xt(t,"nextSibling",i)},prevUntil:function(t,e,i){return Xt(t,"previousSibling",i)},siblings:function(t){return Yt((t.parentNode||{}).firstChild,t)},children:function(t){return Yt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&B(t.contentDocument)?t.contentDocument:(b(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},function(r,s){C.fn[r]=function(t,e){var i=C.map(this,s,t);return(e="Until"!==r.slice(-5)?t:e)&&"string"==typeof e&&(i=C.filter(e,i)),1<this.length&&(Qt[r]||C.uniqueSort(i),Jt.test(r))&&i.reverse(),this.pushStack(i)}});var D=/[^\x20\t\r\n\f]+/g;function te(t){return t}function ee(t){throw t}function ie(t,e,i,r){var s;try{t&&y(s=t.promise)?s.call(t).done(e).fail(i):t&&y(s=t.then)?s.call(t,e,i):e.apply(void 0,[t].slice(r))}catch(t){i.apply(void 0,[t])}}C.Callbacks=function(r){var t,i;r="string"==typeof r?(t=r,i={},C.each(t.match(D)||[],function(t,e){i[e]=!0}),i):C.extend({},r);function s(){for(o=o||r.once,n=a=!0;h.length;c=-1)for(e=h.shift();++c<l.length;)!1===l[c].apply(e[0],e[1])&&r.stopOnFalse&&(c=l.length,e=!1);r.memory||(e=!1),a=!1,o&&(l=e?[]:"")}var a,e,n,o,l=[],h=[],c=-1,d={add:function(){return l&&(e&&!a&&(c=l.length-1,h.push(e)),function i(t){C.each(t,function(t,e){y(e)?r.unique&&d.has(e)||l.push(e):e&&e.length&&"string"!==U(e)&&i(e)})}(arguments),e)&&!a&&s(),this},remove:function(){return C.each(arguments,function(t,e){for(var i;-1<(i=C.inArray(e,l,i));)l.splice(i,1),i<=c&&c--}),this},has:function(t){return t?-1<C.inArray(t,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return o=h=[],l=e="",this},disabled:function(){return!l},lock:function(){return o=h=[],e||a||(l=e=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],h.push(e),a)||s(),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},C.extend({Deferred:function(t){var a=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],s="pending",n={state:function(){return s},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return n.then(null,t)},pipe:function(){var s=arguments;return C.Deferred(function(r){C.each(a,function(t,e){var i=y(s[e[4]])&&s[e[4]];o[e[1]](function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[e[0]+"With"](this,i?[t]:arguments)})}),s=null}).promise()},then:function(e,i,r){var l=0;function h(s,a,n,o){return function(){function t(){var t,e;if(!(s<l)){if((t=n.apply(i,r))===a.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,y(e)?o?e.call(t,h(l,a,te,o),h(l,a,ee,o)):(l++,e.call(t,h(l,a,te,o),h(l,a,ee,o),h(l,a,te,a.notifyWith))):(n!==te&&(i=void 0,r=[t]),(o||a.resolveWith)(i,r))}}var i=this,r=arguments,e=o?t:function(){try{t()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,e.error),l<=s+1&&(n!==ee&&(i=void 0,r=[t]),a.rejectWith(i,r))}};s?e():(C.Deferred.getErrorHook?e.error=C.Deferred.getErrorHook():C.Deferred.getStackHook&&(e.error=C.Deferred.getStackHook()),w.setTimeout(e))}}return C.Deferred(function(t){a[0][3].add(h(0,t,y(r)?r:te,t.notifyWith)),a[1][3].add(h(0,t,y(e)?e:te)),a[2][3].add(h(0,t,y(i)?i:ee))}).promise()},promise:function(t){return null!=t?C.extend(t,n):n}},o={};return C.each(a,function(t,e){var i=e[2],r=e[5];n[e[1]]=i.add,r&&i.add(function(){s=r},a[3-t][2].disable,a[3-t][3].disable,a[0][2].lock,a[0][3].lock),i.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=i.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){function e(e){return function(t){s[e]=this,a[e]=1<arguments.length?o.call(arguments):t,--i||n.resolveWith(s,a)}}var i=arguments.length,r=i,s=Array(r),a=o.call(arguments),n=C.Deferred();if(i<=1&&(ie(t,n.done(e(r)).resolve,n.reject,!i),"pending"===n.state()||y(a[r]&&a[r].then)))return n.then();for(;r--;)ie(a[r],e(r),n.reject);return n.promise()}});var re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,se=(C.Deferred.exceptionHook=function(t,e){w.console&&w.console.warn&&t&&re.test(t.name)&&w.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){w.setTimeout(function(){throw t})},C.Deferred());function ae(){S.removeEventListener("DOMContentLoaded",ae),w.removeEventListener("load",ae),C.ready()}C.fn.ready=function(t){return se.then(t).catch(function(t){C.readyException(t)}),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0)!==t&&0<--C.readyWait||se.resolveWith(S,[C])}}),C.ready.then=se.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?w.setTimeout(C.ready):(S.addEventListener("DOMContentLoaded",ae),w.addEventListener("load",ae));function c(t,e,i,r,s,a,n){var o=0,l=t.length,h=null==i;if("object"===U(i))for(o in s=!0,i)c(t,e,o,i[o],!0,a,n);else if(void 0!==r&&(s=!0,y(r)||(n=!0),e=h?n?(e.call(t,r),null):(h=e,function(t,e,i){return h.call(C(t),i)}):e))for(;o<l;o++)e(t[o],i,n?r:r.call(t[o],o,e(t[o],i)));return s?t:h?e.call(t):l?e(t[0],i):a}var ne=/^-ms-/,oe=/-([a-z])/g;function le(t,e){return e.toUpperCase()}function A(t){return t.replace(ne,"ms-").replace(oe,le)}function he(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function ce(){this.expando=C.expando+ce.uid++}ce.uid=1,ce.prototype={cache:function(t){var e=t[this.expando];return e||(e={},he(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var r,s=this.cache(t);if("string"==typeof e)s[A(e)]=i;else for(r in e)s[A(r)]=e[r];return s},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][A(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,r=t[this.expando];if(void 0!==r){if(void 0!==e){i=(e=Array.isArray(e)?e.map(A):(e=A(e))in r?[e]:e.match(D)||[]).length;for(;i--;)delete r[e[i]]}void 0!==e&&!C.isEmptyObject(r)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var v=new ce,h=new ce,de=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ue=/[A-Z]/g;function pe(t,e,i){var r,s;if(void 0===i&&1===t.nodeType)if(r="data-"+e.replace(ue,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(r))){try{i="true"===(s=i)||"false"!==s&&("null"===s?null:s===+s+""?+s:de.test(s)?JSON.parse(s):s)}catch(t){}h.set(t,e,i)}else i=void 0;return i}C.extend({hasData:function(t){return h.hasData(t)||v.hasData(t)},data:function(t,e,i){return h.access(t,e,i)},removeData:function(t,e){h.remove(t,e)},_data:function(t,e,i){return v.access(t,e,i)},_removeData:function(t,e){v.remove(t,e)}}),C.fn.extend({data:function(i,t){var e,r,s,a=this[0],n=a&&a.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){h.set(this,i)}):c(this,function(t){var e;if(a&&void 0===t)return void 0!==(e=h.get(a,i))||void 0!==(e=pe(a,i))?e:void 0;this.each(function(){h.set(this,i,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(s=h.get(a),1===a.nodeType)&&!v.get(a,"hasDataAttrs")){for(e=n.length;e--;)n[e]&&0===(r=n[e].name).indexOf("data-")&&(r=A(r.slice(5)),pe(a,r,s[r]));v.set(a,"hasDataAttrs",!0)}return s},removeData:function(t){return this.each(function(){h.remove(this,t)})}}),C.extend({queue:function(t,e,i){var r;if(t)return r=v.get(t,e=(e||"fx")+"queue"),i&&(!r||Array.isArray(i)?r=v.access(t,e,C.makeArray(i)):r.push(i)),r||[]},dequeue:function(t,e){e=e||"fx";var i=C.queue(t,e),r=i.length,s=i.shift(),a=C._queueHooks(t,e);"inprogress"===s&&(s=i.shift(),r--),s&&("fx"===e&&i.unshift("inprogress"),delete a.stop,s.call(t,function(){C.dequeue(t,e)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return v.get(t,i)||v.access(t,i,{empty:C.Callbacks("once memory").add(function(){v.remove(t,[e+"queue",i])})})}}),C.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?C.queue(this[0],e):void 0===i?this:this.each(function(){var t=C.queue(this,e,i);C._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&C.dequeue(this,e)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function i(){--s||a.resolveWith(n,[n])}var r,s=1,a=C.Deferred(),n=this,o=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(r=v.get(n[o],t+"queueHooks"))&&r.empty&&(s++,r.empty.add(i));return i(),a.promise(e)}});function fe(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ye(t)&&"none"===C.css(t,"display")}var t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ge=new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i"),me=["Top","Right","Bottom","Left"],ve=S.documentElement,ye=function(t){return C.contains(t.ownerDocument,t)},be={composed:!0};ve.getRootNode&&(ye=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(be)===t.ownerDocument});function xe(t,e,i,r){var s,a,n=20,o=r?function(){return r.cur()}:function(){return C.css(t,e,"")},l=o(),h=i&&i[3]||(C.cssNumber[e]?"":"px"),c=t.nodeType&&(C.cssNumber[e]||"px"!==h&&+l)&&ge.exec(C.css(t,e));if(c&&c[3]!==h){for(h=h||c[3],c=+(l/=2)||1;n--;)C.style(t,e,c+h),(1-a)*(1-(a=o()/l||.5))<=0&&(n=0),c/=a;C.style(t,e,(c*=2)+h),i=i||[]}return i&&(c=+c||+l||0,s=i[1]?c+(i[1]+1)*i[2]:+i[2],r)&&(r.unit=h,r.start=c,r.end=s),s}var _e={};function we(t,e){for(var i,r,s,a,n,o,l=[],h=0,c=t.length;h<c;h++)(r=t[h]).style&&(i=r.style.display,e?("none"===i&&(l[h]=v.get(r,"display")||null,l[h]||(r.style.display="")),""===r.style.display&&fe(r)&&(l[h]=(o=a=s=void 0,a=r.ownerDocument,(o=_e[n=r.nodeName])||(s=a.body.appendChild(a.createElement(n)),o=C.css(s,"display"),s.parentNode.removeChild(s),_e[n]=o="none"===o?"block":o)))):"none"!==i&&(l[h]="none",v.set(r,"display",i)));for(h=0;h<c;h++)null!=l[h]&&(t[h].style.display=l[h]);return t}C.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){fe(this)?C(this).show():C(this).hide()})}});var Se=/^(?:checkbox|radio)$/i,Ce=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Te=/^$|^module$|\/(?:java|ecma)script/i,a=S.createDocumentFragment().appendChild(S.createElement("div")),f=((n=S.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),a.appendChild(n),g.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,a.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,a.innerHTML="<option></option>",g.option=!!a.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function m(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&b(t,e)?C.merge([t],i):i}function ke(t,e){for(var i=0,r=t.length;i<r;i++)v.set(t[i],"globalEval",!e||v.get(e[i],"globalEval"))}f.tbody=f.tfoot=f.colgroup=f.caption=f.thead,f.th=f.td,g.option||(f.optgroup=f.option=[1,"<select multiple='multiple'>","</select>"]);var Me=/<|&#?\w+;/;function Ee(t,e,i,r,s){for(var a,n,o,l,h,c=e.createDocumentFragment(),d=[],u=0,p=t.length;u<p;u++)if((a=t[u])||0===a)if("object"===U(a))C.merge(d,a.nodeType?[a]:a);else if(Me.test(a)){for(n=n||c.appendChild(e.createElement("div")),o=(Ce.exec(a)||["",""])[1].toLowerCase(),o=f[o]||f._default,n.innerHTML=o[1]+C.htmlPrefilter(a)+o[2],h=o[0];h--;)n=n.lastChild;C.merge(d,n.childNodes),(n=c.firstChild).textContent=""}else d.push(e.createTextNode(a));for(c.textContent="",u=0;a=d[u++];)if(r&&-1<C.inArray(a,r))s&&s.push(a);else if(l=ye(a),n=m(c.appendChild(a),"script"),l&&ke(n),i)for(h=0;a=n[h++];)Te.test(a.type||"")&&i.push(a);return c}var Pe=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function De(){return!1}function Ae(t,e,i,r,s,a){var n,o;if("object"==typeof e){for(o in"string"!=typeof i&&(r=r||i,i=void 0),e)Ae(t,o,i,r,e[o],a);return t}if(null==r&&null==s?(s=i,r=i=void 0):null==s&&("string"==typeof i?(s=r,r=void 0):(s=r,r=i,i=void 0)),!1===s)s=De;else if(!s)return t;return 1===a&&(n=s,(s=function(t){return C().off(t),n.apply(this,arguments)}).guid=n.guid||(n.guid=C.guid++)),t.each(function(){C.event.add(this,e,s,r,i)})}function Le(t,r,e){e?(v.set(t,r,!1),C.event.add(t,r,{namespace:!1,handler:function(t){var e,i=v.get(this,r);if(1&t.isTrigger&&this[r]){if(i)(C.event.special[r]||{}).delegateType&&t.stopPropagation();else if(i=o.call(arguments),v.set(this,r,i),this[r](),e=v.get(this,r),v.set(this,r,!1),i!==e)return t.stopImmediatePropagation(),t.preventDefault(),e}else i&&(v.set(this,r,C.event.trigger(i[0],i.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=Oe)}})):void 0===v.get(t,r)&&C.event.add(t,r,Oe)}C.event={global:{},add:function(e,t,i,r,s){var a,n,o,l,h,c,d,u,p,f=v.get(e);if(he(e))for(i.handler&&(i=(a=i).handler,s=a.selector),s&&C.find.matchesSelector(ve,s),i.guid||(i.guid=C.guid++),o=(o=f.events)||(f.events=Object.create(null)),n=(n=f.handle)||(f.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(D)||[""]).length;l--;)d=p=(u=Pe.exec(t[l])||[])[1],u=(u[2]||"").split(".").sort(),d&&(h=C.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=C.event.special[d]||{},p=C.extend({type:d,origType:p,data:r,handler:i,guid:i.guid,selector:s,needsContext:s&&C.expr.match.needsContext.test(s),namespace:u.join(".")},a),(c=o[d])||((c=o[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,u,n))||e.addEventListener&&e.addEventListener(d,n),h.add&&(h.add.call(e,p),p.handler.guid||(p.handler.guid=i.guid)),s?c.splice(c.delegateCount++,0,p):c.push(p),C.event.global[d]=!0)},remove:function(t,e,i,r,s){var a,n,o,l,h,c,d,u,p,f,g,m=v.hasData(t)&&v.get(t);if(m&&(l=m.events)){for(h=(e=(e||"").match(D)||[""]).length;h--;)if(p=g=(o=Pe.exec(e[h])||[])[1],f=(o[2]||"").split(".").sort(),p){for(d=C.event.special[p]||{},u=l[p=(r?d.delegateType:d.bindType)||p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),n=a=u.length;a--;)c=u[a],!s&&g!==c.origType||i&&i.guid!==c.guid||o&&!o.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(u.splice(a,1),c.selector&&u.delegateCount--,d.remove&&d.remove.call(t,c));n&&!u.length&&(d.teardown&&!1!==d.teardown.call(t,f,m.handle)||C.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)C.event.remove(t,p+e[h],i,r,!0);C.isEmptyObject(l)&&v.remove(t,"handle events")}},dispatch:function(t){var e,i,r,s,a,n=new Array(arguments.length),o=C.event.fix(t),t=(v.get(this,"events")||Object.create(null))[o.type]||[],l=C.event.special[o.type]||{};for(n[0]=o,e=1;e<arguments.length;e++)n[e]=arguments[e];if(o.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,o)){for(a=C.event.handlers.call(this,o,t),e=0;(r=a[e++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!1!==s.namespace&&!o.rnamespace.test(s.namespace)||(o.handleObj=s,o.data=s.data,void 0!==(s=((C.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,n))&&!1===(o.result=s)&&(o.preventDefault(),o.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,o),o.result}},handlers:function(t,e){var i,r,s,a,n,o=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&1<=t.button))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(a=[],n={},i=0;i<l;i++)void 0===n[s=(r=e[i]).selector+" "]&&(n[s]=r.needsContext?-1<C(s,this).index(h):C.find(s,this,null,[h]).length),n[s]&&a.push(r);a.length&&o.push({elem:h,handlers:a})}return h=this,l<e.length&&o.push({elem:h,handlers:e.slice(l)}),o},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return Se.test(t.type)&&t.click&&b(t,"input")&&Le(t,"click",!0),!1},trigger:function(t){t=this||t;return Se.test(t.type)&&t.click&&b(t,"input")&&Le(t,"click"),!0},_default:function(t){t=t.target;return Se.test(t.type)&&t.click&&b(t,"input")&&v.get(t,"click")||b(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Oe:De,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:De,isPropagationStopped:De,isImmediatePropagationStopped:De,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Oe,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Oe,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Oe,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(r,s){function a(t){var e,i;S.documentMode?(e=v.get(this,"handle"),(i=C.event.fix(t)).type="focusin"===t.type?"focus":"blur",i.isSimulated=!0,e(t),i.target===i.currentTarget&&e(i)):C.event.simulate(s,t.target,C.event.fix(t))}C.event.special[r]={setup:function(){var t;if(Le(this,r,!0),!S.documentMode)return!1;(t=v.get(this,s))||this.addEventListener(s,a),v.set(this,s,(t||0)+1)},trigger:function(){return Le(this,r),!0},teardown:function(){var t;if(!S.documentMode)return!1;(t=v.get(this,s)-1)?v.set(this,s,t):(this.removeEventListener(s,a),v.remove(this,s))},_default:function(t){return v.get(t.target,r)},delegateType:s},C.event.special[s]={setup:function(){var t=this.ownerDocument||this.document||this,e=S.documentMode?this:t,i=v.get(e,s);i||(S.documentMode?this.addEventListener(s,a):t.addEventListener(r,a,!0)),v.set(e,s,(i||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=S.documentMode?this:t,i=v.get(e,s)-1;i?v.set(e,s,i):(S.documentMode?this.removeEventListener(s,a):t.removeEventListener(r,a,!0),v.remove(e,s))}}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,s){C.event.special[t]={delegateType:s,bindType:s,handle:function(t){var e,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||C.contains(this,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=s),e}}}),C.fn.extend({on:function(t,e,i,r){return Ae(this,t,e,i,r)},one:function(t,e,i,r){return Ae(this,t,e,i,r,1)},off:function(t,e,i){var r,s;if(t&&t.preventDefault&&t.handleObj)r=t.handleObj,C(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler);else{if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=De),this.each(function(){C.event.remove(this,t,i,e)});for(s in t)this.off(s,e,t[s])}return this}});var Ie=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Re(t,e){return b(t,"table")&&b(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function Be(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ne(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function ze(t,e){var i,r,s,a;if(1===e.nodeType){if(v.hasData(t)&&(a=v.get(t).events))for(s in v.remove(e,"handle events"),a)for(i=0,r=a[s].length;i<r;i++)C.event.add(e,s,a[s][i]);h.hasData(t)&&(t=h.access(t),t=C.extend({},t),h.set(e,t))}}function He(i,r,s,a){r=N(r);var t,e,n,o,l,h,c=0,d=i.length,u=d-1,p=r[0],f=y(p);if(f||1<d&&"string"==typeof p&&!g.checkClone&&je.test(p))return i.each(function(t){var e=i.eq(t);f&&(r[0]=p.call(this,t,e.html())),He(e,r,s,a)});if(d&&(e=(t=Ee(r,i[0].ownerDocument,!1,i,a)).firstChild,1===t.childNodes.length&&(t=e),e||a)){for(o=(n=C.map(m(t,"script"),Be)).length;c<d;c++)l=t,c!==u&&(l=C.clone(l,!0,!0),o)&&C.merge(n,m(l,"script")),s.call(i[c],l,c);if(o)for(h=n[n.length-1].ownerDocument,C.map(n,Ne),c=0;c<o;c++)l=n[c],Te.test(l.type||"")&&!v.access(l,"globalEval")&&C.contains(h,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},h):q(l.textContent.replace(Fe,""),l,h))}return i}function We(t,e,i){for(var r,s=e?C.filter(e,t):t,a=0;null!=(r=s[a]);a++)i||1!==r.nodeType||C.cleanData(m(r)),r.parentNode&&(i&&ye(r)&&ke(m(r,"script")),r.parentNode.removeChild(r));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var r,s,a,n,o,l,h,c=t.cloneNode(!0),d=ye(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(n=m(c),r=0,s=(a=m(t)).length;r<s;r++)o=a[r],"input"===(h=(l=n[r]).nodeName.toLowerCase())&&Se.test(o.type)?l.checked=o.checked:"input"!==h&&"textarea"!==h||(l.defaultValue=o.defaultValue);if(e)if(i)for(a=a||m(t),n=n||m(c),r=0,s=a.length;r<s;r++)ze(a[r],n[r]);else ze(t,c);return 0<(n=m(c,"script")).length&&ke(n,!d&&m(t,"script")),c},cleanData:function(t){for(var e,i,r,s=C.event.special,a=0;void 0!==(i=t[a]);a++)if(he(i)){if(e=i[v.expando]){if(e.events)for(r in e.events)s[r]?C.event.remove(i,r):C.removeEvent(i,r,e.handle);i[v.expando]=void 0}i[h.expando]&&(i[h.expando]=void 0)}}}),C.fn.extend({detach:function(t){return We(this,t,!0)},remove:function(t){return We(this,t)},text:function(t){return c(this,function(t){return void 0===t?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return He(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,t).appendChild(t)})},prepend:function(){return He(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=Re(this,t)).insertBefore(t,e.firstChild)})},before:function(){return He(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return He(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return c(this,function(t){var e=this[0]||{},i=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ie.test(t)&&!f[(Ce.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;i<r;i++)1===(e=this[i]||{}).nodeType&&(C.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return He(this,arguments,function(t){var e=this.parentNode;C.inArray(this,i)<0&&(C.cleanData(m(this)),e)&&e.replaceChild(t,this)},i)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){C.fn[t]=function(t){for(var e,i=[],r=C(t),s=r.length-1,a=0;a<=s;a++)e=a===s?this:this.clone(!0),C(r[a])[n](e),z.apply(i,e.get());return this.pushStack(i)}});function Ve(t){var e=t.ownerDocument.defaultView;return(e=e&&e.opener?e:w).getComputedStyle(t)}function Xe(t,e,i){var r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in i=i.call(t),e)t.style[r]=s[r];return i}var Ye,Ge,qe,Ue,$e,Ke,Je,L,Qe=new RegExp("^("+t+")(?!px)[a-z%]+$","i"),Ze=/^--/,ti=new RegExp(me.join("|"),"i");function ei(t,e,i){var r,s=Ze.test(e),a=t.style;return(i=i||Ve(t))&&(r=i.getPropertyValue(e)||i[e],""!==(r=s?r&&(r.replace(tt,"$1")||void 0):r)||ye(t)||(r=C.style(t,e)),!g.pixelBoxStyles())&&Qe.test(r)&&ti.test(e)&&(s=a.width,t=a.minWidth,e=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=s,a.minWidth=t,a.maxWidth=e),void 0!==r?r+"":r}function ii(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function ri(){var t;L&&(Je.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",L.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ve.appendChild(Je).appendChild(L),t=w.getComputedStyle(L),Ye="1%"!==t.top,Ke=12===si(t.marginLeft),L.style.right="60%",Ue=36===si(t.right),Ge=36===si(t.width),L.style.position="absolute",qe=12===si(L.offsetWidth/3),ve.removeChild(Je),L=null)}function si(t){return Math.round(parseFloat(t))}Je=S.createElement("div"),(L=S.createElement("div")).style&&(L.style.backgroundClip="content-box",L.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===L.style.backgroundClip,C.extend(g,{boxSizingReliable:function(){return ri(),Ge},pixelBoxStyles:function(){return ri(),Ue},pixelPosition:function(){return ri(),Ye},reliableMarginLeft:function(){return ri(),Ke},scrollboxSize:function(){return ri(),qe},reliableTrDimensions:function(){var t,e,i;return null==$e&&(t=S.createElement("table"),e=S.createElement("tr"),i=S.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="box-sizing:content-box;border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",ve.appendChild(t).appendChild(e).appendChild(i),i=w.getComputedStyle(e),$e=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,ve.removeChild(t)),$e}}));var ai=["Webkit","Moz","ms"],ni=S.createElement("div").style,oi={};function li(t){return C.cssProps[t]||oi[t]||(t in ni?t:oi[t]=(t=>{for(var e=t[0].toUpperCase()+t.slice(1),i=ai.length;i--;)if((t=ai[i]+e)in ni)return t})(t)||t)}var hi=/^(none|table(?!-c[ea]).+)/,ci={position:"absolute",visibility:"hidden",display:"block"},di={letterSpacing:"0",fontWeight:"400"};function ui(t,e,i){var r=ge.exec(e);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):e}function pi(t,e,i,r,s,a){var n="width"===e?1:0,o=0,l=0,h=0;if(i===(r?"border":"content"))return 0;for(;n<4;n+=2)"margin"===i&&(h+=C.css(t,i+me[n],!0,s)),r?("content"===i&&(l-=C.css(t,"padding"+me[n],!0,s)),"margin"!==i&&(l-=C.css(t,"border"+me[n]+"Width",!0,s))):(l+=C.css(t,"padding"+me[n],!0,s),"padding"!==i?l+=C.css(t,"border"+me[n]+"Width",!0,s):o+=C.css(t,"border"+me[n]+"Width",!0,s));return!r&&0<=a&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-o-.5))||0),l+h}function fi(t,e,i){var r=Ve(t),s=(!g.boxSizingReliable()||i)&&"border-box"===C.css(t,"boxSizing",!1,r),a=s,n=ei(t,e,r),o="offset"+e[0].toUpperCase()+e.slice(1);if(Qe.test(n)){if(!i)return n;n="auto"}return(!g.boxSizingReliable()&&s||!g.reliableTrDimensions()&&b(t,"tr")||"auto"===n||!parseFloat(n)&&"inline"===C.css(t,"display",!1,r))&&t.getClientRects().length&&(s="border-box"===C.css(t,"boxSizing",!1,r),a=o in t)&&(n=t[o]),(n=parseFloat(n)||0)+pi(t,e,i||(s?"border":"content"),a,r,n)+"px"}function I(t,e,i,r,s){return new I.prototype.init(t,e,i,r,s)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e)return""===(e=ei(t,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,a,n,o=A(e),l=Ze.test(e),h=t.style;if(l||(e=li(o)),n=C.cssHooks[e]||C.cssHooks[o],void 0===i)return n&&"get"in n&&void 0!==(s=n.get(t,!1,r))?s:h[e];"string"==(a=typeof i)&&(s=ge.exec(i))&&s[1]&&(i=xe(t,e,s),a="number"),null!=i&&i==i&&("number"!==a||l||(i+=s&&s[3]||(C.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),n&&"set"in n&&void 0===(i=n.set(t,i,r))||(l?h.setProperty(e,i):h[e]=i))}},css:function(t,e,i,r){var s,a=A(e);return Ze.test(e)||(e=li(a)),"normal"===(s=void 0===(s=(a=C.cssHooks[e]||C.cssHooks[a])&&"get"in a?a.get(t,!0,i):s)?ei(t,e,r):s)&&e in di&&(s=di[e]),(""===i||i)&&(a=parseFloat(s),!0===i||isFinite(a))?a||0:s}}),C.each(["height","width"],function(t,n){C.cssHooks[n]={get:function(t,e,i){if(e)return!hi.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?fi(t,n,i):Xe(t,ci,function(){return fi(t,n,i)})},set:function(t,e,i){var r=Ve(t),s=!g.scrollboxSize()&&"absolute"===r.position,a=(s||i)&&"border-box"===C.css(t,"boxSizing",!1,r),i=i?pi(t,n,i,a,r):0;return a&&s&&(i-=Math.ceil(t["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(r[n])-pi(t,n,"border",!1,r)-.5)),i&&(a=ge.exec(e))&&"px"!==(a[3]||"px")&&(t.style[n]=e,e=C.css(t,n)),ui(0,e,i)}}}),C.cssHooks.marginLeft=ii(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(ei(t,"marginLeft"))||t.getBoundingClientRect().left-Xe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(s,a){C.cssHooks[s+a]={expand:function(t){for(var e=0,i={},r="string"==typeof t?t.split(" "):[t];e<4;e++)i[s+me[e]+a]=r[e]||r[e-2]||r[0];return i}},"margin"!==s&&(C.cssHooks[s+a].set=ui)}),C.fn.extend({css:function(t,e){return c(this,function(t,e,i){var r,s,a={},n=0;if(Array.isArray(e)){for(r=Ve(t),s=e.length;n<s;n++)a[e[n]]=C.css(t,e[n],!1,r);return a}return void 0!==i?C.style(t,e,i):C.css(t,e)},t,e,1<arguments.length)}}),((C.Tween=I).prototype={constructor:I,init:function(t,e,i,r,s,a){this.elem=t,this.prop=i,this.easing=s||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=a||(C.cssNumber[i]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return(t&&t.get?t:I.propHooks._default).get(this)},run:function(t){var e,i=I.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:I.propHooks._default).set(this),this}}).init.prototype=I.prototype,(I.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=C.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[li(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=I.prototype.init,C.fx.step={};var gi,mi,vi=/^(?:toggle|show|hide)$/,yi=/queueHooks$/;function bi(){mi&&(!1===S.hidden&&w.requestAnimationFrame?w.requestAnimationFrame(bi):w.setTimeout(bi,C.fx.interval),C.fx.tick())}function xi(){return w.setTimeout(function(){gi=void 0}),gi=Date.now()}function _i(t,e){var i,r=0,s={height:t};for(e=e?1:0;r<4;r+=2-e)s["margin"+(i=me[r])]=s["padding"+i]=t;return e&&(s.opacity=s.width=t),s}function wi(t,e,i){for(var r,s=(j.tweeners[e]||[]).concat(j.tweeners["*"]),a=0,n=s.length;a<n;a++)if(r=s[a].call(i,e,t))return r}function j(s,t,e){var i,a,r,n,o,l,h,c=0,d=j.prefilters.length,u=C.Deferred().always(function(){delete p.elem}),p=function(){if(a)return!1;for(var t=gi||xi(),t=Math.max(0,f.startTime+f.duration-t),e=1-(t/f.duration||0),i=0,r=f.tweens.length;i<r;i++)f.tweens[i].run(e);return u.notifyWith(s,[f,e,t]),e<1&&r?t:(r||u.notifyWith(s,[f,1,0]),u.resolveWith(s,[f]),!1)},f=u.promise({elem:s,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},e),originalProperties:t,originalOptions:e,startTime:gi||xi(),duration:e.duration,tweens:[],createTween:function(t,e){e=C.Tween(s,f.opts,t,e,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(e),e},stop:function(t){var e=0,i=t?f.tweens.length:0;if(!a){for(a=!0;e<i;e++)f.tweens[e].run(1);t?(u.notifyWith(s,[f,1,0]),u.resolveWith(s,[f,t])):u.rejectWith(s,[f,t])}return this}}),g=f.props,m=g,v=f.opts.specialEasing;for(r in m)if(o=v[n=A(r)],l=m[r],Array.isArray(l)&&(o=l[1],l=m[r]=l[0]),r!==n&&(m[n]=l,delete m[r]),(h=C.cssHooks[n])&&"expand"in h)for(r in l=h.expand(l),delete m[n],l)r in m||(m[r]=l[r],v[r]=o);else v[n]=o;for(;c<d;c++)if(i=j.prefilters[c].call(f,s,g,f.opts))return y(i.stop)&&(C._queueHooks(f.elem,f.opts.queue).stop=i.stop.bind(i)),i;return C.map(g,wi,f),y(f.opts.start)&&f.opts.start.call(s,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),C.fx.timer(C.extend(p,{elem:s,anim:f,queue:f.opts.queue})),f}C.Animation=C.extend(j,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return xe(i.elem,t,ge.exec(e),i),i}]},tweener:function(t,e){for(var i,r=0,s=(t=y(t)?(e=t,["*"]):t.match(D)).length;r<s;r++)i=t[r],j.tweeners[i]=j.tweeners[i]||[],j.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var r,s,a,n,o,l,h,c="width"in e||"height"in e,d=this,u={},p=t.style,f=t.nodeType&&fe(t),g=v.get(t,"fxshow");for(r in i.queue||(null==(n=C._queueHooks(t,"fx")).unqueued&&(n.unqueued=0,o=n.empty.fire,n.empty.fire=function(){n.unqueued||o()}),n.unqueued++,d.always(function(){d.always(function(){n.unqueued--,C.queue(t,"fx").length||n.empty.fire()})})),e)if(s=e[r],vi.test(s)){if(delete e[r],a=a||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!g||void 0===g[r])continue;f=!0}u[r]=g&&g[r]||C.style(t,r)}if((l=!C.isEmptyObject(e))||!C.isEmptyObject(u))for(r in c&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(h=g&&g.display)&&(h=v.get(t,"display")),"none"===(c=C.css(t,"display"))&&(h?c=h:(we([t],!0),h=t.style.display||h,c=C.css(t,"display"),we([t]))),"inline"===c||"inline-block"===c&&null!=h)&&"none"===C.css(t,"float")&&(l||(d.done(function(){p.display=h}),null==h&&(c=p.display,h="none"===c?"":c)),p.display="inline-block"),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,u)l||(g?"hidden"in g&&(f=g.hidden):g=v.access(t,"fxshow",{display:h}),a&&(g.hidden=!f),f&&we([t],!0),d.done(function(){for(r in f||we([t]),v.remove(t,"fxshow"),u)C.style(t,r,u[r])})),l=wi(f?g[r]:0,r,d),r in g||(g[r]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?j.prefilters.unshift(t):j.prefilters.push(t)}}),C.speed=function(t,e,i){var r=t&&"object"==typeof t?C.extend({},t):{complete:i||!i&&e||y(t)&&t,duration:t,easing:i&&e||e&&!y(e)&&e};return C.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in C.fx.speeds?r.duration=C.fx.speeds[r.duration]:r.duration=C.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&C.dequeue(this,r.queue)},r},C.fn.extend({fadeTo:function(t,e,i,r){return this.filter(fe).css("opacity",0).show().end().animate({opacity:e},t,i,r)},animate:function(e,t,i,r){function s(){var t=j(this,C.extend({},e),n);(a||v.get(this,"finish"))&&t.stop(!0)}var a=C.isEmptyObject(e),n=C.speed(t,i,r);return s.finish=s,a||!1===n.queue?this.each(s):this.queue(n.queue,s)},stop:function(s,t,a){function n(t){var e=t.stop;delete t.stop,e(a)}return"string"!=typeof s&&(a=t,t=s,s=void 0),t&&this.queue(s||"fx",[]),this.each(function(){var t=!0,e=null!=s&&s+"queueHooks",i=C.timers,r=v.get(this);if(e)r[e]&&r[e].stop&&n(r[e]);else for(e in r)r[e]&&r[e].stop&&yi.test(e)&&n(r[e]);for(e=i.length;e--;)i[e].elem!==this||null!=s&&i[e].queue!==s||(i[e].anim.stop(a),t=!1,i.splice(e,1));!t&&a||C.dequeue(this,s)})},finish:function(n){return!1!==n&&(n=n||"fx"),this.each(function(){var t,e=v.get(this),i=e[n+"queue"],r=e[n+"queueHooks"],s=C.timers,a=i?i.length:0;for(e.finish=!0,C.queue(this,n,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===n&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),C.each(["toggle","show","hide"],function(t,r){var s=C.fn[r];C.fn[r]=function(t,e,i){return null==t||"boolean"==typeof t?s.apply(this,arguments):this.animate(_i(r,!0),t,e,i)}}),C.each({slideDown:_i("show"),slideUp:_i("hide"),slideToggle:_i("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){C.fn[t]=function(t,e,i){return this.animate(r,t,e,i)}}),C.timers=[],C.fx.tick=function(){var t,e=0,i=C.timers;for(gi=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||C.fx.stop(),gi=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){mi||(mi=!0,bi())},C.fx.stop=function(){mi=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(r,t){return r=C.fx&&C.fx.speeds[r]||r,this.queue(t=t||"fx",function(t,e){var i=w.setTimeout(t,r);e.stop=function(){w.clearTimeout(i)}})},n=S.createElement("input"),a=S.createElement("select").appendChild(S.createElement("option")),n.type="checkbox",g.checkOn=""!==n.value,g.optSelected=a.selected,(n=S.createElement("input")).value="t",n.type="radio",g.radioValue="t"===n.value;var Si,Ci=C.expr.attrHandle,Ti=(C.fn.extend({attr:function(t,e){return c(this,C.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,i){var r,s,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?C.prop(t,e,i):(1===a&&C.isXMLDoc(t)||(s=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?Si:void 0)),void 0!==i?null===i?void C.removeAttr(t,e):s&&"set"in s&&void 0!==(r=s.set(t,i,e))?r:(t.setAttribute(e,i+""),i):!(s&&"get"in s&&null!==(r=s.get(t,e)))&&null==(r=C.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){var i;if(!g.radioValue&&"radio"===e&&b(t,"input"))return i=t.value,t.setAttribute("type",e),i&&(t.value=i),e}}},removeAttr:function(t,e){var i,r=0,s=e&&e.match(D);if(s&&1===t.nodeType)for(;i=s[r++];)t.removeAttribute(i)}}),Si={set:function(t,e,i){return!1===e?C.removeAttr(t,i):t.setAttribute(i,i),i}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ci[e]||C.find.attr;Ci[e]=function(t,e,i){var r,s,a=e.toLowerCase();return i||(s=Ci[a],Ci[a]=r,r=null!=n(t,e,i)?a:null,Ci[a]=s),r}}),/^(?:input|select|textarea|button)$/i),ki=/^(?:a|area)$/i;function Mi(t){return(t.match(D)||[]).join(" ")}function Ei(t){return t.getAttribute&&t.getAttribute("class")||""}function Pi(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(D)||[]}C.fn.extend({prop:function(t,e){return c(this,C.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({prop:function(t,e,i){var r,s,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&C.isXMLDoc(t)||(e=C.propFix[e]||e,s=C.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(r=s.set(t,i,e))?r:t[e]=i:s&&"get"in s&&null!==(r=s.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):Ti.test(t.nodeName)||ki.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode)&&t.parentNode.selectedIndex}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(e){var t,i,r,s,a,n;return y(e)?this.each(function(t){C(this).addClass(e.call(this,t,Ei(this)))}):(t=Pi(e)).length?this.each(function(){if(r=Ei(this),i=1===this.nodeType&&" "+Mi(r)+" "){for(a=0;a<t.length;a++)s=t[a],i.indexOf(" "+s+" ")<0&&(i+=s+" ");n=Mi(i),r!==n&&this.setAttribute("class",n)}}):this},removeClass:function(e){var t,i,r,s,a,n;return y(e)?this.each(function(t){C(this).removeClass(e.call(this,t,Ei(this)))}):arguments.length?(t=Pi(e)).length?this.each(function(){if(r=Ei(this),i=1===this.nodeType&&" "+Mi(r)+" "){for(a=0;a<t.length;a++)for(s=t[a];-1<i.indexOf(" "+s+" ");)i=i.replace(" "+s+" "," ");n=Mi(i),r!==n&&this.setAttribute("class",n)}}):this:this.attr("class","")},toggleClass:function(e,i){var t,r,s,a,n=typeof e,o="string"==n||Array.isArray(e);return y(e)?this.each(function(t){C(this).toggleClass(e.call(this,t,Ei(this),i),i)}):"boolean"==typeof i&&o?i?this.addClass(e):this.removeClass(e):(t=Pi(e),this.each(function(){if(o)for(a=C(this),s=0;s<t.length;s++)r=t[s],a.hasClass(r)?a.removeClass(r):a.addClass(r);else void 0!==e&&"boolean"!=n||((r=Ei(this))&&v.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",!r&&!1!==e&&v.get(this,"__className__")||""))}))},hasClass:function(t){for(var e,i=0,r=" "+t+" ";e=this[i++];)if(1===e.nodeType&&-1<(" "+Mi(Ei(e))+" ").indexOf(r))return!0;return!1}});function Oi(t){t.stopPropagation()}var Di=/\r/g,Ai=(C.fn.extend({val:function(e){var i,t,r,s=this[0];return arguments.length?(r=y(e),this.each(function(t){1===this.nodeType&&(null==(t=r?e.call(this,t,C(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=C.map(t,function(t){return null==t?"":t+""})),(i=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):s?(i=C.valHooks[s.type]||C.valHooks[s.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(s,"value"))?t:"string"==typeof(t=s.value)?t.replace(Di,""):null==t?"":t:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:Mi(C.text(t))}},select:{get:function(t){for(var e,i=t.options,r=t.selectedIndex,s="select-one"===t.type,a=s?null:[],n=s?r+1:i.length,o=r<0?n:s?r:0;o<n;o++)if(((e=i[o]).selected||o===r)&&!e.disabled&&(!e.parentNode.disabled||!b(e.parentNode,"optgroup"))){if(e=C(e).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,r,s=t.options,a=C.makeArray(e),n=s.length;n--;)((r=s[n]).selected=-1<C.inArray(C.valHooks.option.get(r),a))&&(i=!0);return i||(t.selectedIndex=-1),a}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<C.inArray(C(t).val(),e)}},g.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),w.location),Li={guid:Date.now()},Ii=/\?/,ji=(C.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{e=(new w.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||C.error("Invalid XML: "+(i?C.map(i.childNodes,function(t){return t.textContent}).join("\n"):t)),e},/^(?:focusinfocus|focusoutblur)$/),Fi=(C.extend(C.event,{trigger:function(t,e,i,r){var s,a,n,o,l,h,c,d=[i||S],u=V.call(t,"type")?t.type:t,p=V.call(t,"namespace")?t.namespace.split("."):[],f=c=a=i=i||S;if(3!==i.nodeType&&8!==i.nodeType&&!ji.test(u+C.event.triggered)&&(-1<u.indexOf(".")&&(u=(p=u.split(".")).shift(),p.sort()),o=u.indexOf(":")<0&&"on"+u,(t=t[C.expando]?t:new C.Event(u,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:C.makeArray(e,[t]),h=C.event.special[u]||{},r||!h.trigger||!1!==h.trigger.apply(i,e))){if(!r&&!h.noBubble&&!R(i)){for(n=h.delegateType||u,ji.test(n+u)||(f=f.parentNode);f;f=f.parentNode)d.push(f),a=f;a===(i.ownerDocument||S)&&d.push(a.defaultView||a.parentWindow||w)}for(s=0;(f=d[s++])&&!t.isPropagationStopped();)c=f,t.type=1<s?n:h.bindType||u,(l=(v.get(f,"events")||Object.create(null))[t.type]&&v.get(f,"handle"))&&l.apply(f,e),(l=o&&f[o])&&l.apply&&he(f)&&(t.result=l.apply(f,e),!1===t.result)&&t.preventDefault();return t.type=u,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!he(i)||o&&y(i[u])&&!R(i)&&((a=i[o])&&(i[o]=null),C.event.triggered=u,t.isPropagationStopped()&&c.addEventListener(u,Oi),i[u](),t.isPropagationStopped()&&c.removeEventListener(u,Oi),C.event.triggered=void 0,a)&&(i[o]=a),t.result}},simulate:function(t,e,i){i=C.extend(new C.Event,i,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return C.event.trigger(t,e,i,!0)}}),/\[\]$/),Ri=/\r?\n/g,Bi=/^(?:submit|button|image|reset|file)$/i,Ni=/^(?:input|select|textarea|keygen)/i;C.param=function(t,e){function i(t,e){e=y(e)?e():e,s[s.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var r,s=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){i(this.name,this.value)});else for(r in t)!function i(r,t,s,a){if(Array.isArray(t))C.each(t,function(t,e){s||Fi.test(r)?a(r,e):i(r+"["+("object"==typeof e&&null!=e?t:"")+"]",e,s,a)});else if(s||"object"!==U(t))a(r,t);else for(var e in t)i(r+"["+e+"]",t[e],s,a)}(r,t[r],e,i);return s.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Ni.test(this.nodeName)&&!Bi.test(t)&&(this.checked||!Se.test(t))}).map(function(t,e){var i=C(this).val();return null==i?null:Array.isArray(i)?C.map(i,function(t){return{name:e.name,value:t.replace(Ri,"\r\n")}}):{name:e.name,value:i.replace(Ri,"\r\n")}}).get()}});var zi=/%20/g,Hi=/#.*$/,Wi=/([?&])_=[^&]*/,Vi=/^(.*?):[ \t]*([^\r\n]*)$/gm,Xi=/^(?:GET|HEAD)$/,Yi=/^\/\//,Gi={},qi={},Ui="*/".concat("*"),$i=S.createElement("a");function Ki(a){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,r=0,s=t.toLowerCase().match(D)||[];if(y(e))for(;i=s[r++];)"+"===i[0]?(i=i.slice(1)||"*",(a[i]=a[i]||[]).unshift(e)):(a[i]=a[i]||[]).push(e)}}function Ji(e,r,s,a){var n={},o=e===qi;function l(t){var i;return n[t]=!0,C.each(e[t]||[],function(t,e){e=e(r,s,a);return"string"!=typeof e||o||n[e]?o?!(i=e):void 0:(r.dataTypes.unshift(e),l(e),!1)}),i}return l(r.dataTypes[0])||!n["*"]&&l("*")}function Qi(t,e){var i,r,s=C.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:r=r||{})[i]=e[i]);return r&&C.extend(!0,t,r),t}$i.href=Ai.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ai.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ai.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ui,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Qi(Qi(t,C.ajaxSettings),e):Qi(C.ajaxSettings,t)},ajaxPrefilter:Ki(Gi),ajaxTransport:Ki(qi),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var l,h,c,i,d,u,p,r,s,f=C.ajaxSetup({},e=e||{}),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?C(g):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),b=f.statusCode||{},a={},n={},o="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(u){if(!i)for(i={};e=Vi.exec(c);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?c:null},setRequestHeader:function(t,e){return null==u&&(t=n[t.toLowerCase()]=n[t.toLowerCase()]||t,a[t]=e),this},overrideMimeType:function(t){return null==u&&(f.mimeType=t),this},statusCode:function(t){if(t)if(u)x.always(t[x.status]);else for(var e in t)b[e]=[b[e],t[e]];return this},abort:function(t){t=t||o;return l&&l.abort(t),_(0,t),this}};if(v.promise(x),f.url=((t||f.url||Ai.href)+"").replace(Yi,Ai.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(D)||[""],null==f.crossDomain){s=S.createElement("a");try{s.href=f.url,s.href=s.href,f.crossDomain=$i.protocol+"//"+$i.host!=s.protocol+"//"+s.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Ji(Gi,f,e,x),!u){for(r in(p=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Xi.test(f.type),h=f.url.replace(Hi,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(zi,"+")):(s=f.url.slice(h.length),f.data&&(f.processData||"string"==typeof f.data)&&(h+=(Ii.test(h)?"&":"?")+f.data,delete f.data),!1===f.cache&&(h=h.replace(Wi,"$1"),s=(Ii.test(h)?"&":"?")+"_="+Li.guid+++s),f.url=h+s),f.ifModified&&(C.lastModified[h]&&x.setRequestHeader("If-Modified-Since",C.lastModified[h]),C.etag[h])&&x.setRequestHeader("If-None-Match",C.etag[h]),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ui+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(r,f.headers[r]);if(f.beforeSend&&(!1===f.beforeSend.call(g,x,f)||u))return x.abort();if(o="abort",y.add(f.complete),x.done(f.success),x.fail(f.error),l=Ji(qi,f,e,x)){if(x.readyState=1,p&&m.trigger("ajaxSend",[x,f]),u)return x;f.async&&0<f.timeout&&(d=w.setTimeout(function(){x.abort("timeout")},f.timeout));try{u=!1,l.send(a,_)}catch(t){if(u)throw t;_(-1,t)}}else _(-1,"No Transport")}return x;function _(t,e,i,r){var s,a,n,o=e;u||(u=!0,d&&w.clearTimeout(d),l=void 0,c=r||"",x.readyState=0<t?4:0,r=200<=t&&t<300||304===t,i&&(n=((t,e,i)=>{for(var r,s,a,n,o=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in o)if(o[s]&&o[s].test(r)){l.unshift(s);break}if(l[0]in i)a=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){a=s;break}n=n||s}a=a||n}if(a)return a!==l[0]&&l.unshift(a),i[a]})(f,x,i)),!r&&-1<C.inArray("script",f.dataTypes)&&C.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),n=((t,e,i,r)=>{var s,a,n,o,l,h={},c=t.dataTypes.slice();if(c[1])for(n in t.converters)h[n.toLowerCase()]=t.converters[n];for(a=c.shift();a;)if(t.responseFields[a]&&(i[t.responseFields[a]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(n=h[l+" "+a]||h["* "+a]))for(s in h)if((o=s.split(" "))[1]===a&&(n=h[l+" "+o[0]]||h["* "+o[0]])){!0===n?n=h[s]:!0!==h[s]&&(a=o[0],c.unshift(o[1]));break}if(!0!==n)if(n&&t.throws)e=n(e);else try{e=n(e)}catch(t){return{state:"parsererror",error:n?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}})(f,n,x,r),r?(f.ifModified&&((i=x.getResponseHeader("Last-Modified"))&&(C.lastModified[h]=i),i=x.getResponseHeader("etag"))&&(C.etag[h]=i),204===t||"HEAD"===f.type?o="nocontent":304===t?o="notmodified":(o=n.state,s=n.data,r=!(a=n.error))):(a=o,!t&&o||(o="error",t<0&&(t=0))),x.status=t,x.statusText=(e||o)+"",r?v.resolveWith(g,[s,o,x]):v.rejectWith(g,[x,o,a]),x.statusCode(b),b=void 0,p&&m.trigger(r?"ajaxSuccess":"ajaxError",[x,f,r?s:a]),y.fireWith(g,[x,o]),p&&(m.trigger("ajaxComplete",[x,f]),--C.active||C.event.trigger("ajaxStop")))}},getJSON:function(t,e,i){return C.get(t,e,i,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,s){C[s]=function(t,e,i,r){return y(e)&&(r=r||i,i=e,e=void 0),C.ajax(C.extend({url:t,type:s,dataType:r,data:e,success:i},C.isPlainObject(t)&&t))}}),C.ajaxPrefilter(function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),C._evalUrl=function(t,e,i){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){C.globalEval(t,e,i)}})},C.fn.extend({wrapAll:function(t){return this[0]&&(y(t)&&(t=t.call(this[0])),t=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return y(i)?this.each(function(t){C(this).wrapInner(i.call(this,t))}):this.each(function(){var t=C(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=y(e);return this.each(function(t){C(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new w.XMLHttpRequest}catch(t){}};var Zi={0:200,1223:204},tr=C.ajaxSettings.xhr();g.cors=!!tr&&"withCredentials"in tr,g.ajax=tr=!!tr,C.ajaxTransport(function(s){var a,n;if(g.cors||tr&&!s.crossDomain)return{send:function(t,e){var i,r=s.xhr();if(r.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(i in s.xhrFields)r[i]=s.xhrFields[i];for(i in s.mimeType&&r.overrideMimeType&&r.overrideMimeType(s.mimeType),s.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)r.setRequestHeader(i,t[i]);a=function(t){return function(){a&&(a=n=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?e(0,"error"):e(r.status,r.statusText):e(Zi[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=a(),n=r.onerror=r.ontimeout=a("error"),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&w.setTimeout(function(){a&&n()})},a=a("abort");try{r.send(s.hasContent&&s.data||null)}catch(t){if(a)throw t}},abort:function(){a&&a()}}}),C.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(i){var r,s;if(i.crossDomain||i.scriptAttrs)return{send:function(t,e){r=C("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",s=function(t){r.remove(),s=null,t&&e("error"===t.type?404:200,t.type)}),S.head.appendChild(r[0])},abort:function(){s&&s()}}});var er=[],ir=/(=)\?(?=&|$)|\?\?/,rr=(C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=er.pop()||C.expando+"_"+Li.guid++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,i){var r,s,a,n=!1!==t.jsonp&&(ir.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ir.test(t.data)&&"data");if(n||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,n?t[n]=t[n].replace(ir,"$1"+r):!1!==t.jsonp&&(t.url+=(Ii.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||C.error(r+" was not called"),a[0]},t.dataTypes[0]="json",s=w[r],w[r]=function(){a=arguments},i.always(function(){void 0===s?C(w).removeProp(r):w[r]=s,t[r]&&(t.jsonpCallback=e.jsonpCallback,er.push(r)),a&&y(s)&&s(a[0]),a=s=void 0}),"script"}),g.createHTMLDocument=((t=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),C.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(g.createHTMLDocument?((r=(e=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,e.head.appendChild(r)):e=S),r=!i&&[],(i=qt.exec(t))?[e.createElement(i[1])]:(i=Ee([t],e,r),r&&r.length&&C(r).remove(),C.merge([],i.childNodes)));var r},C.fn.load=function(t,e,i){var r,s,a,n=this,o=t.indexOf(" ");return-1<o&&(r=Mi(t.slice(o)),t=t.slice(0,o)),y(e)?(i=e,e=void 0):e&&"object"==typeof e&&(s="POST"),0<n.length&&C.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done(function(t){a=arguments,n.html(r?C("<div>").append(C.parseHTML(t)).find(r):t)}).always(i&&function(t,e){n.each(function(){i.apply(this,a||[t.responseText,e,t])})}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length},C.offset={setOffset:function(t,e,i){var r,s,a,n,o=C.css(t,"position"),l=C(t),h={};"static"===o&&(t.style.position="relative"),a=l.offset(),r=C.css(t,"top"),n=C.css(t,"left"),o=("absolute"===o||"fixed"===o)&&-1<(r+n).indexOf("auto")?(s=(o=l.position()).top,o.left):(s=parseFloat(r)||0,parseFloat(n)||0),null!=(e=y(e)?e.call(t,i,C.extend({},a)):e).top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+o),"using"in e?e.using.call(t,h):l.css(h)}},C.fn.extend({offset:function(e){var t,i;return arguments.length?void 0===e?this:this.each(function(t){C.offset.setOffset(this,e,t)}):(i=this[0])?i.getClientRects().length?(t=i.getBoundingClientRect(),i=i.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,r=this[0],s={top:0,left:0};if("fixed"===C.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),i=r.ownerDocument,t=r.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((s=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),s.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-s.top-C.css(r,"marginTop",!0),left:e.left-s.left-C.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||ve})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,s){var a="pageYOffset"===s;C.fn[e]=function(t){return c(this,function(t,e,i){var r;if(R(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===i)return r?r[s]:t[e];r?r.scrollTo(a?r.pageXOffset:i,a?i:r.pageYOffset):t[e]=i},e,t,arguments.length)}}),C.each(["top","left"],function(t,i){C.cssHooks[i]=ii(g.pixelPosition,function(t,e){if(e)return e=ei(t,i),Qe.test(e)?C(t).position()[i]+"px":e})}),C.each({Height:"height",Width:"width"},function(n,o){C.each({padding:"inner"+n,content:o,"":"outer"+n},function(r,a){C.fn[a]=function(t,e){var i=arguments.length&&(r||"boolean"!=typeof t),s=r||(!0===t||!0===e?"margin":"border");return c(this,function(t,e,i){var r;return R(t)?0===a.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+n],r["scroll"+n],t.body["offset"+n],r["offset"+n],r["client"+n])):void 0===i?C.css(t,e,s):C.style(t,e,i,s)},o,i?t:void 0,i)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,r){return this.on(e,t,i,r)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){C.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),sr=(C.proxy=function(t,e){var i,r;if("string"==typeof e&&(r=t[e],e=t,t=r),y(t))return i=o.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||C.guid++,r},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=b,C.isFunction=y,C.isWindow=R,C.camelCase=A,C.type=U,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?"":(t+"").replace(rr,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return C}),w.jQuery),ar=w.$;return C.noConflict=function(t){return w.$===C&&(w.$=ar),t&&w.jQuery===C&&(w.jQuery=sr),C},void 0===F&&(w.jQuery=w.$=C),C}),((t,e)=>{"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()})(this,function(){return r=[function(t,e,i){function r(){var i=d();return i.compile=function(t,e){return l.compile(t,e,i)},i.precompile=function(t,e){return l.precompile(t,e,i)},i.AST=n.default,i.Compiler=l.Compiler,i.JavaScriptCompiler=h.default,i.Parser=o.parser,i.parse=o.parse,i.parseWithoutProcessing=o.parseWithoutProcessing,i}var s=i(1).default;e.__esModule=!0;var a=s(i(2)),n=s(i(84)),o=i(85),l=i(90),h=s(i(91)),c=s(i(88)),s=s(i(83)),d=a.default.create,i=r();i.create=r,s.default(i),i.Visitor=c.default,i.default=i,e.default=i,t.exports=e.default},function(t,e){e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,i){function r(){var e=new n.HandlebarsEnvironment;return h.extend(e,n),e.SafeString=o.default,e.Exception=l.default,e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var s=i(3).default,a=i(1).default;e.__esModule=!0;var n=s(i(4)),o=a(i(77)),l=a(i(6)),h=s(i(5)),c=s(i(78)),s=a(i(83)),a=r();a.create=r,s.default(a),a.default=a,e.default=a,t.exports=e.default},function(t,e){e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e},e.__esModule=!0},function(t,e,i){function r(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},o.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var s=i(1).default,a=(e.__esModule=!0,e.HandlebarsEnvironment=r,i(5)),n=s(i(6)),o=i(10),l=i(70),s=s(i(72)),h=i(73),c=(e.VERSION="4.7.8",e.COMPILER_REVISION=8,e.LAST_COMPATIBLE_COMPILER_REVISION=7,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"},"[object Object]"),i=(r.prototype={constructor:r,logger:s.default,log:s.default.log,registerHelper:function(t,e){if(a.toString.call(t)===c){if(e)throw new n.default("Arg not supported with multiple helpers");a.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(a.toString.call(t)===c)a.extend(this.partials,t);else{if(void 0===e)throw new n.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(a.toString.call(t)===c){if(e)throw new n.default("Arg not supported with multiple decorators");a.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){h.resetLoggedProperties()}},s.default.log);e.log=i,e.createFrame=a.createFrame,e.logger=s.default},function(t,e){function i(t){return s[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}e.__esModule=!0,e.extend=r,e.indexOf=function(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return n.test(t)?t.replace(a,i):t},e.isEmpty=function(t){return!t&&0!==t||!(!h(t)||0!==t.length)},e.createFrame=function(t){var e=r({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},a=/[&<>"'`=]/g,n=/[&<>"'`=]/,o=Object.prototype.toString,l=(e.toString=o,function(t){return"function"==typeof t}),h=(l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===o.call(t)}),e.isFunction=l,Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===o.call(t)});e.isArray=h},function(t,e,i){function l(t,e){var e=e&&e.loc,i=void 0,r=void 0,s=void 0,a=void 0;e&&(i=e.start.line,r=e.end.line,s=e.start.column,a=e.end.column,t+=" - "+i+":"+s);for(var n=Error.prototype.constructor.call(this,t),o=0;o<c.length;o++)this[c[o]]=n[c[o]];Error.captureStackTrace&&Error.captureStackTrace(this,l);try{e&&(this.lineNumber=i,this.endLineNumber=r,h?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:a,enumerable:!0})):(this.column=s,this.endColumn=a))}catch(t){}}var h=i(7).default,c=(e.__esModule=!0,["description","fileName","lineNumber","endLineNumber","message","name","number","stack"]);l.prototype=new Error,e.default=l,t.exports=e.default},function(t,e,i){t.exports={default:i(8),__esModule:!0}},function(t,e,i){var r=i(9);t.exports=function(t,e,i){return r.setDesc(t,e,i)}},function(t,e){var i=Object;t.exports={create:i.create,getProto:i.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:i.getOwnPropertyDescriptor,setDesc:i.defineProperty,setDescs:i.defineProperties,getKeys:i.keys,getNames:i.getOwnPropertyNames,getSymbols:i.getOwnPropertySymbols,each:[].forEach}},function(t,e,i){var r=i(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){s.default(t),a.default(t),n.default(t),o.default(t),l.default(t),h.default(t),c.default(t)},e.moveHelperToHooks=function(t,e,i){t.helpers[e]&&(t.hooks[e]=t.helpers[e],i||delete t.helpers[e])};var s=r(i(11)),a=r(i(12)),n=r(i(65)),o=r(i(66)),l=r(i(67)),h=r(i(68)),c=r(i(69))},function(t,e,i){e.__esModule=!0;var a=i(5);e.default=function(s){s.registerHelper("blockHelperMissing",function(t,e){var i=e.inverse,r=e.fn;return!0===t?r(this):!1===t||null==t?i(this):a.isArray(t)?0<t.length?(e.ids&&(e.ids=[e.name]),s.helpers.each(t,e)):i(this):(e.data&&e.ids&&((i=a.createFrame(e.data)).contextPath=a.appendContextPath(e.data.contextPath,e.name),e={data:i}),r(t,e))})},t.exports=e.default},function(t,e,i){var f=i(13).default,g=i(43).default,m=i(55).default,v=i(60).default,r=i(1).default,y=(e.__esModule=!0,i(5)),b=r(i(6));e.default=function(t){t.registerHelper("each",function(r,t){function e(t,e,i){l&&(l.key=t,l.index=e,l.first=0===e,l.last=!!i,h)&&(l.contextPath=h+t),o+=s(r[t],{data:l,blockParams:y.blockParams([r[t],t],[h+t,null])})}if(!t)throw new b.default("Must pass iterator to #each");var i,s=t.fn,a=t.inverse,n=0,o="",l=void 0,h=void 0;if(t.data&&t.ids&&(h=y.appendContextPath(t.data.contextPath,t.ids[0])+"."),y.isFunction(r)&&(r=r.call(this)),t.data&&(l=y.createFrame(t.data)),r&&"object"==typeof r)if(y.isArray(r))for(var c=r.length;n<c;n++)n in r&&e(n,n,n===r.length-1);else if("function"==typeof f&&r[g]){for(var d=[],u=m(r),p=u.next();!p.done;p=u.next())d.push(p.value);for(c=(r=d).length;n<c;n++)e(n,n,n===r.length-1)}else i=void 0,v(r).forEach(function(t){void 0!==i&&e(i,n-1),i=t,n++}),void 0!==i&&e(i,n-1,!0);return o=0===n?a(this):o})},t.exports=e.default},function(t,e,i){t.exports={default:i(14),__esModule:!0}},function(t,e,i){i(15),i(42),t.exports=i(21).Symbol},function(F,R,t){function i(e){var t=O[e]=S(C.prototype);return t._k=e,d&&M&&L(A,e,{configurable:!0,set:function(t){c(this,E)&&c(this[E],e)&&(this[E][e]=!1),L(this,e,x(1,t))}}),t}function r(t,e){W(t);for(var i,r=z(e=b(e)),s=0,a=r.length;s<a;)j(t,i=r[s++],e[i]);return t}function e(t,e){return void 0===e?S(t):r(S(t),e)}function s(t){var e=X.call(this,t);return!(e||!c(this,t)||!c(O,t)||c(this,E)&&this[E][t])||e}function a(t,e){var i=_(t=b(t),e);return!i||!c(O,e)||c(t,E)&&t[E][e]||(i.enumerable=!0),i}function n(t){for(var e,i=V(b(t)),r=[],s=0;i.length>s;)c(O,e=i[s++])||e==E||r.push(e);return r}function o(t){for(var e,i=V(b(t)),r=[],s=0;i.length>s;)c(O,e=i[s++])&&r.push(O[e]);return r}var l=t(9),h=t(16),c=t(17),d=t(18),u=t(20),p=t(24),f=t(19),g=t(27),m=t(28),B=t(30),v=t(29),N=t(31),y=t(36),z=t(37),H=t(38),W=t(39),b=t(32),x=t(26),_=l.getDesc,w=l.setDesc,S=l.create,V=y.get,C=h.Symbol,T=h.JSON,k=T&&T.stringify,M=!1,E=v("_hidden"),X=l.isEnum,P=g("symbol-registry"),O=g("symbols"),D="function"==typeof C,A=Object.prototype,L=d&&f(function(){return 7!=S(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a})?function(t,e,i){var r=_(A,e);r&&delete A[e],w(t,e,i),r&&t!==A&&w(A,e,r)}:w,I=function(t){return"symbol"==typeof t},j=function(t,e,i){return(i&&c(O,e)?(i.enumerable?(c(t,E)&&t[E][e]&&(t[E][e]=!1),i=S(i,{enumerable:x(0,!1)})):(c(t,E)||w(t,E,x(1,{})),t[E][e]=!0),L):w)(t,e,i)},g=f(function(){var t=C();return"[null]"!=k([t])||"{}"!=k({a:t})||"{}"!=k(Object(t))}),Y=(D||(p((C=function(){if(I(this))throw TypeError("Symbol is not a constructor");return i(B(0<arguments.length?arguments[0]:void 0))}).prototype,"toString",function(){return this._k}),I=function(t){return t instanceof C},l.create=e,l.isEnum=s,l.getDesc=a,l.setDesc=j,l.setDescs=r,l.getNames=y.get=n,l.getSymbols=o,d&&!t(41)&&p(A,"propertyIsEnumerable",s,!0)),{for:function(t){return c(P,t+="")?P[t]:P[t]=C(t)},keyFor:function(t){return N(P,t)},useSetter:function(){M=!0},useSimple:function(){M=!1}});l.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(t){var e=v(t);Y[t]=D?e:i(e)}),M=!0,u(u.G+u.W,{Symbol:C}),u(u.S,"Symbol",Y),u(u.S+u.F*!D,"Object",{create:e,defineProperty:j,defineProperties:r,getOwnPropertyDescriptor:a,getOwnPropertyNames:n,getOwnPropertySymbols:o}),T&&u(u.S+u.F*(!D||g),"JSON",{stringify:function(t){if(void 0!==t&&!I(t)){for(var i,e=[t],r=1,s=arguments;r<s.length;)e.push(s[r++]);return!(i="function"==typeof(t=e[1])?t:i)&&H(t)||(t=function(t,e){if(i&&(e=i.call(this,t,e)),!I(e))return e}),e[1]=t,k.apply(T,e)}}}),m(C,"Symbol"),m(Math,"Math",!0),m(h.JSON,"JSON",!0)},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){t.exports=!i(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){function f(t,e,i){var r,s,a,n=t&f.F,o=t&f.G,l=t&f.S,h=t&f.P,c=t&f.B,d=t&f.W,u=o?m:m[e]||(m[e]={}),p=o?g:l?g[e]:(g[e]||{})[y];for(r in i=o?e:i)s=!n&&p&&r in p,s&&r in u||(a=(s?p:i)[r],u[r]=o&&"function"!=typeof p[r]?i[r]:c&&s?v(a,g):d&&p[r]==a?(e=>{function t(t){return this instanceof e?new e(t):e(t)}return t[y]=e[y],t})(a):h&&"function"==typeof a?v(Function.call,a):a,h&&((u[y]||(u[y]={}))[r]=a))}var g=i(16),m=i(21),v=i(22),y="prototype";f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,t.exports=f},function(t,e){t=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},function(t,e,i){var a=i(23);t.exports=function(r,s,t){if(a(r),void 0===s)return r;switch(t){case 1:return function(t){return r.call(s,t)};case 2:return function(t,e){return r.call(s,t,e)};case 3:return function(t,e,i){return r.call(s,t,e,i)}}return function(){return r.apply(s,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){t.exports=i(25)},function(t,e,i){var r=i(9),s=i(26);t.exports=i(18)?function(t,e,i){return r.setDesc(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var i=i(16),r="__core-js_shared__",s=i[r]||(i[r]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,e,i){var r=i(9).setDesc,s=i(17),a=i(29)("toStringTag");t.exports=function(t,e,i){t&&!s(t=i?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e,i){var r=i(27)("wks"),s=i(30),a=i(16).Symbol;t.exports=function(t){return r[t]||(r[t]=a&&a[t]||(a||s)("Symbol."+t))}},function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},function(t,e,i){var o=i(9),l=i(32);t.exports=function(t,e){for(var i,r=l(t),s=o.getKeys(r),a=s.length,n=0;n<a;)if(r[i=s[n++]]===e)return i}},function(t,e,i){var r=i(33),s=i(35);t.exports=function(t){return r(s(t))}},function(t,e,i){var r=i(34);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var r=i(32),s=i(9).getNames,a={}.toString,n="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.get=function(t){if(!n||"[object Window]"!=a.call(t))return s(r(t));try{return s(t)}catch(t){return n.slice()}}},function(t,e,i){var o=i(9);t.exports=function(t){var e=o.getKeys(t),i=o.getSymbols;if(i)for(var r,s=i(t),a=o.isEnum,n=0;s.length>n;)a.call(t,r=s[n++])&&e.push(r);return e}},function(t,e,i){var r=i(34);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,i){var r=i(40);t.exports=function(t){if(r(t))return t;throw TypeError(t+" is not an object!")}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=!0},function(t,e){},function(t,e,i){t.exports={default:i(44),__esModule:!0}},function(t,e,i){i(45),i(51),t.exports=i(29)("iterator")},function(t,e,i){var r=i(46)(!0);i(48)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=r(t,e),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){var a=i(47),n=i(35);t.exports=function(s){return function(t,e){var i,t=String(n(t)),e=a(e),r=t.length;return e<0||r<=e?s?"":void 0:(i=t.charCodeAt(e))<55296||56319<i||e+1===r||(r=t.charCodeAt(e+1))<56320||57343<r?s?t.charAt(e):i:s?t.slice(e,e+2):r-56320+(i-55296<<10)+65536}}},function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:i)(t)}},function(t,e,i){function g(){return this}var m=i(41),v=i(20),y=i(24),b=i(25),x=i(17),_=i(49),w=i(50),S=i(28),C=i(9).getProto,T=i(29)("iterator"),k=!([].keys&&"next"in[].keys()),M="@@iterator",E="values";t.exports=function(t,e,i,r,s,a,n){w(i,e,r);function o(t){if(!k&&t in u)return u[t];switch(t){case"keys":case E:return function(){return new i(this,t)}}return function(){return new i(this,t)}}var l,h,r=e+" Iterator",c=s==E,d=!1,u=t.prototype,p=u[T]||u[M]||s&&u[s],f=p||o(s);if(p&&(t=C(f.call(new t)),S(t,r,!0),!m&&x(u,M)&&b(t,T,g),c)&&p.name!==E&&(d=!0,f=function(){return p.call(this)}),m&&!n||!k&&!d&&u[T]||b(u,T,f),_[e]=f,_[r]=g,s)if(l={values:c?f:o(E),keys:a?f:o("keys"),entries:c?o("entries"):f},n)for(h in l)h in u||y(u,h,l[h]);else v(v.P+v.F*(k||d),e,l);return l}},function(t,e){t.exports={}},function(t,e,i){var r=i(9),s=i(26),a=i(28),n={};i(25)(n,i(29)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=r.create(n,{next:s(1,i)}),a(t,e+" Iterator")}},function(t,e,i){i(52);i=i(49);i.NodeList=i.HTMLCollection=i.Array},function(t,e,i){var r=i(53),s=i(54),a=i(49),n=i(32);t.exports=i(48)(Array,"Array",function(t,e){this._t=n(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,s(1)):s(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){t.exports={default:i(56),__esModule:!0}},function(t,e,i){i(51),i(45),t.exports=i(57)},function(t,e,i){var r=i(39),s=i(58);t.exports=i(21).getIterator=function(t){var e=s(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,i){var r=i(59),s=i(29)("iterator"),a=i(49);t.exports=i(21).getIteratorMethod=function(t){if(null!=t)return t[s]||t["@@iterator"]||a[r(t)]}},function(t,e,i){var r=i(34),s=i(29)("toStringTag"),a="Arguments"==r(function(){return arguments}());t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=(t=Object(t))[s])?e:a?r(t):"Object"==(e=r(t))&&"function"==typeof t.callee?"Arguments":e}},function(t,e,i){t.exports={default:i(61),__esModule:!0}},function(t,e,i){i(62),t.exports=i(21).Object.keys},function(t,e,i){var r=i(63);i(64)("keys",function(e){return function(t){return e(r(t))}})},function(t,e,i){var r=i(35);t.exports=function(t){return Object(r(t))}},function(t,e,i){var s=i(20),a=i(21),n=i(19);t.exports=function(t,e){var i=(a.Object||{})[t]||Object[t],r={};r[t]=e(i),s(s.S+s.F*n(function(){i(1)}),"Object",r)}},function(t,e,i){var r=i(1).default;e.__esModule=!0;var s=r(i(6));e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,i){var r=i(1).default,s=(e.__esModule=!0,i(5)),a=r(i(6));e.default=function(i){i.registerHelper("if",function(t,e){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return s.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||s.isEmpty(t)?e.inverse(this):e.fn(this)}),i.registerHelper("unless",function(t,e){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return i.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})})},t.exports=e.default},function(t,e){e.__esModule=!0,e.default=function(s){s.registerHelper("log",function(){for(var t=[void 0],e=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var r=1;null!=e.hash.level?r=e.hash.level:e.data&&null!=e.data.level&&(r=e.data.level),t[0]=r,s.log.apply(s,t)})},t.exports=e.default},function(t,e){e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e,i){return t&&i.lookupProperty(t,e)})},t.exports=e.default},function(t,e,i){var r=i(1).default,s=(e.__esModule=!0,i(5)),a=r(i(6));e.default=function(t){t.registerHelper("with",function(t,e){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");s.isFunction(t)&&(t=t.call(this));var i,r=e.fn;return s.isEmpty(t)?e.inverse(this):(i=e.data,e.data&&e.ids&&((i=s.createFrame(e.data)).contextPath=s.appendContextPath(e.data.contextPath,e.ids[0])),r(t,{data:i,blockParams:s.blockParams([t],[i&&i.contextPath])}))})},t.exports=e.default},function(t,e,i){var r=i(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){s.default(t)};var s=r(i(71))},function(t,e,i){e.__esModule=!0;var n=i(5);e.default=function(t){t.registerDecorator("inline",function(r,s,a,t){var e=r;return s.partials||(s.partials={},e=function(t,e){var i=a.partials,t=(a.partials=n.extend({},i,s.partials),r(t,e));return a.partials=i,t}),s.partials[t.args[0]]=t.fn,e})},t.exports=e.default},function(t,e,i){e.__esModule=!0;var r=i(5),s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){var e;return t="string"==typeof t?0<=(e=r.indexOf(s.methodMap,t.toLowerCase()))?e:parseInt(t,10):t},log:function(t){if(t=s.lookupLevel(t),"undefined"!=typeof console&&s.lookupLevel(s.level)<=t){t=s.methodMap[t];console[t]||(t="log");for(var e=arguments.length,i=Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];console[t].apply(console,i)}}};e.default=s,t.exports=e.default},function(t,e,i){function r(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(!0!==h[t=e]&&(h[t]=!0,l.default.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details')),!1)}var s=i(74).default,a=i(60).default,n=i(1).default,o=(e.__esModule=!0,e.createProtoAccessControl=function(t){var e=s(null),i=(e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1,s(null));return i.__proto__=!1,{properties:{whitelist:o.createNewLookupObject(i,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:o.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,i){return r("function"==typeof t?e.methods:e.properties,i)},e.resetLoggedProperties=function(){a(h).forEach(function(t){delete h[t]})},i(76)),l=n(i(72)),h=s(null)},function(t,e,i){t.exports={default:i(75),__esModule:!0}},function(t,e,i){var r=i(9);t.exports=function(t,e){return r.create(t,e)}},function(t,e,i){var r=i(74).default,s=(e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return s.extend.apply(void 0,[r(null)].concat(e))},i(5))},function(t,e){function i(t){this.string=t}e.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},e.default=i,t.exports=e.default},function(t,e,i){function o(r,t,s,a,e,n,o){function i(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=o;return!o||t==o[0]||t===r.nullContext&&null===o[0]||(i=[t].concat(o)),s(r,t,r.helpers,r.partials,e.data||a,n&&[e.blockParams].concat(n),i)}return(i=u(s,i,r,o,a,n)).program=t,i.depth=o?o.length:0,i.blockParams=e||0,i}function n(){return""}function u(t,e,i,r,s,a){return t.decorator&&(e=t.decorator(e,t={},i,r&&r[0],s,a,r),p.extend(e,t)),e}var r=i(79).default,a=i(60).default,s=i(3).default,l=i(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,i=g.COMPILER_REVISION;if(!(g.LAST_COMPATIBLE_COMPILER_REVISION<=e&&e<=g.COMPILER_REVISION)){if(e<g.LAST_COMPATIBLE_COMPILER_REVISION)throw i=g.REVISION_CHANGES[i],e=g.REVISION_CHANGES[e],new f.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+e+").");throw new f.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(l,h){function c(t){function e(t){return""+l.main(d,t,d.helpers,d.partials,a,o,n)}var i,r,s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s.data,n=(c._setup(s),!s.partial&&l.useData&&(i=t,(r=a)&&"root"in r||((r=r?g.createFrame(r):{}).root=i),a=r),void 0),o=l.useBlockParams?[]:void 0;return l.useDepths&&(n=s.depths?t!=s.depths[0]?[t].concat(s.depths):s.depths:[t]),(e=u(l.main,e,d,s.depths||[],a,o))(t,s)}if(!h)throw new f.default("No environment passed to template");if(!l||!l.main)throw new f.default("Unknown template object: "+typeof l);l.main.decorator=l.main_d,h.VM.checkRevision(l.compiler);var i=l.compiler&&7===l.compiler[0],d={strict:function(t,e,i){if(t&&e in t)return d.lookupProperty(t,e);throw new f.default('"'+e+'" not defined in '+t,{loc:i})},lookupProperty:function(t,e){var i=t[e];return null==i||Object.prototype.hasOwnProperty.call(t,e)||y.resultIsAllowed(i,d.protoAccessControl,e)?i:void 0},lookup:function(t,e){for(var i=t.length,r=0;r<i;r++)if(null!=(t[r]&&d.lookupProperty(t[r],e)))return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:p.escapeExpression,invokePartial:function(t,e,i){i.hash&&(e=p.extend({},e,i.hash),i.ids)&&(i.ids[0]=!0),t=h.VM.resolvePartial.call(this,t,e,i);var r=p.extend({},i,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),s=h.VM.invokePartial.call(this,t,e,r);if(null==s&&h.compile&&(i.partials[i.name]=h.compile(t,l.compilerOptions,h),s=i.partials[i.name](e,r)),null==s)throw new f.default("The partial "+i.name+" could not be compiled when running in runtime-only mode");if(i.indent){for(var a=s.split("\n"),n=0,o=a.length;n<o&&(a[n]||n+1!==o);n++)a[n]=i.indent+a[n];s=a.join("\n")}return s},fn:function(t){var e=l[t];return e.decorator=l[t+"_d"],e},programs:[],program:function(t,e,i,r,s){var a=this.programs[t],n=this.fn(t);return a=e||s||r||i?o(this,t,n,e,i,r,s):a||(this.programs[t]=o(this,t,n))},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var i=t||e;return i=t&&e&&t!==e?p.extend({},e,t):i},nullContext:r({}),noop:h.VM.noop,compilerInfo:l.compiler};return c.isTop=!0,c._setup=function(t){var e,r,s;t.partial?(d.protoAccessControl=t.protoAccessControl,d.helpers=t.helpers,d.partials=t.partials,d.decorators=t.decorators,d.hooks=t.hooks):(e=p.extend({},h.helpers,t.helpers),s=d,a(r=e).forEach(function(t){var e,i=r[t];r[t]=(e=s.lookupProperty,v.wrapHelper(i,function(t){return p.extend({lookupProperty:e},t)}))}),d.helpers=e,l.usePartial&&(d.partials=d.mergeIfNeeded(t.partials,h.partials)),(l.usePartial||l.useDecorators)&&(d.decorators=p.extend({},h.decorators,t.decorators)),d.hooks={},d.protoAccessControl=y.createProtoAccessControl(t),e=t.allowCallsToHelperMissing||i,m.moveHelperToHooks(d,"helperMissing",e),m.moveHelperToHooks(d,"blockHelperMissing",e))},c._child=function(t,e,i,r){if(l.useBlockParams&&!i)throw new f.default("must pass block params");if(l.useDepths&&!r)throw new f.default("must pass parent depths");return o(d,t,l[t],e,0,i,r)},c},e.wrapProgram=o,e.resolvePartial=function(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t},e.invokePartial=function(t,e,i){var r,s=i.data&&i.data["partial-block"],a=(i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath),void 0);if(i.fn&&i.fn!==n&&(i.data=g.createFrame(i.data),r=i.fn,a=i.data["partial-block"]=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.data=g.createFrame(e.data),e.data["partial-block"]=s,r(t,e)},r.partials&&(i.partials=p.extend({},i.partials,r.partials))),void 0===(t=void 0===t&&a?a:t))throw new f.default("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)},e.noop=n;var p=s(i(5)),f=l(i(6)),g=i(4),m=i(10),v=i(82),y=i(73)},function(t,e,i){t.exports={default:i(80),__esModule:!0}},function(t,e,i){i(81),t.exports=i(21).Object.seal},function(t,e,i){var r=i(40);i(64)("seal",function(e){return function(t){return e&&r(t)?e(t):t}})},function(t,e){e.__esModule=!0,e.wrapHelper=function(e,i){return"function"!=typeof e?e:function(){var t=arguments[arguments.length-1];return arguments[arguments.length-1]=i(t),e.apply(this,arguments)}}},function(t,e){e.__esModule=!0,e.default=function(t){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var e=globalThis.Handlebars;t.noConflict=function(){return globalThis.Handlebars===t&&(globalThis.Handlebars=e),t}},t.exports=e.default},function(t,e){e.__esModule=!0;var i={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!i.helpers.scopedId(t)&&!t.depth}}};e.default=i,t.exports=e.default},function(t,e,i){function r(t,e){return"Program"===t.type?t:((n.default.yy=l).locInfo=function(t){return new l.SourceLocation(e&&e.srcName,t)},n.default.parse(t))}var s=i(1).default,a=i(3).default;e.__esModule=!0,e.parseWithoutProcessing=r,e.parse=function(t,e){return t=r(t,e),new o.default(e).accept(t)};var n=s(i(86)),o=s(i(87)),s=a(i(89)),a=i(5),l=(e.parser=n.default,{});a.extend(l,s)},function(t,e){e.__esModule=!0;(i={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,i,r,s,a,n){var o=a.length-1;switch(s){case 1:return a[o-1];case 2:this.$=r.prepareProgram(a[o]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=a[o];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(a[o]),strip:r.stripFlags(a[o],a[o]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:a[o],value:a[o],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(a[o-2],a[o-1],a[o],this._$);break;case 12:this.$={path:a[o-3],params:a[o-2],hash:a[o-1]};break;case 13:this.$=r.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!1,this._$);break;case 14:this.$=r.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!0,this._$);break;case 15:this.$={open:a[o-5],path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:r.stripFlags(a[o-5],a[o])};break;case 16:case 17:this.$={path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:r.stripFlags(a[o-5],a[o])};break;case 18:this.$={strip:r.stripFlags(a[o-1],a[o-1]),program:a[o]};break;case 19:var l=r.prepareBlock(a[o-2],a[o-1],a[o],a[o],!1,this._$),l=r.prepareProgram([l],a[o-1].loc);l.chained=!0,this.$={strip:a[o-2].strip,program:l,chain:!0};break;case 20:this.$=a[o];break;case 21:this.$={path:a[o-1],strip:r.stripFlags(a[o-2],a[o])};break;case 22:case 23:this.$=r.prepareMustache(a[o-3],a[o-2],a[o-1],a[o-4],r.stripFlags(a[o-4],a[o]),this._$);break;case 24:this.$={type:"PartialStatement",name:a[o-3],params:a[o-2],hash:a[o-1],indent:"",strip:r.stripFlags(a[o-4],a[o]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(a[o-2],a[o-1],a[o],this._$);break;case 26:this.$={path:a[o-3],params:a[o-2],hash:a[o-1],strip:r.stripFlags(a[o-4],a[o])};break;case 27:case 28:this.$=a[o];break;case 29:this.$={type:"SubExpression",path:a[o-3],params:a[o-2],hash:a[o-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:a[o],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(a[o-2]),value:a[o],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(a[o-1]);break;case 33:case 34:this.$=a[o];break;case 35:this.$={type:"StringLiteral",value:a[o],original:a[o],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(a[o]),original:Number(a[o]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===a[o],original:"true"===a[o],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:case 41:this.$=a[o];break;case 42:this.$=r.preparePath(!0,a[o],this._$);break;case 43:this.$=r.preparePath(!1,a[o],this._$);break;case 44:a[o-2].push({part:r.id(a[o]),original:a[o],separator:a[o-1]}),this.$=a[o-2];break;case 45:this.$=[{part:r.id(a[o]),original:a[o]}];break;case 46:this.$=[];break;case 47:a[o-1].push(a[o]);break;case 48:this.$=[];break;case 49:a[o-1].push(a[o]);break;case 50:this.$=[];break;case 51:a[o-1].push(a[o]);break;case 58:this.$=[];break;case 59:a[o-1].push(a[o]);break;case 64:this.$=[];break;case 65:a[o-1].push(a[o]);break;case 70:this.$=[];break;case 71:a[o-1].push(a[o]);break;case 78:this.$=[];break;case 79:a[o-1].push(a[o]);break;case 82:this.$=[];break;case 83:a[o-1].push(a[o]);break;case 86:this.$=[];break;case 87:a[o-1].push(a[o]);break;case 90:this.$=[];break;case 91:a[o-1].push(a[o]);break;case 94:this.$=[];break;case 95:a[o-1].push(a[o]);break;case 98:this.$=[a[o]];break;case 99:a[o-1].push(a[o]);break;case 100:this.$=[a[o]];break;case 101:a[o-1].push(a[o])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,i=[0],r=[null],s=[],a=this.table,n="",o=0,l=0,h=0,c=(this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={}),this.lexer.yylloc),d=(s.push(c),this.lexer.options&&this.lexer.options.ranges);"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,p,f,g,m,v,y,b,x={};;){if(f=i[i.length-1],void 0===(g=this.defaultActions[f]||(null==u&&(_=void 0,u=_="number"!=typeof(_=e.lexer.lex()||1)&&e.symbols_[_]||_),a[f]&&a[f][u]))||!g.length||!g[0]){var _;if(!h){for(m in b=[],a[f])this.terminals_[m]&&2<m&&b.push("'"+this.terminals_[m]+"'");_=this.lexer.showPosition?"Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:c,expected:b})}}if(g[0]instanceof Array&&1<g.length)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+u);switch(g[0]){case 1:i.push(u),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(g[1]),u=null,p?(u=p,p=null):(l=this.lexer.yyleng,n=this.lexer.yytext,o=this.lexer.yylineno,c=this.lexer.yylloc,0<h&&h--);break;case 2:if(v=this.productions_[g[1]][1],x.$=r[r.length-v],x._$={first_line:s[s.length-(v||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(v||1)].first_column,last_column:s[s.length-1].last_column},d&&(x._$.range=[s[s.length-(v||1)].range[0],s[s.length-1].range[1]]),void 0!==(y=this.performAction.call(x,n,l,o,this.yy,g[1],r,s)))return y;v&&(i=i.slice(0,-1*v*2),r=r.slice(0,-1*v),s=s.slice(0,-1*v)),i.push(this.productions_[g[1]][0]),r.push(x.$),s.push(x._$),y=a[i[i.length-2]][i[i.length-1]],i.push(y);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g),t=(this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e,this.match.split(/(?:\r\n?|\n)/g)),r=(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1),this.yylloc.range);return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===t.length?this.yylloc.first_column:0)+t[t.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),a=0;a<s.length&&(!(e=this._input.match(this.rules[s[a]]))||t&&!(e[0].length>t[0].length)||(t=e,i=a,this.options.flex));a++);return t?((r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],r=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,i,e,r){function s(t,e){return i.yytext=i.yytext.substring(t,i.yyleng-e+t)}switch(e){case 0:if("\\\\"===i.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===i.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),i.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(s(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(i.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return i.yytext=s(1,2).replace(/\\"/g,'"'),80;case 32:return i.yytext=s(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return i.yytext=i.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};var i=new((r.prototype=i).Parser=r);function r(){this.yy={}}e.default=i,t.exports=e.default},function(t,e,i){function r(){this.options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0]}function u(t,e,i){var r=t[(e=void 0===e?t.length:e)-1];return r?"ContentStatement"===r.type?(t[e-2]||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:i}function p(t,e,i){var r=t[(e=void 0===e?-1:e)+1];return r?"ContentStatement"===r.type?(t[e+2]||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:i}function f(t,e,i){t=t[null==e?0:e+1];!t||"ContentStatement"!==t.type||!i&&t.rightStripped||(e=t.value,t.value=t.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),t.rightStripped=t.value!==e)}function g(t,e,i){t=t[null==e?t.length-1:e-1];if(t&&"ContentStatement"===t.type&&(i||!t.leftStripped))return e=t.value,t.value=t.value.replace(i?/\s+$/:/[ \t]+$/,""),t.leftStripped=t.value!==e,t.leftStripped}var s=i(1).default;e.__esModule=!0;s=s(i(88));(r.prototype=new s.default).Program=function(t){var e=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var r=t.body,s=0,a=r.length;s<a;s++){var n,o,l,h,c=r[s],d=this.accept(c);d&&(h=u(r,s,i),n=p(r,s,i),o=d.openStandalone&&h,l=d.closeStandalone&&n,h=d.inlineStandalone&&h&&n,d.close&&f(r,s,!0),d.open&&g(r,s,!0),e&&h&&(f(r,s),g(r,s))&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(r[s-1].original)[1]),e&&o&&(f((c.program||c.inverse).body),g(r,s)),e)&&l&&(f(r,s),g((c.inverse||c.program).body))}return t},r.prototype.BlockStatement=r.prototype.DecoratorBlock=r.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,i=t.program&&t.inverse,r=i,s=i;if(i&&i.chained)for(r=i.body[0].program;s.chained;)s=s.body[s.body.length-1].program;var a={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:p(e.body),closeStandalone:u((r||e).body)};return t.openStrip.close&&f(e.body,null,!0),i?((i=t.inverseStrip).open&&g(e.body,null,!0),i.close&&f(r.body,null,!0),t.closeStrip.open&&g(s.body,null,!0),!this.options.ignoreStandalone&&u(e.body)&&p(r.body)&&(g(e.body),f(r.body))):t.closeStrip.open&&g(e.body,null,!0),a},r.prototype.Decorator=r.prototype.MustacheStatement=function(t){return t.strip},r.prototype.PartialStatement=r.prototype.CommentStatement=function(t){t=t.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},e.default=r,t.exports=e.default},function(t,e,i){function r(){this.parents=[]}function s(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function a(t){s.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function n(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var o=i(1).default;e.__esModule=!0;var l=o(i(6));r.prototype={constructor:r,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&!r.prototype[i.type])throw new l.default('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new l.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;e<i;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){if(!this[t.type])throw new l.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:s,Decorator:s,BlockStatement:a,DecoratorBlock:a,PartialStatement:n,PartialBlockStatement:function(t){n.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:s,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=r,t.exports=e.default},function(t,e,i){function h(t,e){var i;if(e=e.path?e.path.original:e,t.path.original!==e)throw i={loc:t.path.loc},new c.default(t.path.original+" doesn't match "+e,i)}var r=i(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,i){i=this.locInfo(i);for(var r=t?"@":"",s=[],a=0,n=0,o=e.length;n<o;n++){var l=e[n].part,h=e[n].original!==l;if(r+=(e[n].separator||"")+l,h||".."!==l&&"."!==l&&"this"!==l)s.push(l);else{if(0<s.length)throw new c.default("Invalid path: "+r,{loc:i});".."===l&&a++}}return{type:"PathExpression",data:t,depth:a,parts:s,original:r,loc:i}},e.prepareMustache=function(t,e,i,r,s,a){var n="{"!==(n=r.charAt(3)||r.charAt(2))&&"&"!==n;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:t,params:e,hash:i,escaped:n,strip:s,loc:this.locInfo(a)}},e.prepareRawBlock=function(t,e,i,r){return h(t,i),r=this.locInfo(r),{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:{type:"Program",body:e,strip:{},loc:r},openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},e.prepareBlock=function(t,e,i,r,s,a){r&&r.path&&h(t,r);var n=/\*/.test(t.open),o=(e.blockParams=t.blockParams,void 0),l=void 0;if(i){if(n)throw new c.default("Unexpected inverse block on decorator",i);i.chain&&(i.program.body[0].closeStrip=r.strip),l=i.strip,o=i.program}return s&&(s=o,o=e,e=s),{type:n?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:o,openStrip:t.strip,inverseStrip:l,closeStrip:r&&r.strip,loc:this.locInfo(a)}},e.prepareProgram=function(t,e){var i;return{type:"Program",body:t,strip:{},loc:e=!e&&t.length&&(i=t[0].loc,t=t[t.length-1].loc,i)&&t?{source:i.source,start:{line:i.start.line,column:i.start.column},end:{line:t.end.line,column:t.end.column}}:e}},e.preparePartialBlock=function(t,e,i,r){return h(t,i),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:i&&i.strip,loc:this.locInfo(r)}};var c=r(i(6))},function(t,e,i){function r(){}function s(t){var e;t.path.parts||(e=t.path,t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc})}var a=i(74).default,n=i(1).default;e.__esModule=!0,e.Compiler=r,e.precompile=function(t,e,i){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);return"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0),t=i.parse(t,e),t=(new i.Compiler).compile(t,e),(new i.JavaScriptCompiler).compile(t,e)},e.compile=function(e,i,r){function s(){var t=r.parse(e,i),t=(new r.Compiler).compile(t,i),t=(new r.JavaScriptCompiler).compile(t,i,void 0,!0);return r.template(t)}function t(t,e){return(a=a||s()).call(this,t,e)}if(void 0===i&&(i={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(i=l.extend({},i))||(i.data=!0),i.compat&&(i.useDepths=!0);var a=void 0;return t._setup=function(t){return(a=a||s())._setup(t)},t._child=function(t,e,i,r){return(a=a||s())._child(t,e,i,r)},t};var o=n(i(6)),l=i(5),h=n(i(84)),c=[].slice;r.prototype={compiler:r,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;i<e;i++){var r=this.opcodes[i],s=t.opcodes[i];if(r.opcode!==s.opcode||!function t(e,i){if(e===i)return 1;if(l.isArray(e)&&l.isArray(i)&&e.length===i.length){for(var r=0;r<e.length;r++)if(!t(e[r],i[r]))return;return 1}}(r.args,s.args))return!1}for(e=this.children.length,i=0;i<e;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[],e.knownHelpers=l.extend(a(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},e.knownHelpers),this.accept(t)},compileProgram:function(t){var t=(new this.compiler).compile(t,this.options),e=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[e]=t,this.useDepths=this.useDepths||t.useDepths,e},accept:function(t){if(!this[t.type])throw new o.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);t=this[t.type](t);return this.sourceNode.shift(),t},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,i=e.length,r=0;r<i;r++)this.accept(e[r]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){s(t);var e=t.program,i=t.inverse,e=e&&this.compileProgram(e),i=i&&this.compileProgram(i),r=this.classifySexpr(t);"helper"===r?this.helperSexpr(t,e,i):"simple"===r?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,i),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),e=this.setupFullMustacheParams(t,e,void 0),t=t.path;this.useDecorators=!0,this.opcode("registerDecorator",e.length,t.original)},PartialStatement:function(t){this.usePartial=!0;var e=(e=t.program)&&this.compileProgram(t.program),i=t.params;if(1<i.length)throw new o.default("Unsupported number of partial arguments: "+i.length,t);i.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):i.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,r="SubExpression"===t.name.type,e=(r&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0),t.indent||"");this.options.preventIndent&&e&&(this.opcode("appendContent",e),e=""),this.opcode("invokePartial",r,i,e),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){s(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,i){var t=t.path,r=t.parts[0],s=null!=e||null!=i;this.opcode("getContext",t.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.strict=!0,this.accept(t),this.opcode("invokeAmbiguous",r,s)},simpleSexpr:function(t){t=t.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){var e=this.setupFullMustacheParams(t,e,i),i=t.path,r=i.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",e.length,r);else{if(this.options.knownHelpersOnly)throw new o.default("You specified knownHelpersOnly, but used the unknown helper "+r,t);i.strict=!0,i.falsy=!0,this.accept(i),this.opcode("invokeHelper",e.length,i.original,h.default.helpers.simpleId(i))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],i=h.default.helpers.scopedId(t),r=!t.depth&&!i&&this.blockParamIndex(e);r?this.opcode("lookupBlockParam",r,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,i):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,i=0,r=e.length;for(this.opcode("pushHash");i<r;i++)this.pushParam(e[i].value);for(;i--;)this.opcode("assignToHash",e[i].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:c.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=h.default.helpers.simpleId(t.path),i=e&&!!this.blockParamIndex(t.path.parts[0]),r=!i&&h.default.helpers.helperExpression(t),i=!i&&(r||e);return i&&!r&&(e=t.path.parts[0],(t=this.options).knownHelpers[e]?r=!0:t.knownHelpersOnly&&(i=!1)),r?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e=0,i=t.length;e<i;e++)this.pushParam(t[e])},pushParam:function(t){var e,i,r=null!=t.value?t.value:t.original||"";this.stringParams?(r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",r,t.type),"SubExpression"===t.type&&this.accept(t)):(this.trackIds&&(e=void 0,(e=!t.parts||h.default.helpers.scopedId(t)||t.depth?e:this.blockParamIndex(t.parts[0]))?(i=t.parts.slice(1).join("."),this.opcode("pushId","BlockParam",e,i)):((r=t.original||r).replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,r))),this.accept(t))},setupFullMustacheParams:function(t,e,i,r){var s=t.params;return this.pushParams(s),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.accept(t.hash):this.opcode("emptyHash",r),s},blockParamIndex:function(t){for(var e=0,i=this.options.blockParams.length;e<i;e++){var r=this.options.blockParams[e],s=r&&l.indexOf(r,t);if(r&&0<=s)return[e,s]}}}},function(t,e,i){function o(t){this.value=t}function r(){}var n=i(60).default,s=i(1).default,a=(e.__esModule=!0,i(4)),u=s(i(6)),l=i(5),h=s(i(92));r.prototype={nameLookup:function(t,e){return this.internalNameLookup(t,e)},depthedLookup:function(t){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(t),")"]},compilerInfo:function(){var t=a.COMPILER_REVISION;return[t,a.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,i){return l.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:i?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(t,e){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",t,",",JSON.stringify(e),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(t,e,i,r){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!i,this.context=i||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;for(var s,a=t.opcodes,n=void 0,o=void 0,l=void 0,o=0,l=a.length;o<l;o++)s=a[o],this.source.currentLocation=s.loc,n=n||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=n,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new u.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));i=this.createFunctionContext(r);if(this.isChild)return i;var h={compiler:this.compilerInfo(),main:i},t=(this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0),this.context),c=t.programs,d=t.decorators;for(o=0,l=c.length;o<l;o++)c[o]&&(h[o]=c[o],d[o])&&(h[o+"_d"]=d[o],h.useDecorators=!0);return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),r?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new h.default(this.options.srcName),this.decorators=new h.default(this.options.srcName)},createFunctionContext:function(t){var i=this,r="",e=this.stackVars.concat(this.registers.list),s=(0<e.length&&(r+=", "+e.join(", ")),0),e=(n(this.aliases).forEach(function(t){var e=i.aliases[t];e.children&&1<e.referenceCount&&(r+=", alias"+ ++s+"="+t,e.children[0]="alias"+s)}),this.lookupPropertyFunctionIsUsed&&(r+=", "+this.lookupPropertyFunctionVarDeclaration()),["container","depth0","helpers","partials","data"]),a=((this.useBlockParams||this.useDepths)&&e.push("blockParams"),this.useDepths&&e.push("depths"),this.mergeSource(r));return t?(e.push(a),Function.apply(this,e)):this.source.wrap(["function(",e.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,i=!this.forceBuffer,r=void 0,s=void 0,a=void 0,n=void 0;return this.source.each(function(t){t.appendToBuffer?(a?t.prepend("  + "):a=t,n=t):(a&&(s?a.prepend("buffer += "):r=!0,n.add(";"),a=n=void 0),s=!0,e||(i=!1))}),i?a?(a.prepend("return "),n.add(";")):s||this.source.push('return "";'):(t+=", buffer = "+(r?"":this.initializeBuffer()),a?(a.prepend("return buffer + "),n.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(r?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(t){var e=this.aliasable("container.hooks.blockHelperMissing"),i=[this.contextName(0)],t=(this.setupHelperArgs(t,0,i),this.popStack());i.splice(1,0,t),this.push(this.source.functionCall(e,"call",i))},ambiguousBlockValue:function(){var t=this.aliasable("container.hooks.blockHelperMissing"),e=[this.contextName(0)],i=(this.setupHelperArgs("",0,e,!0),this.flushInline(),this.topStack());e.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){var t;this.isInline()?(this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()))):(t=this.popStack(),this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"]))},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,i,r){var s=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[s++])),this.resolvePath("context",t,s,e,i)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,i){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,i)},resolvePath:function(i,r,s,a,t){var n=this;if(this.options.strict||this.options.assumeObjects)this.push(((t,e,i,r,s)=>{var a=e.popStack(),n=i.length;for(t&&n--;r<n;r++)a=e.nameLookup(a,i[r],s);return t?[e.aliasable("container.strict"),"(",a,", ",e.quotedString(i[r]),", ",JSON.stringify(e.source.currentLocation)," )"]:a})(this.options.strict&&t,this,r,s,i));else for(var e=r.length;s<e;s++)this.replaceStack(function(t){var e=n.nameLookup(t,r[s],i);return a?[" && ",e]:[" != null ? ",e," : ",t]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var i=this.nameLookup("decorators",e,"decorator"),e=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(i,"",["fn","props","container",e])," || fn;"])},invokeHelper:function(t,e,i){var r=this.popStack(),t=this.setupHelper(t,e),e=[],i=(i&&e.push(t.name),e.push(r),this.options.strict||e.push(this.aliasable("container.hooks.helperMissing")),["(",this.itemsSeparatedBy(e,"||"),")"]),r=this.source.functionCall(i,"call",t.callParams);this.push(r)},itemsSeparatedBy:function(t,e){var i=[];i.push(t[0]);for(var r=1;r<t.length;r++)i.push(e,t[r]);return i},invokeKnownHelper:function(t,e){t=this.setupHelper(t,e);this.push(this.source.functionCall(t.name,"call",t.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var i=this.popStack(),e=(this.emptyHash(),this.setupHelper(0,t,e)),t=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",i,")"];this.options.strict||(t[0]="(helper = ",t.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",t,e.paramsInit?["),(",e.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",e.callParams)," : helper))"])},invokePartial:function(t,e,i){var r=[],s=this.setupParams(e,1,r);t&&(e=this.popStack(),delete s.name),i&&(s.indent=JSON.stringify(i)),s.helpers="helpers",s.partials="partials",s.decorators="container.decorators",t?r.unshift(e):r.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(s.depths="depths"),s=this.objectLiteral(s),r.push(s),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(t){var e=this.popStack(),i=void 0,r=void 0,s=void 0,a=(this.trackIds&&(s=this.popStack()),this.stringParams&&(r=this.popStack(),i=this.popStack()),this.hash);i&&(a.contexts[t]=i),r&&(a.types[t]=r),s&&(a.ids[t]=s),a.values[t]=e},pushId:function(t,e,i){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function(t,e){for(var i=t.children,r=void 0,s=void 0,a=0,n=i.length;a<n;a++){var o,r=i[a],s=new this.compiler,l=this.matchExistingProgram(r);null==l?(this.context.programs.push(""),o=this.context.programs.length,r.index=o,r.name="program"+o,this.context.programs[o]=s.compile(r,e,this.context,!this.precompile),this.context.decorators[o]=s.decorators,this.context.environments[o]=r,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams):(r.index=l.index,r.name="program"+l.index,this.useDepths=this.useDepths||l.useDepths,this.useBlockParams=this.useBlockParams||l.useBlockParams)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;e<i;e++){var r=this.context.environments[e];if(r&&r.equals(t))return r}},programExpression:function(t){t=this.environment.children[t],t=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&t.push("blockParams"),this.useDepths&&t.push("depths"),"container.program("+t.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof o||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new o(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],i=void 0,r=void 0,s=void 0;if(!this.isInline())throw new u.default("replaceStack on non-inline");var a=this.popStack(!0),n=(a instanceof o?(e=["(",i=[a.value]],s=!0):(r=!0,n=this.incrStack(),e=["((",this.push(n)," = ",a,")"],i=this.topStack()),t.call(this,i));s||this.popStack(),r&&this.stackSlot--,this.push(e.concat(n,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,i=t.length;e<i;e++){var r,s=t[e];s instanceof o?this.compileStack.push(s):(r=this.incrStack(),this.pushSource([r," = ",s,";"]),this.compileStack.push(r))}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof o)return i.value;if(!e){if(!this.stackSlot)throw new u.default("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,t=t[t.length-1];return t instanceof o?t.value:t},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?e.referenceCount++:((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1),e},setupHelper:function(t,e,i){var r=[];return{params:r,paramsInit:this.setupHelperArgs(e,t,r,i),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(t,e,i){var r,s={},a=[],n=[],o=[],l=!i,t=(l&&(i=[]),s.name=this.quotedString(t),s.hash=this.popStack(),this.trackIds&&(s.hashIds=this.popStack()),this.stringParams&&(s.hashTypes=this.popStack(),s.hashContexts=this.popStack()),this.popStack()),h=this.popStack();(h||t)&&(s.fn=h||"container.noop",s.inverse=t||"container.noop");for(var c=e;c--;)r=this.popStack(),i[c]=r,this.trackIds&&(o[c]=this.popStack()),this.stringParams&&(n[c]=this.popStack(),a[c]=this.popStack());return l&&(s.args=this.source.generateArray(i)),this.trackIds&&(s.ids=this.source.generateArray(o)),this.stringParams&&(s.types=this.source.generateArray(n),s.contexts=this.source.generateArray(a)),this.options.data&&(s.data="data"),this.useBlockParams&&(s.blockParams="blockParams"),s},setupHelperArgs:function(t,e,i,r){t=this.setupParams(t,e,i);return t.loc=JSON.stringify(this.source.currentLocation),t=this.objectLiteral(t),r?(this.useRegister("options"),i.push("options"),["options=",t]):i?(i.push(t),""):t}};for(var c="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),d=r.RESERVED_WORDS={},p=0,f=c.length;p<f;p++)d[c[p]]=!0;r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=r,t.exports=e.default},function(t,e,i){function a(t,e,i){if(o.isArray(t)){for(var r=[],s=0,a=t.length;s<a;s++)r.push(e.wrap(t[s],i));return r}return"boolean"==typeof t||"number"==typeof t?t+"":t}function r(t){this.srcFile=t,this.source=[]}var n=i(60).default,o=(e.__esModule=!0,i(5)),s=void 0;s||((s=function(t,e,i,r){this.src="",r&&this.add(r)}).prototype={add:function(t){o.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){o.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),r.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(t){for(var e=0,i=this.source.length;e<i;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=a(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,i){return i=this.generateList(i),this.wrap([t,e?"."+e+"(":"(",i,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(i){var r=this,s=[],t=(n(i).forEach(function(t){var e=a(i[t],r);"undefined"!==e&&s.push([r.quotedString(t),":",e])}),this.generateList(s));return t.prepend("{"),t.add("}"),t},generateList:function(t){for(var e=this.empty(),i=0,r=t.length;i<r;i++)i&&e.add(","),e.add(a(t[i],this));return e},generateArray:function(t){t=this.generateList(t);return t.prepend("["),t.add("]"),t}},e.default=r,t.exports=e.default}],s={},i.m=r,i.c=s,i.p="",i(0);function i(t){var e;return(s[t]||(e=s[t]={exports:{},id:t,loaded:!1},r[t].call(e.exports,e,e.exports,i),e.loaded=!0,e)).exports}var r,s}),((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=e()})(this,function(){var r=Object.freeze({__proto__:null,get Colors(){return ba},get Decimation(){return wa},get Filler(){return Fa},get Legend(){return za},get SubTitle(){return Xa},get Title(){return Wa},get Tooltip(){return rn}});function t(){}let R=(()=>{let t=0;return()=>t++})();function T(t){return null==t}function P(t){return!(!Array.isArray||!Array.isArray(t))||"[object"===(t=Object.prototype.toString.call(t)).slice(0,7)&&"Array]"===t.slice(-6)}function O(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function g(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function u(t,e){return g(t)?t:e}function D(t,e){return void 0===t?e:t}let B=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e,N=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function d(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function C(t,e,i,r){let s,a,n;if(P(t))if(a=t.length,r)for(s=a-1;0<=s;s--)e.call(i,t[s],s);else for(s=0;s<a;s++)e.call(i,t[s],s);else if(O(t))for(n=Object.keys(t),a=n.length,s=0;s<a;s++)e.call(i,t[n[s]],n[s])}function z(t,e){let i,r,s,a;if(!t||!e||t.length!==e.length)return!1;for(i=0,r=t.length;i<r;++i)if(s=t[i],a=e[i],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function H(e){if(P(e))return e.map(H);if(O(e)){var i=Object.create(null),r=Object.keys(e),s=r.length;let t=0;for(;t<s;++t)i[r[t]]=H(e[r[t]]);return i}return e}function W(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function V(t,e,i,r){var s;W(t)&&(s=e[t],i=i[t],O(s)&&O(i)?X(s,i,r):e[t]=H(i))}function X(r,t,s){var e=P(t)?t:[t],i=e.length;if(O(r)){var a,n=(s=s||{}).merger||V;for(let t=0;t<i;++t)if(O(a=e[t])){let i=Object.keys(a);for(let t=0,e=i.length;t<e;++t)n(i[t],r,a,s)}}return r}function Y(t,e){return X(t,e,{merger:G})}function G(t,e,i){var r;W(t)&&(r=e[t],i=i[t],O(r)&&O(i)?Y(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=H(i)))}let q={"":t=>t,x:t=>t.x,y:t=>t.y};function U(t){var e=t.split("."),i=[];let r="";for(let t of e)r+=t,r=r.endsWith("\\")?r.slice(0,-1)+".":(i.push(r),"");return i}function f(t,e){return(q[e]||(q[e]=(()=>{let i=U(e);return t=>{for(var e of i){if(""===e)break;t=t&&t[e]}return t}})()))(t)}function $(t){return t.charAt(0).toUpperCase()+t.slice(1)}let K=t=>void 0!==t,p=t=>"function"==typeof t,J=(t,e)=>{if(t.size!==e.size)return!1;for(var i of t)if(!e.has(i))return!1;return!0};function Q(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}let k=Math.PI,b=2*k,Z=b+k,tt=Number.POSITIVE_INFINITY,et=k/180,M=k/2,it=k/4,rt=2*k/3,o=Math.log10,x=Math.sign;function st(t,e,i){return Math.abs(t-e)<i}function at(t){var e=Math.round(t),e=(t=st(t,e,t/1e3)?e:t,Math.pow(10,Math.floor(o(t)))),t=t/e;return(t<=1?1:t<=2?2:t<=5?5:10)*e}function nt(t){var e=[],i=Math.sqrt(t);let r;for(r=1;r<i;r++)t%r==0&&(e.push(r),e.push(t/r));return i===(0|i)&&e.push(i),e.sort((t,e)=>t-e).pop(),e}function ot(t){return!isNaN(parseFloat(t))&&isFinite(t)}function lt(t,e){var i=Math.round(t);return i-e<=t&&t<=i+e}function ht(t,e,i){let r,s,a;for(r=0,s=t.length;r<s;r++)a=t[r][i],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function A(t){return t*(k/180)}function ct(t){return t*(180/k)}function dt(i){if(g(i)){let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}}function ut(t,e){var i=e.x-t.x,e=e.y-t.y,t=Math.sqrt(i*i+e*e);let r=Math.atan2(e,i);return r<-.5*k&&(r+=b),{angle:r,distance:t}}function pt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ft(t,e){return(t-e+Z)%b-k}function y(t){return(t%b+b)%b}function gt(t,e,i,r){var t=y(t),e=y(e),i=y(i),s=y(e-t),a=y(i-t),n=y(t-e),o=y(t-i);return t===e||t===i||r&&e===i||a<s&&n<o}function E(t,e,i){return Math.max(e,Math.min(i,t))}function mt(t){return E(t,-32768,32767)}function c(t,e,i,r=1e-6){return t>=Math.min(e,i)-r&&t<=Math.max(e,i)+r}function vt(e,i,t){t=t||(t=>e[t]<i);let r,s=e.length-1,a=0;for(;1<s-a;)t(r=a+s>>1)?a=r:s=r;return{lo:a,hi:s}}let m=(i,r,s,t)=>vt(i,s,t?t=>{var e=i[t][r];return e<s||e===s&&i[t+1][r]===s}:t=>i[t][r]<s),yt=(e,i,r)=>vt(e,r,t=>e[t][i]>=r);function bt(t,e,i){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>i;)s--;return 0<r||s<t.length?t.slice(r,s):t}let xt=["push","pop","shift","splice","unshift"];function _t(s,t){s._chartjs?s._chartjs.listeners.push(t):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),xt.forEach(t=>{let i="_onData"+$(t),r=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...e){var t=r.apply(this,e);return s._chartjs.listeners.forEach(t=>{"function"==typeof t[i]&&t[i](...e)}),t}})}))}function wt(e,t){var i=e._chartjs;i&&(-1!==(t=(i=i.listeners).indexOf(t))&&i.splice(t,1),0<i.length||(xt.forEach(t=>{delete e[t]}),delete e._chartjs))}function St(t){var e=new Set(t);return e.size===t.length?t:Array.from(e)}let Ct="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Tt(e,i){let r,s=!1;return function(...t){r=t,s||(s=!0,Ct.call(window,()=>{s=!1,e.apply(i,r)}))}}function kt(e,i){let r;return function(...t){return i?(clearTimeout(r),r=setTimeout(e,i,t)):e.apply(this,t),i}}let Mt=t=>"start"===t?"left":"end"===t?"right":"center",L=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,Et=(t,e,i,r)=>t===(r?"left":"right")?i:"center"===t?(e+i)/2:e;function Pt(t,e,i){var r,s,a,n,o,l,h=e.length;let c=0,d=h;return t._sorted&&({iScale:t,_parsed:r}=t,s=t.axis,{min:a,max:n,minDefined:o,maxDefined:l}=t.getUserBounds(),o&&(c=E(Math.min(m(r,s,a).lo,i?h:m(e,s,t.getPixelForValue(a)).lo),0,h-1)),d=l?E(Math.max(m(r,t.axis,n,!0).hi+1,i?0:m(e,s,t.getPixelForValue(n),!0).hi+1),c,h)-c:h-c),{start:c,count:d}}function Ot(t){var{xScale:e,yScale:i,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};return r?(e=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==i.min||r.ymax!==i.max,Object.assign(r,s),e):(t._scaleRanges=s,!0)}var a=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,i,r,t){let s=i.listeners[t],a=i.duration;s.forEach(t=>t({chart:e,initial:i.initial,numSteps:a,currentStep:Math.min(r-i.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Ct.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let o=0;this._charts.forEach((r,s)=>{if(r.running&&r.items.length){var a=r.items;let t,e=a.length-1,i=!1;for(;0<=e;--e)(t=a[e])._active?(t._total>r.duration&&(r.duration=t._total),t.tick(n),i=!0):(a[e]=a[a.length-1],a.pop());i&&(s.draw(),this._notify(s,r,n,"progress")),a.length||(r.running=!1,this._notify(s,r,n,"complete"),r.initial=!1),o+=a.length}}),this._lastDate=n,0===o&&(this._running=!1)}_getAnims(t){var e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return 0<this._getAnims(t).items.length}start(t){t=this._charts.get(t);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((t,e)=>Math.max(t,e._duration),0),this._refresh())}running(t){return!!this._running&&!!((t=this._charts.get(t))&&t.running&&t.items.length)}stop(e){var i=this._charts.get(e);if(i&&i.items.length){var r=i.items;let t=r.length-1;for(;0<=t;--t)r[t].cancel();i.items=[],this._notify(e,i,Date.now(),"complete")}}remove(t){return this._charts.delete(t)}};function Dt(t){return t+.5|0}let At=(t,e,i)=>Math.max(Math.min(t,i),e);function Lt(t){return At(Dt(2.55*t),0,255)}function It(t){return At(Dt(255*t),0,255)}function n(t){return At(Dt(t/2.55)/100,0,1)}function jt(t){return At(Dt(100*t),0,100)}let l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ft=[..."0123456789ABCDEF"],Rt=t=>Ft[15&t],Bt=t=>Ft[(240&t)>>4]+Ft[15&t],Nt=t=>(240&t)>>4==(15&t);let zt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ht(i,t,r){let s=t*Math.min(r,1-r),e=(t,e=(t+i/30)%12)=>r-s*Math.max(Math.min(e-3,9-e,1),-1);return[e(0),e(8),e(4)]}function Wt(i,r,s){var t=(t,e=(t+i/60)%6)=>s-s*r*Math.max(Math.min(e,4-e,1),0);return[t(5),t(3),t(1)]}function Vt(t,e,i){var r=Ht(t,1,.5);let s;for(1<e+i&&(e*=s=1/(e+i),i*=s),s=0;s<3;s++)r[s]*=1-e-i,r[s]+=e;return r}function Xt(t){var e=t.r/255,i=t.g/255,t=t.b/255,r=Math.max(e,i,t),s=Math.min(e,i,t),a=(r+s)/2;let n,o,l;return r!==s&&(l=r-s,o=.5<a?l/(2-r-s):l/(r+s),n=60*(n=(s=i,i=t,(t=e)===r?(s-i)/l+(s<i?6:0):s===r?(i-t)/l+2:(t-s)/l+4))+.5),[0|n,o||0,a]}function Yt(t,e,i,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,r)).map(It)}function Gt(t,e,i){return Yt(Ht,t,e,i)}function qt(t){return(t%360+360)%360}let Ut={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$t={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},Kt;function Jt(t){Kt||((Kt=(()=>{var t={},e=Object.keys($t),i=Object.keys(Ut);let r,s,a,n,o;for(r=0;r<e.length;r++){for(n=o=e[r],s=0;s<i.length;s++)a=i[s],o=o.replace(a,Ut[a]);a=parseInt($t[n],16),t[o]=[a>>16&255,a>>8&255,255&a]}return t})()).transparent=[0,0,0,0]);t=Kt[t.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}let Qt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Zt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,te=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ee(e,i,r){if(e){let t=Xt(e);t[i]=Math.max(0,Math.min(t[i]+t[i]*r,0===i?360:1)),t=Gt(t),e.r=t[0],e.g=t[1],e.b=t[2]}}function ie(t,e){return t&&Object.assign(e||{},t)}function re(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?3<=t.length&&(e={r:t[0],g:t[1],b:t[2],a:255},3<t.length)&&(e.a=It(t[3])):(e=ie(t,{r:0,g:0,b:0,a:1})).a=It(e.a),e}function se(t){return("r"===t.charAt(0)?t=>{var e=Qt.exec(t);let i,r,s,a=255;if(e){if(void 0!==e[7]){let t=+e[7];a=e[8]?Lt(t):At(255*t,0,255)}return i=+e[1],r=+e[3],s=+e[5],{r:255&(e[2]?Lt(i):At(i,0,255)),g:255&(e[4]?Lt(r):At(r,0,255)),b:255&(e[6]?Lt(s):At(s,0,255)),a:a}}}:t=>{var e,i,r,t=zt.exec(t);let s,a=255;if(t)return void 0!==t[5]&&(a=(t[6]?Lt:It)(+t[5])),e=qt(+t[2]),i=+t[3]/100,r=+t[4]/100,{r:(s="hwb"===t[1]?Yt(Vt,e,i,r):"hsv"===t[1]?Yt(Wt,e,i,r):Gt(e,i,r))[0],g:s[1],b:s[2],a:a}})(t)}class ae{constructor(t){if(t instanceof ae)return t;var e,i,r=typeof t;let s;"object"==r?s=re(t):"string"==r&&(i=(r=t).length,"#"===r[0]&&(4===i||5===i?e={r:255&17*l[r[1]],g:255&17*l[r[2]],b:255&17*l[r[3]],a:5===i?17*l[r[4]]:255}:7!==i&&9!==i||(e={r:l[r[1]]<<4|l[r[2]],g:l[r[3]]<<4|l[r[4]],b:l[r[5]]<<4|l[r[6]],a:9===i?l[r[7]]<<4|l[r[8]]:255})),s=e||Jt(t)||se(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=ie(this._rgb);return t&&(t.a=n(t.a)),t}set rgb(t){this._rgb=re(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid&&(t=this._rgb,e=t,e=Nt(e.r)&&Nt(e.g)&&Nt(e.b)&&Nt(e.a)?Rt:Bt,t)?"#"+e(t.r)+e(t.g)+e(t.b)+((t=t.a)<255?e(t):""):void 0;var t,e}hslString(){if(this._valid){var t,e,i,r=this._rgb;if(r)return t=(i=Xt(r))[0],e=jt(i[1]),i=jt(i[2]),r.a<255?`hsla(${t}, ${e}%, ${i}%, ${n(r.a)})`:`hsl(${t}, ${e}%, ${i}%)`}}mix(t,e){var i,r,s;return t&&(i=this.rgb,t=t.rgb,s=i.a-t.a,i.r=255&(r=(1+((r=2*(e=void 0===e?.5:e)-1)*s==-1?r:(r+s)/(1+r*s)))/2)*i.r+(s=1-r)*t.r+.5,i.g=255&r*i.g+s*t.g+.5,i.b=255&r*i.b+s*t.b+.5,i.a=e*i.a+(1-e)*t.a,this.rgb=i),this}interpolate(t,e){return t&&(this._rgb=(i=this._rgb,t=t._rgb,e=e,r=te(n(i.r)),s=te(n(i.g)),a=te(n(i.b)),{r:It(Zt(r+e*(te(n(t.r))-r))),g:It(Zt(s+e*(te(n(t.g))-s))),b:It(Zt(a+e*(te(n(t.b))-a))),a:i.a+e*(t.a-i.a)})),this;var i,r,s,a}clone(){return new ae(this.rgb)}alpha(t){return this._rgb.a=It(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){var t=this._rgb,e=Dt(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){var t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ee(this._rgb,2,t),this}darken(t){return ee(this._rgb,2,-t),this}saturate(t){return ee(this._rgb,1,t),this}desaturate(t){return ee(this._rgb,1,-t),this}rotate(t){return e=this._rgb,t=t,(i=Xt(e))[0]=qt(i[0]+t),i=Gt(i),e.r=i[0],e.g=i[1],e.b=i[2],this;var e,i}}function ne(t){return!(!t||"object"!=typeof t||"[object CanvasPattern]"!==(t=t.toString())&&"[object CanvasGradient]"!==t)}function oe(t){return ne(t)?t:new ae(t)}function le(t){return ne(t)?t:new ae(t).saturate(.5).darken(.1).hexString()}let he=["x","y","borderWidth","radius","tension"],ce=["color","borderColor","backgroundColor"],de=new Map;function ue(t,e,s){return((t,e)=>{e=s||{};var i=t+JSON.stringify(e);let r=de.get(i);return r||(r=new Intl.NumberFormat(t,e),de.set(i,r)),r})(e).format(t)}let pe={values:t=>P(t)?t:""+t,numeric(e,t,i){if(0===e)return"0";var r=this.chart.options.locale;let s,a=e;if(1<i.length){let t=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(t<1e-4||1e15<t)&&(s="scientific"),a=(t=>{let e=3<i.length?i[2].value-i[1].value:i[1].value-i[0].value;return e=1<=Math.abs(e)&&t!==Math.floor(t)?t-Math.floor(t):e})(e)}var n=o(Math.abs(a)),n=isNaN(n)?1:Math.max(Math.min(-1*Math.floor(n),20),0),n={notation:s,minimumFractionDigits:n,maximumFractionDigits:n};return Object.assign(n,this.options.ticks.format),ue(e,r,n)},logarithmic(t,e,i){var r;return 0===t?"0":(r=i[e].significand||t/Math.pow(10,Math.floor(o(t))),[1,2,3,5,10,15].includes(r)||e>.8*i.length?pe.numeric.call(this,t,e,i):"")}};var fe={formatters:pe};let ge=Object.create(null),me=Object.create(null);function ve(i,t){if(t){var r=t.split(".");for(let t=0,e=r.length;t<e;++t){var s=r[t];i=i[s]||(i[s]=Object.create(null))}}return i}function ye(t,e,i){return"string"==typeof e?X(ve(t,e),i):X(ve(t,""),e)}var I=new class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>le(e.backgroundColor),this.hoverBorderColor=(t,e)=>le(e.borderColor),this.hoverColor=(t,e)=>le(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ye(this,t,e)}get(t){return ve(this,t)}describe(t,e){return ye(me,t,e)}override(t,e){return ye(ge,t,e)}route(t,e,i,r){let s=ve(this,t),a=ve(this,i),n="_"+e;Object.defineProperties(s,{[n]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){var t=this[n],e=a[r];return O(t)?Object.assign({},e,t):D(t,e)},set(t){this[n]=t}}})}apply(t){t.forEach(t=>t(this))}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:ce},numbers:{type:"number",properties:he}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fe.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function be(){return"undefined"!=typeof window&&"undefined"!=typeof document}function xe(t){let e=t.parentNode;return e=e&&"[object ShadowRoot]"===e.toString()?e.host:e}function _e(t,e,i){let r;return"string"==typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[i])):r=t,r}let we=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Se(t,e){return we(t).getPropertyValue(e)}let Ce=["top","right","bottom","left"];function Te(e,i,r){var s={};r=r?"-"+r:"";for(let t=0;t<4;t++){var a=Ce[t];s[a]=parseFloat(e[i+"-"+a+r])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function ke(t,e){if("native"in t)return t;var{canvas:i,currentDevicePixelRatio:r}=e,s=we(i),a="border-box"===s.boxSizing,n=Te(s,"padding"),s=Te(s,"border","width"),{x:t,y:o,box:l}=((t,e)=>{var i,r=t.touches,{offsetX:s,offsetY:a}=r=r&&r.length?r[0]:t;let n,o,l=!1;if(i=a,t=t.target,!(0<s||0<i)||t&&t.shadowRoot){let t=e.getBoundingClientRect();n=r.clientX-t.left,o=r.clientY-t.top,l=!0}else n=s,o=a;return{x:n,y:o,box:l}})(t,i),h=n.left+(l&&s.left),l=n.top+(l&&s.top);let{width:c,height:d}=e;return a&&(c-=n.width+s.width,d-=n.height+s.height),{x:Math.round((t-h)/c*i.width/r),y:Math.round((o-l)/d*i.height/r)}}let Me=t=>Math.round(10*t)/10;function Ee(t,e,i,r){var s=we(t),a=Te(s,"margin"),n=_e(s.maxWidth,t,"clientWidth")||tt,o=_e(s.maxHeight,t,"clientHeight")||tt,t=((t,s,a)=>{let n,o;if(void 0===s||void 0===a){var l=t&&xe(t);if(l){let t=l.getBoundingClientRect(),e=we(l),i=Te(e,"border","width"),r=Te(e,"padding");s=t.width-r.width-i.width,a=t.height-r.height-i.height,n=_e(e.maxWidth,l,"clientWidth"),o=_e(e.maxHeight,l,"clientHeight")}else s=t.clientWidth,a=t.clientHeight}return{width:s,height:a,maxWidth:n||tt,maxHeight:o||tt}})(t,e,i);let{width:l,height:h}=t;if("content-box"===s.boxSizing){let t=Te(s,"border","width"),e=Te(s,"padding");l-=e.width+t.width,h-=e.height+t.height}return l=Math.max(0,l-a.width),h=Math.max(0,r?l/r:h-a.height),l=Me(Math.min(l,n,t.maxWidth)),h=Me(Math.min(h,o,t.maxHeight)),l&&!h&&(h=Me(l/2)),(void 0!==e||void 0!==i)&&r&&t.height&&h>t.height&&(h=t.height,l=Me(Math.floor(h*r))),{width:l,height:h}}function Pe(t,e,i){var e=e||1,r=Math.floor(t.height*e),s=Math.floor(t.width*e),a=(t.height=Math.floor(t.height),t.width=Math.floor(t.width),t.canvas);return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=t.height+"px",a.style.width=t.width+"px"),(t.currentDevicePixelRatio!==e||a.height!==r||a.width!==s)&&(t.currentDevicePixelRatio=e,a.height=r,a.width=s,t.ctx.setTransform(e,0,0,e,0,0),!0)}var Oe=(()=>{let t=!1;try{var e={get passive(){return!(t=!0)}};be()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t})();function De(t,e){t=Se(t,e),e=t&&t.match(/^(\d+)(\.\d+)?px$/);return e?+e[1]:void 0}function Ae(t){return!t||T(t.size)||T(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Le(t,e,i,r,s){let a=e[s];return a||(a=e[s]=t.measureText(s).width,i.push(s)),r=a>r?a:r}function Ie(t,e,i,r){let s=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[],n=(r.font!==e&&(s=r.data={},a=r.garbageCollect=[],r.font=e),t.save(),t.font=e,0);var o=i.length;let l,h,c,d,u;for(l=0;l<o;l++)if(null==(d=i[l])||P(d)){if(P(d))for(h=0,c=d.length;h<c;h++)null==(u=d[h])||P(u)||(n=Le(t,s,a,n,u))}else n=Le(t,s,a,n,d);t.restore();var p=a.length/2;if(p>i.length){for(l=0;l<p;l++)delete s[a[l]];a.splice(0,p)}return n}function je(t,e,i){t=t.currentDevicePixelRatio,i=0!==i?Math.max(i/2,.5):0;return Math.round((e-i)*t)/t+i}function Fe(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Re(t,e,i,r){Be(t,e,i,r,null)}function Be(t,e,i,r,s){let a,n,o,l,h,c,d,u;var p=e.pointStyle,f=e.rotation,g=e.radius;let m=(f||0)*et;if(p&&"object"==typeof p&&("[object HTMLImageElement]"===(a=p.toString())||"[object HTMLCanvasElement]"===a))t.save(),t.translate(i,r),t.rotate(m),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();else if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:s?t.ellipse(i,r,s/2,g,0,0,b):t.arc(i,r,g,0,b),t.closePath();break;case"triangle":c=s?s/2:g,t.moveTo(i+Math.sin(m)*c,r-Math.cos(m)*g),m+=rt,t.lineTo(i+Math.sin(m)*c,r-Math.cos(m)*g),m+=rt,t.lineTo(i+Math.sin(m)*c,r-Math.cos(m)*g),t.closePath();break;case"rectRounded":h=.516*g,l=g-h,n=Math.cos(m+it)*l,d=Math.cos(m+it)*(s?s/2-h:l),o=Math.sin(m+it)*l,u=Math.sin(m+it)*(s?s/2-h:l),t.arc(i-d,r-o,h,m-k,m-M),t.arc(i+u,r-n,h,m-M,m),t.arc(i+d,r+o,h,m,m+M),t.arc(i-u,r+n,h,m+M,m+k),t.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*g,c=s?s/2:l,t.rect(i-c,r-l,2*c,2*l);break}m+=it;case"rectRot":d=Math.cos(m)*(s?s/2:g),n=Math.cos(m)*g,o=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),t.moveTo(i-d,r-o),t.lineTo(i+u,r-n),t.lineTo(i+d,r+o),t.lineTo(i-u,r+n),t.closePath();break;case"crossRot":m+=it;case"cross":d=Math.cos(m)*(s?s/2:g),n=Math.cos(m)*g,o=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),t.moveTo(i-d,r-o),t.lineTo(i+d,r+o),t.moveTo(i+u,r-n),t.lineTo(i-u,r+n);break;case"star":d=Math.cos(m)*(s?s/2:g),n=Math.cos(m)*g,o=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),t.moveTo(i-d,r-o),t.lineTo(i+d,r+o),t.moveTo(i+u,r-n),t.lineTo(i-u,r+n),m+=it,d=Math.cos(m)*(s?s/2:g),n=Math.cos(m)*g,o=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),t.moveTo(i-d,r-o),t.lineTo(i+d,r+o),t.moveTo(i+u,r-n),t.lineTo(i-u,r+n);break;case"line":n=s?s/2:Math.cos(m)*g,o=Math.sin(m)*g,t.moveTo(i-n,r-o),t.lineTo(i+n,r+o);break;case"dash":t.moveTo(i,r),t.lineTo(i+Math.cos(m)*(s?s/2:g),r+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),0<e.borderWidth&&t.stroke()}}function _(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Ne(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ze(t){t.restore()}function He(e,i,r,t,s){if(!i)return e.lineTo(r.x,r.y);if("middle"===s){let t=(i.x+r.x)/2;e.lineTo(t,i.y),e.lineTo(t,r.y)}else"after"===s!=!!t?e.lineTo(i.x,r.y):e.lineTo(r.x,i.y);e.lineTo(r.x,r.y)}function We(t,e,i,r){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?i.cp2x:i.cp1x,r?i.cp2y:i.cp1y,i.x,i.y)}function Ve(t,e,i,r,s,a={}){var n,o,l,h,c,d,u,p,f=P(e)?e:[e],g=0<a.strokeWidth&&""!==a.strokeColor;let m,v;for(t.save(),t.font=s.string,e=t,(p=a).translation&&e.translate(p.translation[0],p.translation[1]),T(p.rotation)||e.rotate(p.rotation),p.color&&(e.fillStyle=p.color),p.textAlign&&(e.textAlign=p.textAlign),p.textBaseline&&(e.textBaseline=p.textBaseline),m=0;m<f.length;++m)v=f[m],a.backdrop&&(c=t,d=a.backdrop,u=void 0,u=c.fillStyle,c.fillStyle=d.color,c.fillRect(d.left,d.top,d.width,d.height),c.fillStyle=u),g&&(a.strokeColor&&(t.strokeStyle=a.strokeColor),T(a.strokeWidth)||(t.lineWidth=a.strokeWidth),t.strokeText(v,i,r,a.maxWidth)),t.fillText(v,i,r,a.maxWidth),d=t,c=i,u=r,n=v,h=l=void 0,((o=a).strikethrough||o.underline)&&(l=c-(n=d.measureText(n)).actualBoundingBoxLeft,c=c+n.actualBoundingBoxRight,h=u+n.actualBoundingBoxDescent,u=o.strikethrough?(u-n.actualBoundingBoxAscent+h)/2:h,d.strokeStyle=d.fillStyle,d.beginPath(),d.lineWidth=o.decorationWidth||2,d.moveTo(l,u),d.lineTo(c,u),d.stroke()),r+=Number(s.lineHeight);t.restore()}function Xe(t,e){var{x:e,y:i,w:r,h:s,radius:a}=e;t.arc(e+a.topLeft,i+a.topLeft,a.topLeft,1.5*k,k,!0),t.lineTo(e,i+s-a.bottomLeft),t.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,k,M,!0),t.lineTo(e+r-a.bottomRight,i+s),t.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,M,0,!0),t.lineTo(e+r,i+a.topRight),t.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-M,!0),t.lineTo(e+a.topLeft,i)}function Ye(o,l=[""],t,e,s=()=>o[0]){let i=t||o;void 0===e&&(e=ei("_fallback",o));t={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:o,_rootScopes:i,_fallback:e,_getTarget:s,override:t=>Ye([t,...o],l,i,e)};return new Proxy(t,{deleteProperty:(t,e)=>(delete t[e],delete t._keys,delete o[0][e],!0),get:(a,n)=>Ke(a,n,()=>{var t,e,i=n,r=o,s=a;for(e of l)if(t=ei(Ue(e,i),r),void 0!==t)return $e(i,t)?Ze(r,s,i,t):t}),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(o[0]),has:(t,e)=>ii(t).includes(e),ownKeys:t=>ii(t),set(t,e,i){var r=t._storage||(t._storage=s());return t[e]=r[e]=i,delete t._keys,!0}})}function Ge(r,e,i,s){var t={_cacheable:!1,_proxy:r,_context:e,_subProxy:i,_stack:new Set,_descriptors:qe(r,s),setContext:t=>Ge(r,t,i,s),override:t=>Ge(r.override(t),e,i,s)};return new Proxy(t,{deleteProperty:(t,e)=>(delete t[e],delete r[e],!0),get:(o,h,c)=>Ke(o,h,()=>{{var l=o,e=h,i=c,{_proxy:r,_context:s,_subProxy:a,_descriptors:n}=l;let t=r[e];return P(t=p(t)&&n.isScriptable(e)?((t,e,i)=>{var{_proxy:r,_context:s,_subProxy:a,_stack:n}=l;if(n.has(t))throw new Error("Recursion detected: "+Array.from(n).join("->")+"->"+t);n.add(t);let o=e(s,a||i);return n.delete(t),o=$e(t,o)?Ze(r._scopes,r,t,o):o})(e,t,i):t)&&t.length&&(t=((s,a,t,e)=>{var{_proxy:n,_context:o,_subProxy:l,_descriptors:h}=t;if(void 0!==o.index&&e(s))return a[o.index%a.length];if(O(a[0])){let i=a,r=n._scopes.filter(t=>t!==i);a=[];for(let e of i){let t=Ze(r,n,s,e);a.push(Ge(t,o,l&&l[s],h))}}return a})(e,t,l,n.isIndexable)),t=$e(e,t)?Ge(t,s,a&&a[e],n):t}}),getOwnPropertyDescriptor:(t,e)=>t._descriptors.allKeys?Reflect.has(r,e)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(r,e),getPrototypeOf:()=>Reflect.getPrototypeOf(r),has:(t,e)=>Reflect.has(r,e),ownKeys:()=>Reflect.ownKeys(r),set:(t,e,i)=>(r[e]=i,delete t[e],!0)})}function qe(t,e={scriptable:!0,indexable:!0}){let{_scriptable:i=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:i,indexable:r,isScriptable:p(i)?i:()=>i,isIndexable:p(r)?r:()=>r}}let Ue=(t,e)=>t?t+$(e):e,$e=(t,e)=>O(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Ke(t,e,i){return Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e?t[e]:(i=i(),t[e]=i)}function Je(t,e,i){return p(t)?t(e,i):t}let Qe=(t,e)=>!0===t?e:"string"==typeof t?f(e,t):void 0;function Ze(t,r,s,a){var e=r._rootScopes,i=Je(r._fallback,s,a),t=[...t,...e],n=new Set,o=(n.add(a),ti(n,t,s,i||s,a));return null!==o&&(void 0===i||i===s||null!==(o=ti(n,t,i,o,a)))&&Ye(Array.from(n),[""],e,i,()=>{return t=s,e=a,i=r._getTarget(),t in i||(i[t]={}),P(i=i[t])&&O(e)?e:i||{};var t,e,i})}function ti(t,e,i,r,s){for(;i;)i=((e,t,i,r,s)=>{for(var a of t){let t=Qe(i,a);if(t){e.add(t);a=Je(t._fallback,i,s);if(void 0!==a&&a!==i&&a!==r)return a}else if(!1===t&&void 0!==r&&i!==r)return null}return!1})(t,e,i,r,s);return i}function ei(e,t){for(var i of t)if(i){let t=i[e];if(void 0!==t)return t}}function ii(t){let e=t._keys;return e=e||(t._keys=(t=>{var e,i=new Set;for(e of t)for(let t of Object.keys(e).filter(t=>!t.startsWith("_")))i.add(t);return Array.from(i)})(t._scopes))}function ri(t,e,i,r){var s=t.iScale,{key:a="r"}=this._parsing,n=new Array(r);let o,l,h,c;for(o=0,l=r;o<l;++o)c=e[h=o+i],n[o]={r:s.parse(f(c,a),h)};return n}let si=Number.EPSILON||1e-14,ai=(t,e)=>e<t.length&&!t[e].skip&&t[e],ni=t=>"x"===t?"y":"x";function oi(t,e,i,r){var t=t.skip?e:t,s=e,e=i.skip?e:i,i=pt(s,t),a=pt(e,s),n=i/(i+a),i=a/(i+a),a=r*(isNaN(n)?0:n),n=r*(isNaN(i)?0:i);return{previous:{x:s.x-a*(e.x-t.x),y:s.y-a*(e.y-t.y)},next:{x:s.x+n*(e.x-t.x),y:s.y+n*(e.y-t.y)}}}function li(l,e="x"){var i=ni(e),t=l.length,o=Array(t).fill(0),h=Array(t);let r,s,a,n=ai(l,0);for(r=0;r<t;++r)if(s=a,a=n,n=ai(l,r+1),a){if(n){let t=n[e]-a[e];o[r]=0!=t?(n[i]-a[i])/t:0}h[r]=s?n?x(o[r-1])!==x(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}{var c=l,d=o,u=h,p=c.length;let e,i,r,s,a,n=ai(c,0);for(let t=0;t<p-1;++t)a=n,n=ai(c,t+1),a&&n&&(st(d[t],0,si)?u[t]=u[t+1]=0:(e=u[t]/d[t],i=u[t+1]/d[t],(s=Math.pow(e,2)+Math.pow(i,2))<=9||(r=3/Math.sqrt(s),u[t]=e*r*d[t],u[t+1]=i*r*d[t])))}{var[f,g,m="x"]=[l,h,e];let r=ni(m),t=f.length,s,a,n,o=ai(f,0);for(let i=0;i<t;++i)if(a=n,n=o,o=ai(f,i+1),n){let t=n[m],e=n[r];a&&(s=(t-a[m])/3,n["cp1"+m]=t-s,n["cp1"+r]=e-s*g[i]),o&&(s=(o[m]-t)/3,n["cp2"+m]=t+s,n["cp2"+r]=e+s*g[i])}}}function hi(t,e,i){return Math.max(Math.min(t,i),e)}function ci(n,e,o,i,t){let r,s,a,l;if(e.spanGaps&&(n=n.filter(t=>!t.skip)),"monotone"===e.cubicInterpolationMode)li(n,t);else{let t=i?n[n.length-1]:n[0];for(r=0,s=n.length;r<s;++r)a=n[r],l=oi(t,a,n[Math.min(r+1,s-(i?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,t=a}if(e.capBezierPoints){var h=n,c=o;let t,e,i,r,s,a=_(h[0],c);for(t=0,e=h.length;t<e;++t)s=r,r=a,a=t<e-1&&_(h[t+1],c),r&&(i=h[t],s&&(i.cp1x=hi(i.cp1x,c.left,c.right),i.cp1y=hi(i.cp1y,c.top,c.bottom)),a)&&(i.cp2x=hi(i.cp2x,c.left,c.right),i.cp2y=hi(i.cp2y,c.top,c.bottom))}}let di=t=>0===t||1===t,ui=(t,e,i)=>-Math.pow(2,10*--t)*Math.sin((t-e)*b/i),pi=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*b/i)+1,fi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-(--t*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>--t*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*M),easeOutSine:t=>Math.sin(t*M),easeInOutSine:t=>-.5*(Math.cos(k*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>di(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>1<=t?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1- --t*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>di(t)?t:ui(t,.075,.3),easeOutElastic:t=>di(t)?t:pi(t,.075,.3),easeInOutElastic(t){return di(t)?t:t<.5?.5*ui(2*t,.1125,.45):.5+.5*pi(2*t-1,.1125,.45)},easeInBack(t){return t*t*(2.70158*t-1.70158)},easeOutBack(t){return--t*t*(2.70158*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-fi.easeOutBounce(1-t),easeOutBounce(t){var e=7.5625;return t<1/2.75?e*t*t:t<2/2.75?e*(t-=1.5/2.75)*t+.75:t<2.5/2.75?e*(t-=2.25/2.75)*t+.9375:e*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?.5*fi.easeInBounce(2*t):.5*fi.easeOutBounce(2*t-1)+.5};function gi(t,e,i,r){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function mi(t,e,i,r){return{x:t.x+i*(e.x-t.x),y:("middle"===r?i<.5?t:e:"after"===r?i<1?t:e:0<i?e:t).y}}function vi(t,e,i,r){var s={x:t.cp2x,y:t.cp2y},a={x:e.cp1x,y:e.cp1y},t=gi(t,s,i),s=gi(s,a,i),a=gi(a,e,i),e=gi(t,s,i),t=gi(s,a,i);return gi(e,t,i)}let yi=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xi(t,e){var i=(""+t).match(yi);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}let _i=t=>+t||0;function wi(e,i){var r={},t=O(i),s=t?Object.keys(i):i,a=O(e)?t?t=>D(e[t],e[i[t]]):t=>e[t]:()=>e;for(let t of s)r[t]=_i(a(t));return r}function Si(t){return wi(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ci(t){return wi(t,["topLeft","topRight","bottomLeft","bottomRight"])}function j(t){t=Si(t);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function F(t,e){e=e||I.font;let i=D((t=t||{}).size,e.size),r=("string"==typeof i&&(i=parseInt(i,10)),D(t.style,e.style));r&&!(""+r).match(bi)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);t={family:D(t.family,e.family),lineHeight:xi(D(t.lineHeight,e.lineHeight),i),size:i,style:r,weight:D(t.weight,e.weight),string:""};return t.string=Ae(t),t}function Ti(t,e,i,r){let s,a,n,o=!0;for(s=0,a=t.length;s<a;++s)if(void 0!==(n=t[s])&&(void 0!==e&&"function"==typeof n&&(n=n(e),o=!1),void 0!==i&&P(n)&&(n=n[i%n.length],o=!1),void 0!==n))return r&&!o&&(r.cacheable=!1),n}function ki(t,e,i){var{min:t,max:r}=t,e=N(e,(r-t)/2),s=(t,e)=>i&&0===t?0:t+e;return{min:s(t,-Math.abs(e)),max:s(r,e)}}function Mi(t,e){return Object.assign(Object.create(t),e)}function Ei(t,e,i){return t?(r=e,s=i,{x:t=>r+r+s-t,setWidth(t){s=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t};var r,s}function Pi(t,e){var i,r;"ltr"!==e&&"rtl"!==e||(r=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Oi(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Di(t){return"angle"===t?{between:gt,compare:ft,normalize:y}:{between:c,compare:(t,e)=>t-e,normalize:t=>t}}function Ai({start:t,end:e,count:i,loop:r,style:s}){return{start:t%i,end:e%i,loop:r&&(e-t+1)%i==0,style:s}}function Li(t,i,p){if(!p)return[t];let{property:r,start:s,end:a}=p,n=i.length,{compare:o,between:l,normalize:h}=Di(r),{start:c,end:d,loop:u,style:f}=((t,e)=>{var{property:i,start:r,end:s}=p,{between:a,normalize:n}=Di(i),o=e.length;let l,h,{start:c,end:d,loop:u}=t;if(u){for(c+=o,d+=o,l=0,h=o;l<h&&a(n(e[c%o][i]),r,s);++l)c--,d--;c%=o,d%=o}return d<c&&(d+=o),{start:c,end:d,loop:u,style:t.style}})(t,i),g=[],m,v,y,b,x=null;for(let t=c,e=c;t<=d;++t)(v=i[t%n]).skip||(m=h(v[r]))!==y&&(b=l(m,s,a),null===(x=null===x&&(b||l(s,y,m)&&0!==o(s,y))?0===o(m,s)?t:e:x)||b&&0!==o(a,m)&&!l(a,y,m)||(g.push(Ai({start:x,end:t,loop:u,count:n,style:f})),x=null),e=t,y=m);return null!==x&&g.push(Ai({start:x,end:d,loop:u,count:n,style:f})),g}function Ii(e,i){var r=[],s=e.segments;for(let t=0;t<s.length;t++){var a=Li(s[t],e.points,i);a.length&&r.push(...a)}return r}function ji(t,e){var i,r,s,a=t.points,n=t.options.spanGaps,o=a.length;return o?({start:r,end:s}=((t,e,i)=>{let r=0,s=e-1;if(i&&!n)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,i&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}})(a,o,i=!!t._loop),Fi(t,!0===n?[{start:r,end:s,loop:i}]:((e,i,t,r)=>{var s=e.length,a=[];let n,o=i,l=e[i];for(n=i+1;n<=t;++n){let t=e[n%s];t.skip||t.stop?l.skip||(r=!1,a.push({start:i%s,end:(n-1)%s,loop:r}),i=o=t.stop?n:null):(o=n,l.skip&&(i=n)),l=t}return null!==o&&a.push({start:i%s,end:o%s,loop:r}),a})(a,r,s<r?s+o:s,!!t._fullLoop&&0===r&&s===o-1),a,e)):[]}function Fi(e,i,r,u){if(u&&u.setContext&&r){var p=e,e=i,f=r,g=u;let s=p._chart.getContext(),t=Ri(p.options),{_datasetIndex:a,options:{spanGaps:n}}=p,o=f.length,l=[],h=t,c=e[0].start,d=c;function m(t,e,i,r){var s=n?-1:1;if(t!==e){for(t+=o;f[t%o].skip;)t-=s;for(;f[e%o].skip;)e+=s;t%o!=e%o&&(l.push({start:t%o,end:e%o,loop:i,style:r}),h=r,c=e%o)}}for(let r of e){c=n?c:r.start;let e,i=f[c%o];for(d=c+1;d<=r.end;d++){let t=f[d%o];((t,e)=>{if(e){let i=[];return JSON.stringify(t,r)!==JSON.stringify(e,r);function r(t,e){return ne(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e}}})(e=Ri(g.setContext(Mi(s,{type:"segment",p0:i,p1:t,p0DataIndex:(d-1)%o,p1DataIndex:d%o,datasetIndex:a}))),h)&&m(c,d-1,r.loop,h),i=t,h=e}c<d-1&&m(c,d-1,r.loop,h)}return l}return i}function Ri(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}var Bi=Object.freeze({__proto__:null,HALF_PI:M,INFINITY:tt,PI:k,PITAU:Z,QUARTER_PI:it,RAD_PER_DEG:et,TAU:b,TWO_THIRDS_PI:rt,_addGrace:ki,_alignPixel:je,_alignStartEnd:L,_angleBetween:gt,_angleDiff:ft,_arrayUnique:St,_attachContext:Ge,_bezierCurveTo:We,_bezierInterpolation:vi,_boundSegment:Li,_boundSegments:Ii,_capitalize:$,_computeSegments:ji,_createResolver:Ye,_decimalPlaces:dt,_deprecated:function(t,e,i,r){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+r+'" instead')},_descriptors:qe,_elementsEqual:z,_factorize:nt,_filterBetween:bt,_getParentNode:xe,_getStartAndCountOfVisiblePoints:Pt,_int16Range:mt,_isBetween:c,_isClickEvent:Q,_isDomSupported:be,_isPointInArea:_,_limitValue:E,_longestText:Ie,_lookup:vt,_lookupByKey:m,_measureText:Le,_merger:V,_mergerIf:G,_normalizeAngle:y,_parseObjectDataRadialScale:ri,_pointInLine:gi,_readValueToProps:wi,_rlookupByKey:yt,_scaleRangesChanged:Ot,_setMinAndMaxByKey:ht,_splitKey:U,_steppedInterpolation:mi,_steppedLineTo:He,_textX:Et,_toLeftRightCenter:Mt,_updateBezierControlPoints:ci,addRoundedRectPath:Xe,almostEquals:st,almostWhole:lt,callback:d,clearCanvas:Fe,clipArea:Ne,clone:H,color:oe,createContext:Mi,debounce:kt,defined:K,distanceBetweenPoints:pt,drawPoint:Re,drawPointLegend:Be,each:C,easingEffects:fi,finiteOrDefault:u,fontString:function(t,e,i){return e+" "+t+"px "+i},formatNumber:ue,getAngleFromPoint:ut,getHoverColor:le,getMaximumSize:Ee,getRelativePosition:ke,getRtlAdapter:Ei,getStyle:Se,isArray:P,isFinite:g,isFunction:p,isNullOrUndef:T,isNumber:ot,isObject:O,isPatternOrGradient:ne,listenArrayEvents:_t,log10:o,merge:X,mergeIf:Y,niceNum:at,noop:t,overrideTextDirection:Pi,readUsedSize:De,renderText:Ve,requestAnimFrame:Ct,resolve:Ti,resolveObjectKey:f,restoreTextDirection:Oi,retinaScale:Pe,setsEqual:J,sign:x,splineCurve:oi,splineCurveMonotone:li,supportsEventListenerOptions:Oe,throttled:Tt,toDegrees:ct,toDimension:N,toFont:F,toFontString:Ae,toLineHeight:xi,toPadding:j,toPercentage:B,toRadians:A,toTRBL:Si,toTRBLCorners:Ci,uid:R,unclipArea:ze,unlistenArrayEvents:wt,valueOrDefault:D});function Ni(t,a,e,n,o){var l=t.getSortedVisibleDatasetMetas(),h=e[a];for(let e=0,t=l.length;e<t;++e){let{index:i,data:r}=l[e],{lo:t,hi:s}=((t,s,a,e)=>{let{controller:i,data:n,_sorted:r}=t,o=i._cachedMeta.iScale;if(o&&s===o.axis&&"r"!==s&&r&&n.length){let r=o._reversePixels?yt:m;if(!e)return r(n,s,a);if(i._sharedOptions){let t=n[0],i="function"==typeof t.getRange&&t.getRange(s);if(i){let t=r(n,s,a-i),e=r(n,s,a+i);return{lo:t.lo,hi:e.hi}}}}return{lo:0,hi:n.length-1}})(l[e],a,h,o);for(let e=t;e<=s;++e){let t=r[e];t.skip||n(t,i,e)}}}function zi(r,s,t,a,n){let o=[];return(n||r.isPointInArea(s))&&Ni(r,t,s,function(t,e,i){(n||_(t,r.chartArea,0))&&t.inRange(s.x,s.y,a)&&o.push({element:t,datasetIndex:e,index:i})},!0),o}function Hi(a,n,t,o,l,h){let c=[],d=(t=>{let r=-1!==t.indexOf("x"),s=-1!==t.indexOf("y");return function(t,e){var i=r?Math.abs(t.x-e.x):0,t=s?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(t,2))}})(t),u=Number.POSITIVE_INFINITY;return Ni(a,t,n,function(t,e,i){var r,s=t.inRange(n.x,n.y,l);(!o||s)&&(r=t.getCenterPoint(l),h||a.isPointInArea(r)||s)&&((s=d(n,r))<u?(c=[{element:t,datasetIndex:e,index:i}],u=s):s===u&&c.push({element:t,datasetIndex:e,index:i}))}),c}function Wi(t,e,i,r,s,a){{if(a||t.isPointInArea(e)){if("r"!==i||r)return Hi(t,e,i,r,s,a);{var o=e,l=s;let n=[];return Ni(t,i,o,function(t,e,i){var{startAngle:r,endAngle:s}=t.getProps(["startAngle","endAngle"],l),a=ut(t,{x:o.x,y:o.y}).angle;gt(a,r,s)&&n.push({element:t,datasetIndex:e,index:i})}),n}}return[]}}function Vi(t,r,s,e,a){let n=[],o="x"===s?"inXRange":"inYRange",l=!1;return Ni(t,s,r,(t,e,i)=>{t[o]&&t[o](r[s],a)&&(n.push({element:t,datasetIndex:e,index:i}),l=l||t.inRange(r.x,r.y,a))}),e&&!l?[]:n}var Xi={evaluateInteractionItems:Ni,modes:{index(t,e,i,r){let s=ke(e,t),a=i.axis||"x",n=i.includeInvisible||!1,o=i.intersect?zi(t,s,a,r,n):Wi(t,s,a,!1,r,n),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(t=>{var e=o[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})}),l):[]},dataset(t,e,i,r){var e=ke(e,t),s=i.axis||"xy",a=i.includeInvisible||!1;let n=i.intersect?zi(t,e,s,r,a):Wi(t,e,s,!1,r,a);if(0<n.length){let e=n[0].datasetIndex,i=t.getDatasetMeta(e).data;n=[];for(let t=0;t<i.length;++t)n.push({element:i[t],datasetIndex:e,index:t})}return n},point:(t,e,i,r)=>zi(t,ke(e,t),i.axis||"xy",r,i.includeInvisible||!1),nearest(t,e,i,r){return Wi(t,ke(e,t),i.axis||"xy",i.intersect,r,i.includeInvisible||!1)},x:(t,e,i,r)=>Vi(t,ke(e,t),"x",i.intersect,r),y:(t,e,i,r)=>Vi(t,ke(e,t),"y",i.intersect,r)}};let Yi=["left","top","right","bottom"];function Gi(t,e){return t.filter(t=>t.pos===e)}function qi(t,e){return t.filter(t=>-1===Yi.indexOf(t.pos)&&t.box.axis===e)}function Ui(t,r){return t.sort((t,e)=>{var i=r?e:t,t=r?t:e;return i.weight===t.weight?i.index-t.index:i.weight-t.weight})}function $i(r,s){var a=(t=>{var r,s,a={};for(r of t){let{stack:t,pos:e,stackWeight:i}=r;t&&Yi.includes(e)&&((s=a[t]||(a[t]={count:0,placed:0,weight:0,size:0})).count++,s.weight+=i)}return a})(r),{vBoxMaxWidth:n,hBoxMaxHeight:o}=s;let l,t,h;for(l=0,t=r.length;l<t;++l){let t=(h=r[l]).box.fullSize,e=a[h.stack],i=e&&h.stackWeight/e.weight;h.horizontal?(h.width=i?i*n:t&&s.availableWidth,h.height=o):(h.width=n,h.height=i?i*o:t&&s.availableHeight)}return a}function Ki(t,e,i,r){return Math.max(t[i],e[i])+Math.max(t[r],e[r])}function Ji(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Qi(i,r,s,a){var n=[];let o,t,l,h,c,d;for(o=0,t=i.length,c=0;o<t;++o){l=i[o],(h=l.box).update(l.width||r.w,l.height||r.h,((t,i)=>{let r=i.maxPadding;{let e={left:0,top:0,right:0,bottom:0};return(t=t?["left","right"]:["top","bottom"]).forEach(t=>{e[t]=Math.max(i[t],r[t])}),e}})(l.horizontal,r));let{same:t,other:e}=((e,t,i,r)=>{var{pos:s,box:a}=i,n=e.maxPadding;if(!O(s)){i.size&&(e[s]-=i.size);let t=r[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?a.height:a.width),i.size=t.size/t.count,e[s]+=i.size}return a.getPadding&&Ji(n,a.getPadding()),r=Math.max(0,t.outerWidth-Ki(n,e,"left","right")),s=Math.max(0,t.outerHeight-Ki(n,e,"top","bottom")),a=r!==e.w,t=s!==e.h,e.w=r,e.h=s,i.horizontal?{same:a,other:t}:{same:t,other:a}})(r,s,l,a);c|=t&&n.length,d=d||e,h.fullSize||n.push(l)}return c&&Qi(n,r,s,a)||d}function Zi(t,e,i,r,s){t.top=i,t.left=e,t.right=e+r,t.bottom=i+s,t.width=r,t.height=s}function tr(t,a,n,e){var o,l=n.padding;let{x:h,y:c}=a;for(o of t){let i=o.box,r=e[o.stack]||{count:1,placed:0,weight:1},s=o.stackWeight/r.weight||1;if(o.horizontal){let t=a.w*s,e=r.size||i.height;K(r.start)&&(c=r.start),i.fullSize?Zi(i,l.left,c,n.outerWidth-l.right-l.left,e):Zi(i,a.left+r.placed,c,t,e),r.start=c,r.placed+=t,c=i.bottom}else{let t=a.h*s,e=r.size||i.width;K(r.start)&&(h=r.start),i.fullSize?Zi(i,h,l.top,e,n.outerHeight-l.bottom-l.top):Zi(i,h,a.top+r.placed,e,t),r.start=h,r.placed+=t,h=i.right}}a.x=h,a.y=c}var s={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){e=t.boxes?t.boxes.indexOf(e):-1;-1!==e&&t.boxes.splice(e,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(i,r,s,a){if(i){var n,o,l=j(i.options.layout.padding),h=Math.max(r-l.width,0),c=Math.max(s-l.height,0),d=(u=(t=>{var e=[];let i,r,s,a,n,o;for(i=0,r=(t||[]).length;i<r;++i)({position:a,options:{stack:n,stackWeight:o=1}}=s=t[i]),e.push({index:i,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:n&&a+n,stackWeight:o});return e})(i.boxes),d=Ui(u.filter(t=>t.box.fullSize),!0),p=Ui(Gi(u,"left"),!0),f=Ui(Gi(u,"right")),m=Ui(Gi(u,"top"),!0),n=Ui(Gi(u,"bottom")),o=qi(u,"x"),g=qi(u,"y"),{fullSize:d,leftAndTop:p.concat(m),rightAndBottom:f.concat(g).concat(n).concat(o),chartArea:Gi(u,"chartArea"),vertical:p.concat(f).concat(g),horizontal:m.concat(n).concat(o)}),u=d.vertical,p=d.horizontal,f=(C(i.boxes,t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}),u.reduce((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1,0)||1),g=Object.freeze({outerWidth:r,outerHeight:s,padding:l,availableWidth:h,availableHeight:c,vBoxMaxWidth:h/2/f,hBoxMaxHeight:c/2}),m=Object.assign({},l);Ji(m,j(a));let e=Object.assign({maxPadding:m,w:h,h:c,x:l.left,y:l.top},l),t=$i(u.concat(p),g);Qi(d.fullSize,e,g,t),Qi(u,e,g,t),Qi(p,e,g,t)&&Qi(u,e,g,t);{var v=e;let i=v.maxPadding;function y(t){var e=Math.max(i[t]-v[t],0);return v[t]+=e,e}v.y+=y("top"),v.x+=y("left"),y("right"),y("bottom")}tr(d.leftAndTop,e,g,t),e.x+=e.w,e.y+=e.h,tr(d.rightAndBottom,e,g,t),i.chartArea={left:e.left,top:e.top,right:e.left+e.w,bottom:e.top+e.h,height:e.h,width:e.w},C(d.chartArea,t=>{t=t.box;Object.assign(t,i.chartArea),t.update(e.w,e.h,{left:0,top:0,right:0,bottom:0})})}}};class er{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class ir extends er{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}let rr="$chartjs",sr={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ar=t=>null===t||""===t,nr=!!Oe&&{passive:!0};function or(t,e){for(var i of t)if(i===e||i.contains(e))return!0}function lr(t,e,r){let s=t.canvas,i=new MutationObserver(e=>{let i=!1;for(let t of e)i=i||or(t.addedNodes,s),i=i&&!or(t.removedNodes,s);i&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function hr(t,e,r){let s=t.canvas,i=new MutationObserver(e=>{let i=!1;for(let t of e)i=i||or(t.removedNodes,s),i=i&&!or(t.addedNodes,s);i&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}let cr=new Map,dr=0;function ur(){let i=window.devicePixelRatio;i!==dr&&(dr=i,cr.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function pr(e,t,r){let i=e.canvas,s=i&&xe(i);if(s){let i=Tt((t,e)=>{var i=s.clientWidth;r(t,e),i<s.clientWidth&&r()},window),t=new ResizeObserver(t=>{var t=t[0],e=t.contentRect.width,t=t.contentRect.height;0===e&&0===t||i(e,t)});return t.observe(s),e=e,a=i,cr.size||window.addEventListener("resize",ur),cr.set(e,a),t;var a}}function fr(t,e,i){i&&i.disconnect(),"resize"===e&&(i=t,cr.delete(i),cr.size||window.removeEventListener("resize",ur))}function gr(e,t,i){var r=e.canvas,s=Tt(t=>{null!==e.ctx&&i(((t,e)=>{var i=sr[t.type]||t.type,{x:r,y:s}=ke(t,e);return{type:i,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==s?s:null}})(t,e))},e);return r&&r.addEventListener(t,s,nr),s}class mr extends er{acquireContext(e,t){var i=e&&e.getContext&&e.getContext("2d");{if(i&&i.canvas===e){var r=t,t=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[rr]={initial:{height:s,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ar(a)){let t=De(e,"width");void 0!==t&&(e.width=t)}if(ar(s))if(""===e.style.height)e.height=e.width/(r||2);else{let t=De(e,"height");void 0!==t&&(e.height=t)}return i}return null}}releaseContext(t){let i=t.canvas;if(!i[rr])return!1;let r=i[rr].initial,e=(["height","width"].forEach(t=>{var e=r[t];T(e)?i.removeAttribute(t):i.setAttribute(t,e)}),r.style||{});return Object.keys(e).forEach(t=>{i.style[t]=e[t]}),i.width=i.width,delete i[rr],!0}addEventListener(t,e,i){this.removeEventListener(t,e);var r=t.$proxies||(t.$proxies={}),s={attach:lr,detach:hr,resize:pr}[e]||gr;r[e]=s(t,e,i)}removeEventListener(t,e){var i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:fr,detach:fr,resize:fr}[e]||function(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,nr)})(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return Ee(t,e,i,r)}isAttached(t){t=t&&xe(t);return!(!t||!t.isConnected)}}function vr(t){return!be()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?ir:mr}let yr=Object.freeze({__proto__:null,BasePlatform:er,BasicPlatform:ir,DomPlatform:mr,_detectPlatform:vr}),br="transparent",xr={boolean:(t,e,i)=>.5<i?e:t,color(t,e,i){var t=oe(t||br),r=t.valid&&oe(e||br);return r&&r.valid?r.mix(t,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class _r{constructor(t,e,i,r){var s=e[i],s=(r=Ti([t.to,r,s,t.from]),Ti([t.from,s,r]));this._active=!0,this._fn=t.fn||xr[t.type||typeof s],this._easing=fi[t.easing]||fi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){var r,s,a;this._active&&(this._notify(!1),r=this._target[this._prop],s=i-this._start,a=this._duration-s,this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=Ti([t.to,e,r,t.from]),this._from=Ti([t.from,r,e]))}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){var t=t-this._start,e=this._duration,i=this._prop,r=this._from,s=this._loop,a=this._to;this._active=r!==a&&(s||t<e),this._active?t<0?this._target[i]=r:(t=t/e%2,t=this._easing(Math.min(1,Math.max(0,s&&1<t?2-t:t))),this._target[i]=this._fn(r,a,t)):(this._target[i]=a,this._notify(!0))}wait(){let i=this._promises||(this._promises=[]);return new Promise((t,e)=>{i.push({res:t,rej:e})})}_notify(t){var e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class wr{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(O(t)){let s=Object.keys(I.animation),a=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{var r=t[i];if(O(r)){let e={};for(let t of s)e[t]=r[t];(P(r.properties)&&r.properties||[i]).forEach(t=>{t!==i&&a.has(t)||a.set(t,e)})}})}}_animateOptions(t,e){let i=e.options,r=((e,i)=>{if(i){let t=e.options;if(t)return t.$shared&&(e.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;e.options=i}})(t,i);return r?(e=this._createAnimations(r,i),i.$shared&&((e,t)=>{var i=[],r=Object.keys(t);for(let t=0;t<r.length;t++){var s=e[r[t]];s&&s.active()&&i.push(s.wait())}return Promise.all(i)})(t.options.$animations,i).then(()=>{t.options=i},()=>{}),e):[]}_createAnimations(e,i){var r=this._properties,s=[],a=e.$animations||(e.$animations={}),t=Object.keys(i),n=Date.now();let o;for(o=t.length-1;0<=o;--o){var l=t[o];if("$"!==l.charAt(0))if("options"===l)s.push(...this._animateOptions(e,i));else{var h=i[l];let t=a[l];var c=r.get(l);if(t){if(c&&t.active()){t.update(c,h,n);continue}t.cancel()}c&&c.duration?(a[l]=t=new _r(c,e,l,h),s.push(t)):e[l]=h}}return s}update(t,e){var i;if(0!==this._properties.size)return(i=this._createAnimations(t,e)).length?(a.add(this._chart,i),!0):void 0;Object.assign(t,e)}}function Sr(t,e){var t=t&&t.options||{},i=t.reverse,r=void 0===t.min?e:0,t=void 0===t.max?e:0;return{start:i?t:r,end:i?r:t}}function Cr(t,e){var i=[],r=t._getSortedDatasetMetas(e);let s,a;for(s=0,a=r.length;s<a;++s)i.push(r[s].index);return i}function Tr(t,e,i,r={}){var s=t.keys,a="single"===r.mode;let n,o,l,h;if(null!==e){for(n=0,o=s.length;n<o;++n){if((l=+s[n])===i){if(r.all)continue;break}g(h=t.values[l])&&(a||0===e||x(e)===x(h))&&(e+=h)}return e}}function kr(t,e){t=t&&t.options.stacked;return t||void 0===t&&void 0!==e.stack}function Mr(e,t,i,r){for(var s of t.getMatchingVisibleMetas(r).reverse()){let t=e[s.index];if(i&&0<t||!i&&t<0)return s.index}return null}function Er(t,s){let{chart:e,_cachedMeta:a}=t,n=e._stacks||(e._stacks={}),{iScale:i,vScale:o,index:l}=a,h=i.axis,c=o.axis,d=i.id+`.${o.id}.`+(a.stack||a.type),u=s.length;var p,f,g;for(let r=0;r<u;++r){let t=s[r],{[h]:e,[c]:i}=t;(f=(t._stacks||(t._stacks={}))[c]=(g=e,(p=(p=n)[f=d]||(p[f]={}))[g]||(p[g]={})))[l]=i,f._top=Mr(f,o,!0,a.type),f._bottom=Mr(f,o,!1,a.type),(f._visualValues||(f._visualValues={}))[l]=i}}function Pr(t,e){let i=t.scales;return Object.keys(i).filter(t=>i[t].axis===e).shift()}function Or(t,i){var r=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){i=i||t._parsed;for(let e of i){let t=e._stacks;if(!t||void 0===t[s]||void 0===t[s][r])return;delete t[s][r],void 0!==t[s]._visualValues&&void 0!==t[s]._visualValues[r]&&delete t[s]._visualValues[r]}}}let Dr=t=>"reset"===t||"none"===t,Ar=(t,e)=>e?t:Object.assign({},t);class Lr{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){var t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=kr(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Or(this._cachedMeta),this.index=t}linkScales(){var t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(t,e,i,r)=>"x"===t?e:"r"===t?r:i,s=e.xAxisID=D(i.xAxisID,Pr(t,"x")),a=e.yAxisID=D(i.yAxisID,Pr(t,"y")),i=e.rAxisID=D(i.rAxisID,Pr(t,"r")),t=e.indexAxis,n=e.iAxisID=r(t,s,a,i),r=e.vAxisID=r(t,a,s,i);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(a),e.rScale=this.getScaleForId(i),e.iScale=this.getScaleForId(n),e.vScale=this.getScaleForId(r)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){var e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){var t=this._cachedMeta;this._data&&wt(this._data,this),t._stacked&&Or(t)}_dataCheck(){let t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(O(e)){let c=this._cachedMeta;this._data=(t=>{var{iScale:e,vScale:i}=c,r="x"===e.axis?"x":"y",s="x"===i.axis?"x":"y",a=Object.keys(t),n=new Array(a.length);let o,l,h;for(o=0,l=a.length;o<l;++o)h=a[o],n[o]={[r]:h,[s]:t[h]};return n})(e)}else if(i!==e){if(i){wt(i,this);let t=this._cachedMeta;Or(t),t._parsed=[]}e&&Object.isExtensible(e)&&_t(e,this),this._syncList=[],this._data=e}}addElements(){var t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){var e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();var s=e._stacked;e._stacked=kr(e.vScale,e),e.stack!==i.stack&&(r=!0,Or(e),e.stack=i.stack),this._resyncElements(t),!r&&s===e._stacked||Er(this,e._parsed)}configure(){var t=this.chart.config,e=t.datasetScopeKeys(this._type),e=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(e,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:r,_data:s}=this,{iScale:t,_stacked:a}=r,n=t.axis,o,l,h,c=0===e&&i===s.length||r._sorted,d=0<e&&r._parsed[e-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,h=s;else{h=P(s[e])?this.parseArrayData(r,s,e,i):O(s[e])?this.parseObjectData(r,s,e,i):this.parsePrimitiveData(r,s,e,i);let t=()=>null===l[n]||d&&l[n]<d[n];for(o=0;o<i;++o)r._parsed[o+e]=l=h[o],c&&(t()&&(c=!1),d=l);r._sorted=c}a&&Er(this,h)}parsePrimitiveData(t,e,i,r){var{iScale:s,vScale:a}=t,n=s.axis,o=a.axis,l=s.getLabels(),h=s===a,c=new Array(r);let d,u,p;for(d=0,u=r;d<u;++d)p=d+i,c[d]={[n]:h||s.parse(l[p],p),[o]:a.parse(e[p],p)};return c}parseArrayData(t,e,i,r){var{xScale:s,yScale:a}=t,n=new Array(r);let o,l,h,c;for(o=0,l=r;o<l;++o)c=e[h=o+i],n[o]={x:s.parse(c[0],h),y:a.parse(c[1],h)};return n}parseObjectData(t,e,i,r){var{xScale:s,yScale:a}=t,{xAxisKey:n="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let h,c,d,u;for(h=0,c=r;h<c;++h)u=e[d=h+i],l[h]={x:s.parse(f(u,n),d),y:a.parse(f(u,o),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){var r=this.chart,s=this._cachedMeta,a=e[t.axis];return Tr({keys:Cr(r,!0),values:e._stacks[t.axis]._visualValues},a,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){var s=i[e.axis];let a=null===s?NaN:s;i=r&&i._stacks[e.axis];r&&i&&(r.values=i,a=Tr(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(e,t){let i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,a=r.length,n=this._getOtherScale(e),o=(d=this.chart,t&&!i.hidden&&i._stacked&&{keys:Cr(d,!0),values:null}),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:c}=(()=>{var{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}})();var d;let u,p;function f(){var t=(p=r[u])[n.axis];return!g(p[e.axis])||h>t||c<t}for(u=0;u<a&&(f()||(this.updateRangeFromParsed(l,e,p,o),!s));++u);if(s)for(u=a-1;0<=u;--u)if(!f()){this.updateRangeFromParsed(l,e,p,o);break}return l}getAllParsedValues(t){var e=this._cachedMeta._parsed,i=[];let r,s,a;for(r=0,s=e.length;r<s;++r)g(a=e[r][t.axis])&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){var e=this._cachedMeta,i=e.iScale,e=e.vScale,t=this.getParsed(t);return{label:i?""+i.getLabelForValue(t[i.axis]):"",value:e?""+e.getLabelForValue(t[e.axis]):""}}_update(t){var e,i=this._cachedMeta;this.update(t||"default"),i._clip=(t=>{let e,i,r,s;return O(t)?(e=t.top,i=t.right,r=t.bottom,s=t.left):e=i=r=s=t,{top:e,right:i,bottom:r,left:s,disabled:!1===t}})(D(this.options.clip,(t=i.xScale,i=i.yScale,!1!==(e=this.getMaxOverflow())&&(t=Sr(t,e),{top:(i=Sr(i,e)).end,right:t.end,bottom:i.start,left:t.start}))))}update(t){}draw(){let e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,a=[],n=this._drawStart||0,o=this._drawCount||r.length-n,l=this.options.drawActiveElementsOnTop,h;for(i.dataset&&i.dataset.draw(e,s,n,o),h=n;h<n+o;++h){let t=r[h];t.hidden||(t.active&&l?a.push(t):t.draw(e,s))}for(h=0;h<a.length;++h)a[h].draw(e,s)}getStyle(t,e){e=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(e):this.resolveDataElementOptions(t||0,e)}getContext(e,t,i){var r,s=this.getDataset();let a;if(0<=e&&e<this._cachedMeta.data.length){let t=this._cachedMeta.data[e];(a=t.$context||(t.$context=Mi(this.getContext(),{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"}))).parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else(a=this.$context||(this.$context=(e=this.chart.getContext(),r=this.index,Mi(e,{active:!1,dataset:void 0,datasetIndex:r,index:r,mode:"default",type:"dataset"})))).dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){let r="active"===e,s=this._cachedDataOpts,a=t+"-"+e,n=s[a],o=this.enableOptionSharing&&K(i);var l,h,c;return n?Ar(n,o):(h=(c=this.chart.config).datasetElementScopeKeys(this._type,t),l=r?[t+"Hover","hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),h),t=Object.keys(I.elements[t]),(c=c.resolveNamedOptions(h,t,()=>this.getContext(i,r,e),l)).$shared&&(c.$shared=o,s[a]=Object.freeze(Ar(c,o))),c)}_resolveAnimations(r,s,a){let t=this.chart,e=this._cachedDataOpts,i="animation-"+s,n=e[i];if(n)return n;let o;if(!1!==t.options.animation){let t=this.chart.config,e=t.datasetAnimationScopeKeys(this._type,s),i=t.getOptionScopes(this.getDataset(),e);o=t.createResolver(i,this.getContext(r,a,s))}r=new wr(t,o&&o.animations);return o&&o._cacheable&&(e[i]=Object.freeze(r)),r}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Dr(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){var t=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(t),i=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,t),{sharedOptions:r,includeOptions:i}}updateElement(t,e,i,r){Dr(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Dr(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;var s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let e=this._data,i=this._cachedMeta.data;for(let[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];var r=i.length,s=e.length,a=Math.min(s,r);a&&this.parse(0,a),r<s?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){let r=this._cachedMeta,s=r.data,a=t+e,n;var o=t=>{for(t.length+=e,n=t.length-1;n>=a;n--)t[n]=t[n-e]};for(o(s),n=t;n<a;++n)s[n]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){var i,r=this._cachedMeta;this._parsing&&(i=r._parsed.splice(t,e),r._stacked)&&Or(r,i),r.data.splice(t,e)}_sync(t){var e,i,r;this._parsing?this._syncList.push(t):([e,i,r]=t,this[e](i,r)),this.chart._dataChanges.push([this.index,...t])}_onDataPush(){var t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);e=arguments.length-2;e&&this._sync(["_insertElements",t,e])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class e{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){var{x:t,y:e}=this.getProps(["x","y"],t);return{x:t,y:e}}hasValue(){return ot(this.x)&&ot(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let r={};return t.forEach(t=>{r[t]=i[t]&&i[t].active()?i[t]._to:this[t]}),r}}function Ir(t,r){let e=t.options.ticks,i=(c=(t=t).options.offset,d=t._tickSize(),c=t._length/d+(c?0:1),Math.floor(Math.min(c,t._maxLength/d))),s=Math.min(e.maxTicksLimit||i,i),a=e.major.enabled?(t=>{var e=[];let i,r;for(i=0,r=t.length;i<r;i++)t[i].major&&e.push(i);return e})(r):[],n=a.length,o=a[0],l=a[n-1],h=[];var c,d;if(s<n){var u=r;var p=h;var f=a;var g=n/s;let t,e=0,i=f[0];for(g=Math.ceil(g),t=0;t<u.length;t++)t===i&&(p.push(u[t]),e++,i=f[e*g])}else{var m=((t,e,i)=>{var t=(t=>{var e=t.length;let i,r;if(e<2)return!1;for(r=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==r)return!1;return r})(t),r=e.length/i;if(t){var s=nt(t);for(let e=0,t=s.length-1;e<t;e++){let t=s[e];if(t>r)return t}}return Math.max(r,1)})(a,r,s);if(0<n){let t,e,i=1<n?Math.round((l-o)/(n-1)):null;for(jr(r,h,m,T(i)?0:o-i,o),t=0,e=n-1;t<e;t++)jr(r,h,m,a[t],a[t+1]);jr(r,h,m,l,T(i)?r.length:l+i)}else jr(r,h,m)}return h}function jr(t,e,i,r,s){var a=D(r,0),n=Math.min(D(s,t.length),t.length);let o,l,h,c=0;for(i=Math.ceil(i),s&&(i=(o=s-r)/Math.floor(o/i)),h=a;h<0;)c++,h=Math.round(a+c*i);for(l=Math.max(a,0);l<n;l++)l===h&&(e.push(t[l]),c++,h=Math.round(a+c*i))}let Fr=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,Rr=(t,e)=>Math.min(e||t,t);function Br(t,e){var i=[],r=t.length/e,s=t.length;let a=0;for(;a<s;a+=r)i.push(t[Math.floor(a)]);return i}function Nr(t){return t.drawTicks?t.tickLength:0}function zr(t,e){var i;return t.display?(e=F(t.font,e),i=j(t.padding),(P(t.text)?t.text.length:1)*e.lineHeight+i.height):0}class Hr extends e{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){var{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this,t=u(t,Number.POSITIVE_INFINITY),e=u(e,Number.NEGATIVE_INFINITY),i=u(i,Number.POSITIVE_INFINITY),r=u(r,Number.NEGATIVE_INFINITY);return{min:u(t,i),max:u(e,r),minDefined:g(t),maxDefined:g(e)}}getMinMax(i){let r,{min:s,max:a,minDefined:n,maxDefined:o}=this.getUserBounds();if(n&&o)return{min:s,max:a};var l=this.getMatchingVisibleMetas();for(let t=0,e=l.length;t<e;++t)r=l[t].controller.getMinMax(this,i),n||(s=Math.min(s,r.min)),o||(a=Math.max(a,r.max));return s=o&&s>a?a:s,a=n&&s>a?s:a,{min:u(s,u(a,s)),max:u(a,u(s,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){d(this.options.beforeUpdate,[this])}update(t,e,i){var{beginAtZero:r,grace:s,ticks:a}=this.options,n=a.sampleSize,t=(this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ki(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks(),n<this.ticks.length);this._convertTicksToLabels(t?Br(this.ticks,n):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Ir(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),t&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){d(this.options.afterUpdate,[this])}beforeSetDimensions(){d(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){d(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),d(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){d(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){var e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)(s=t[i]).label=d(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){d(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){d(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){var t,e,i,r,s=this.options,a=s.ticks,n=Rr(this.ticks.length,s.ticks.maxTicksLimit),o=a.minRotation||0,l=a.maxRotation;let h,c,d,u=o;!this._isVisible()||!a.display||l<=o||n<=1||!this.isHorizontal()?this.labelRotation=o:(e=(t=this._getLabelSizes()).widest.width,i=t.highest.height,r=E(this.chart.width-e,0,this.maxWidth),(s.offset?this.maxWidth/n:r/(n-1))<e+6&&(h=r/(n-(s.offset?.5:1)),c=this.maxHeight-Nr(s.grid)-a.padding-zr(s.title,this.chart.options.font),d=Math.sqrt(e*e+i*i),u=ct(Math.min(Math.asin(E((t.highest.height+6)/h,-1,1)),Math.asin(E(c/d,-1,1))-Math.asin(E(i/d,-1,1)))),u=Math.max(o,Math.min(l,u))),this.labelRotation=u)}afterCalculateLabelRotation(){d(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){d(this.options.beforeFit,[this])}fit(){let l={width:0,height:0},{chart:e,options:{ticks:h,title:i,grid:r}}=this,t=this._isVisible(),c=this.isHorizontal();if(t){let t=zr(i,e.options.font);if(c?(l.width=this.maxWidth,l.height=Nr(r)+t):(l.height=this.maxHeight,l.width=Nr(r)+t),h.display&&this.ticks.length){let{first:t,last:e,widest:i,highest:r}=this._getLabelSizes(),s=2*h.padding,a=A(this.labelRotation),n=Math.cos(a),o=Math.sin(a);if(c){let t=h.mirror?0:o*i.width+n*r.height;l.height=Math.min(this.maxHeight,l.height+t+s)}else{let t=h.mirror?0:n*i.width+o*r.height;l.width=Math.min(this.maxWidth,l.width+t+s)}this._calculatePadding(t,e,o,n)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=l.height):(this.width=l.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,a,n,o){let{ticks:{align:l,padding:h},position:t}=this.options,c=0!==this.labelRotation,d="top"!==t&&"x"===this.axis;if(this.isHorizontal()){let t=this.getPixelForTick(0)-this.left,e=this.right-this.getPixelForTick(this.ticks.length-1),i=0,r=0;c?r=d?(i=o*s.width,n*a.height):(i=n*s.height,o*a.width):"start"===l?r=a.width:"end"===l?i=s.width:"inner"!==l&&(i=s.width/2,r=a.width/2),this.paddingLeft=Math.max((i-t+h)*this.width/(this.width-t),0),this.paddingRight=Math.max((r-e+h)*this.width/(this.width-e),0)}else{let t=a.height/2,e=s.height/2;"start"===l?(t=0,e=s.height):"end"===l&&(t=a.height,e=0),this.paddingTop=t+h,this.paddingBottom=e+h}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){d(this.options.afterFit,[this])}isHorizontal(){var{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)T(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){var i=this.options.ticks.sampleSize;let t=this.ticks;i<t.length&&(t=Br(t,i)),this._labelSizes=e=this._computeLabelSizes(t,t.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(t,e,i){let{ctx:r,_longestTextCache:s}=this,a=[],n=[],o=Math.floor(e/Rr(e,i)),l,h,c,d,u,p,f,g,m,v,y,b=0,x=0;for(l=0;l<e;l+=o){if(d=t[l].label,u=this._resolveTickFontOptions(l),r.font=p=u.string,f=s[p]=s[p]||{data:{},gc:[]},g=u.lineHeight,m=v=0,T(d)||P(d)){if(P(d))for(h=0,c=d.length;h<c;++h)T(y=d[h])||P(y)||(m=Le(r,f.data,f.gc,m,y),v+=g)}else m=Le(r,f.data,f.gc,m,d),v=g;a.push(m),n.push(v),b=Math.max(m,b),x=Math.max(v,x)}_=e,C(s,t=>{var e=t.gc,i=e.length/2;let r;if(_<i){for(r=0;r<i;++r)delete t.data[e[r]];e.splice(0,i)}});var _,i=a.indexOf(b),w=n.indexOf(x),S=t=>({width:a[t]||0,height:n[t]||0});return{first:S(0),last:S(e-1),widest:S(i),highest:S(w),widths:a,heights:n}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);t=this._startPixel+t*this._length;return mt(this._alignToPixels?je(this.chart,t,0):t)}getDecimalForPixel(t){t=(t-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){var{min:t,max:e}=this;return t<0&&e<0?e:0<t&&0<e?t:0}getContext(t){var e=this.ticks||[];return 0<=t&&t<e.length?(e=e[t]).$context||(e.$context=Mi(this.getContext(),{tick:e,index:t,type:"tick"})):this.$context||(this.$context=Mi(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){var t=this.options.ticks,e=A(this.labelRotation),i=Math.abs(Math.cos(e)),e=Math.abs(Math.sin(e)),r=this._getLabelSizes(),t=t.autoSkipPadding||0,s=r?r.widest.width+t:0,r=r?r.highest.height+t:0;return this.isHorizontal()?s*e<r*i?s/i:r/e:r*e<s*i?r/i:s/e}_isVisible(){var t=this.options.display;return"auto"!==t?!!t:0<this.getMatchingVisibleMetas().length}_computeGridLineItems(t){function i(t){return je(d,t,l)}let e=this.axis,d=this.chart,r=this.options,{grid:u,position:s,border:p}=r,f=u.offset,g=this.isHorizontal(),a=this.ticks.length+(f?1:0),n=Nr(u),m=[],o=p.setContext(this.getContext()),l=o.display?o.width:0,h=l/2,c,v,y,b,x,_,w,S,C,T,k,M;if("top"===s)c=i(this.bottom),_=this.bottom-n,S=c-h,T=i(t.top)+h,M=t.bottom;else if("bottom"===s)c=i(this.top),T=t.top,M=i(t.bottom)-h,_=c+h,S=this.top+n;else if("left"===s)c=i(this.right),x=this.right-n,w=c-h,C=i(t.left)+h,k=t.right;else if("right"===s)c=i(this.left),C=t.left,k=i(t.right)-h,x=c+h,w=this.left+n;else if("x"===e){if("center"===s)c=i((t.top+t.bottom)/2+.5);else if(O(s)){let t=Object.keys(s)[0],e=s[t];c=i(this.chart.scales[t].getPixelForValue(e))}T=t.top,M=t.bottom,_=c+h,S=_+n}else if("y"===e){if("center"===s)c=i((t.left+t.right)/2);else if(O(s)){let t=Object.keys(s)[0],e=s[t];c=i(this.chart.scales[t].getPixelForValue(e))}x=c-h,w=x-n,C=t.left,k=t.right}var t=D(r.ticks.maxTicksLimit,a),E=Math.max(1,Math.ceil(a/t));for(v=0;v<a;v+=E){let t=this.getContext(v),e=u.setContext(t),i=p.setContext(t),r=e.lineWidth,s=e.color,a=i.dash||[],n=i.dashOffset,o=e.tickWidth,l=e.tickColor,h=e.tickBorderDash||[],c=e.tickBorderDashOffset;void 0!==(y=((t,e,i)=>{var r=t.ticks.length,s=Math.min(e,r-1),a=t._startPixel,n=t._endPixel;let o,l=t.getPixelForTick(s);if(!(i&&(o=1===r?Math.max(l-a,n-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(s-1))/2,(l+=s<e?o:-o)<a-1e-6||l>n+1e-6)))return l})(this,v,f))&&(b=je(d,y,r),g?x=w=C=k=b:_=S=T=M=b,m.push({tx1:x,ty1:_,tx2:w,ty2:S,x1:C,y1:T,x2:k,y2:M,width:r,color:s,borderDash:a,borderDashOffset:n,tickWidth:o,tickColor:l,tickBorderDash:h,tickBorderDashOffset:c}))}return this._ticksLength=a,this._borderValue=c,m}_computeLabelItems(t){let e=this.axis,i=this.options,{position:o,ticks:l}=i,h=this.isHorizontal(),c=this.ticks,{align:r,crossAlign:d,padding:s,mirror:u}=l,a=Nr(i.grid),n=a+s,p=u?-s:n,f=-A(this.labelRotation),g=[],m,v,y,b,x,_,w,S,C,T,k,M="middle";if("top"===o)x=this.bottom-p,_=this._getXAxisLabelAlignment();else if("bottom"===o)x=this.top+p,_=this._getXAxisLabelAlignment();else if("left"===o){let t=this._getYAxisLabelAlignment(a);_=t.textAlign,b=t.x}else if("right"===o){let t=this._getYAxisLabelAlignment(a);_=t.textAlign,b=t.x}else if("x"===e){if("center"===o)x=(t.top+t.bottom)/2+n;else if(O(o)){let t=Object.keys(o)[0],e=o[t];x=this.chart.scales[t].getPixelForValue(e)+n}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===o)b=(t.left+t.right)/2-n;else if(O(o)){let t=Object.keys(o)[0],e=o[t];b=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(a).textAlign}"y"===e&&("start"===r?M="top":"end"===r&&(M="bottom"));var E=this._getLabelSizes();for(m=0,v=c.length;m<v;++m){y=c[m].label;let a=l.setContext(this.getContext(m)),t=(w=this.getPixelForTick(m)+l.labelOffset,C=(S=this._resolveTickFontOptions(m)).lineHeight,(T=P(y)?y.length:1)/2),e=a.color,i=a.textStrokeColor,r=a.textStrokeWidth,n,s=_;if(h?(b=w,"inner"===_&&(s=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),k="top"===o?"near"===d||0!=f?-T*C+C/2:"center"===d?-E.highest.height/2-t*C+C:-E.highest.height+C/2:"near"===d||0!=f?C/2:"center"===d?E.highest.height/2-t*C:E.highest.height-T*C,u&&(k*=-1),0==f||a.showLabelBackdrop||(b+=C/2*Math.sin(f))):(x=w,k=(1-T)*C/2),a.showLabelBackdrop){let t=j(a.backdropPadding),e=E.heights[m],i=E.widths[m],r=k-t.top,s=0-t.left;switch(M){case"middle":r-=e/2;break;case"bottom":r-=e}switch(_){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":m===v-1?s-=i:0<m&&(s-=i/2)}n={left:s,top:r,width:i+t.width,height:e+t.height,color:a.backdropColor}}g.push({label:y,font:S,textOffset:k,options:{rotation:f,color:e,strokeColor:i,strokeWidth:r,textAlign:s,textBaseline:M,translation:[b,x],backdrop:n}})}return g}_getXAxisLabelAlignment(){var{position:t,ticks:e}=this.options;if(-A(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){var{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,t=t+s,a=this._getLabelSizes().widest.width;let n,o;return"left"===e?r?(o=this.right+s,"near"===i?n="left":"center"===i?(n="center",o+=a/2):(n="right",o+=a)):(o=this.right-t,"near"===i?n="right":"center"===i?(n="center",o-=a/2):(n="left",o=this.left)):"right"===e?r?(o=this.left+s,"near"===i?n="right":"center"===i?(n="center",o-=a/2):(n="left",o-=a)):(o=this.left+t,"near"===i?n="left":"center"===i?(n="center",o+=a/2):(n="right",o=this.right)):n="right",{textAlign:n,x:o}}_computeLabelArea(){var t,e;if(!this.options.ticks.mirror)return t=this.chart,"left"===(e=this.options.position)||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){var{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(e){var t,i=this.options.grid;return this._isVisible()&&i.display&&0<=(t=this.ticks.findIndex(t=>t.value===e))?i.setContext(this.getContext(t)).lineWidth:0}drawGrid(t){let e=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),s,a;var n=(t,e,i)=>{i.width&&i.color&&(r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.setLineDash(i.borderDash||[]),r.lineDashOffset=i.borderDashOffset,r.beginPath(),r.moveTo(t.x,t.y),r.lineTo(e.x,e.y),r.stroke(),r.restore())};if(e.display)for(s=0,a=i.length;s<a;++s){let t=i[s];e.drawOnChartArea&&n({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&n({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){var{chart:s,ctx:a,options:{border:n,grid:o}}=this,l=n.setContext(this.getContext()),n=n.display?l.width:0;if(n){var o=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let t,e,i,r;this.isHorizontal()?(t=je(s,this.left,n)-n/2,e=je(s,this.right,o)+o/2,i=r=h):(i=je(s,this.top,n)-n/2,r=je(s,this.bottom,o)+o/2,t=e=h),a.save(),a.lineWidth=l.width,a.strokeStyle=l.color,a.beginPath(),a.moveTo(t,i),a.lineTo(e,r),a.stroke(),a.restore()}}drawLabels(i){if(this.options.ticks.display){let r=this.ctx,t=this._computeLabelArea(),e=(t&&Ne(r,t),this.getLabelItems(i));for(let i of e){let t=i.options,e=i.font;Ve(r,i.label,0,i.textOffset,e,t)}t&&ze(r)}}drawTitle(){var{ctx:e,options:{position:i,title:r,reverse:s}}=this;if(r.display){var a=F(r.font),n=j(r.padding),o=r.align;let t=a.lineHeight/2;"bottom"===i||"center"===i||O(i)?(t+=n.bottom,P(r.text)&&(t+=a.lineHeight*(r.text.length-1))):t+=n.top;var{titleX:n,titleY:l,maxWidth:h,rotation:c}=((t,i,r,e)=>{var{top:s,left:a,bottom:n,right:o,chart:l}=t,{chartArea:l,scales:h}=l;let c,d,u,p=0;var f=n-s,g=o-a;if(t.isHorizontal()){if(d=L(e,a,o),O(r)){let t=Object.keys(r)[0],e=r[t];u=h[t].getPixelForValue(e)+f-i}else u="center"===r?(l.bottom+l.top)/2+f-i:Fr(t,r,i);c=o-a}else{if(O(r)){let t=Object.keys(r)[0],e=r[t];d=h[t].getPixelForValue(e)-g+i}else d="center"===r?(l.left+l.right)/2-g+i:Fr(t,r,i);u=L(e,n,s),p="left"===r?-M:M}return{titleX:d,titleY:u,maxWidth:c,rotation:p}})(this,t,i,o);Ve(e,r.text,0,0,a,{color:r.color,maxWidth:h,rotation:c,textAlign:((t,e,i)=>{let r=Mt(t);return r=i&&"right"!==e||!i&&"right"===e?"left"===(t=r)?"right":"right"===t?"left":t:r})(o,i,s),textBaseline:"middle",translation:[n,l]})}}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){var t=this.options,e=t.ticks&&t.ticks.z||0,i=D(t.grid&&t.grid.z,-1),t=D(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Hr.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:t,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(e){var i=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,t;for(a=0,t=i.length;a<t;++a){let t=i[a];t[r]!==this.id||e&&t.type!==e||s.push(t)}return s}_resolveTickFontOptions(t){return F(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){var t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Wr{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){var e=Object.getPrototypeOf(t);let i;"id"in(n=e)&&"defaults"in n&&(i=this.register(e));var r,s,a,n=this.items,e=t.id,o=this.scope+"."+e;if(e)return e in n||(n[e]=t,n=t,e=o,r=i,r=X(Object.create(null),[r?I.get(r):{},I.get(e),n.defaults]),I.set(e,r),n.defaultRoutes&&(s=e,a=n.defaultRoutes,Object.keys(a).forEach(t=>{var e=t.split("."),i=e.pop(),e=[s].concat(e).join("."),t=a[t].split("."),r=t.pop(),t=t.join(".");I.route(e,i,t,r)})),n.descriptors&&I.describe(e,n.descriptors),this.override&&I.override(t.id,t.overrides)),o;throw new Error("class does not have id: "+t)}get(t){return this.items[t]}unregister(t){var e=this.items,t=t.id,i=this.scope;t in e&&delete e[t],i&&t in I[i]&&(delete I[i][t],this.override)&&delete ge[t]}}var w=new class{constructor(){this.controllers=new Wr(Lr,"datasets",!0),this.elements=new Wr(e,"elements"),this.plugins=new Wr(Object,"plugins"),this.scales=new Wr(Hr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(i,t,r){[...t].forEach(t=>{var e=r||this._getRegistryForType(t);r||e.isForType(t)||e===this.plugins&&t.id?this._exec(i,e,t):C(t,t=>{var e=r||this._getRegistryForType(t);this._exec(i,e,t)})})}_exec(t,e,i){var r=$(t);d(i["before"+r],[],i),e[t](i),d(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){var i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(t,e,i){e=e.get(t);if(void 0===e)throw new Error('"'+t+'" is not a registered '+i+".");return e}};class Vr{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));r=r?this._descriptors(t).filter(r):this._descriptors(t),i=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),i}_notify(t,e,i,r){r=r||{};for(var s of t){let t=s.plugin;if(!1===d(t[i],[e,r,s.options],t)&&r.cancelable)return!1}return!0}invalidate(){T(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){var e;return this._cache||(e=this._cache=this._createDescriptors(t),this._notifyStateChanges(t),e)}_createDescriptors(t,e){var i=t&&t.config,r=D(i.options&&i.options.plugins,{}),i=(t=>{let i={},r=[],e=Object.keys(w.plugins.items);for(let t=0;t<e.length;t++)r.push(w.getPlugin(e[t]));var s=t.plugins||[];for(let e=0;e<s.length;e++){let t=s[e];-1===r.indexOf(t)&&(r.push(t),i[t.id]=!0)}return{plugins:r,localIds:i}})(i);if(!1!==r||e){var s,a,n,o,l,h,c,[d,{plugins:u,localIds:p},f,g]=[t,i,r,e],m=[],v=d.getContext();for(s of u){let t=s.id,e=(c=f[t],g||!1!==c?!0===c?{}:c:null);null!==e&&m.push({plugin:s,options:([c,{plugin:a,local:n},o,l]=[d.config,{plugin:s,local:p[t]},e,v],h=void 0,h=c.pluginScopeKeys(a),o=c.getOptionScopes(o,h),n&&a.defaults&&o.push(a.defaults),c.createResolver(o,l,[""],{scriptable:!1,indexable:!1,allKeys:!0}))})}return m}return[]}_notifyStateChanges(t){var e=this._oldCache||[],i=this._cache,r=(t,i)=>t.filter(e=>!i.some(t=>e.plugin.id===t.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Xr(t,e){var i=I.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function Yr(t){if("x"===t||"y"===t||"r"===t)return t}function Gr(e,...t){if(Yr(e))return e;for(var i of t){let t=i.axis||("top"===(i=i.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||1<e.length&&Yr(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function qr(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function Ur(n,e){let a=ge[n.type]||{scales:{}},o=e.scales||{},l=Xr(n.type,e),h=Object.create(null);return Object.keys(o).forEach(t=>{var e=o[t];if(!O(e))return console.error("Invalid scale configuration for scale: "+t);if(e._proxy)return console.warn("Ignoring resolver passed as options for scale: "+t);let i=Gr(t,e,((e,t)=>{if(t.data&&t.data.datasets){t=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(t.length)return qr(e,"x",t[0])||qr(e,"y",t[0])}return{}})(t,n),I.scales[e.type]),r=i===l?"_index_":"_value_",s=a.scales||{};h[t]=Y(Object.create(null),[{axis:i},e,s[i],s[r]])}),n.data.datasets.forEach(r=>{let t=r.type||n.type,s=r.indexAxis||Xr(t,e),a=(ge[t]||{}).scales||{};Object.keys(a).forEach(t=>{var e=((t,e)=>{let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i})(t,s),i=r[e+"AxisID"]||e;h[i]=h[i]||Object.create(null),Y(h[i],[{axis:e},o[i],a[t]])})}),Object.keys(h).forEach(t=>{t=h[t];Y(t,[I.scales[t.type],I.scale])}),h}function $r(t){var e=t.options||(t.options={});e.plugins=D(e.plugins,{}),e.scales=Ur(t,e)}function Kr(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}let Jr=new Map,Qr=new Set;function Zr(t,e){let i=Jr.get(t);return i||(i=e(),Jr.set(t,i),Qr.add(i)),i}let ts=(t,e,i)=>{e=f(e,i);void 0!==e&&t.add(e)};class es{constructor(t){this._config=((t=(t=t)||{}).data=Kr(t.data),$r(t),t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Kr(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){var t=this._config;this.clearCache(),$r(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Zr(t,()=>[["datasets."+t,""]])}datasetAnimationScopeKeys(t,e){return Zr(t+".transition."+e,()=>[[`datasets.${t}.transitions.`+e,"transitions."+e],["datasets."+t,""]])}datasetElementScopeKeys(t,e){return Zr(t+"-"+e,()=>[[`datasets.${t}.elements.`+e,"datasets."+t,"elements."+e,""]])}pluginScopeKeys(t){let e=t.id;return Zr(this.type+"-plugin-"+e,()=>[["plugins."+e,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){var i=this._scopeCache;let r=i.get(t);return r&&!e||(r=new Map,i.set(t,r)),r}getOptionScopes(e,t,i){let{options:r,type:s}=this,a=this._cachedScopes(e,i),n=a.get(t);if(n)return n;let o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>ts(o,e,t))),t.forEach(t=>ts(o,r,t)),t.forEach(t=>ts(o,ge[s]||{},t)),t.forEach(t=>ts(o,I,t)),t.forEach(t=>ts(o,me,t))});i=Array.from(o);return 0===i.length&&i.push(Object.create(null)),Qr.has(t)&&a.set(t,i),i}chartOptionScopes(){var{options:t,type:e}=this;return[t,ge[e]||{},I.datasets[e]||{},{type:e},I,me]}resolveNamedOptions(t,e,i,r=[""]){var s={$shared:!0},{resolver:r,subPrefixes:a}=is(this._resolverCache,t,r);let n=r;((r,t)=>{var s,{isScriptable:a,isIndexable:n}=qe(r);for(s of t){let t=a(s),e=n(s),i=(e||t)&&r[s];if(t&&(p(i)||rs(i))||e&&P(i))return 1}})(r,e)&&(s.$shared=!1,n=Ge(r,i=p(i)?i():i,this.createResolver(t,i,a)));for(let t of e)s[t]=n[t];return s}createResolver(t,e,i=[""],r){t=is(this._resolverCache,t,i).resolver;return O(e)?Ge(t,e,void 0,r):t}}function is(t,e,i){let r=t.get(e);r||(r=new Map,t.set(e,r));t=i.join();let s=r.get(t);return s||(s={resolver:Ye(e,i),subPrefixes:i.filter(t=>!t.toLowerCase().includes("hover"))},r.set(t,s)),s}let rs=e=>O(e)&&Object.getOwnPropertyNames(e).some(t=>p(e[t])),ss=["top","bottom","left","right","chartArea"];function as(t,e){return"top"===t||"bottom"===t||-1===ss.indexOf(t)&&"x"===e}function ns(i,r){return function(t,e){return t[i]===e[i]?t[r]-e[r]:t[i]-e[i]}}function os(t){var e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),d(i&&i.onComplete,[t],e)}function ls(t){var e=t.chart,i=e.options.animation;d(i&&i.onProgress,[t],e)}function hs(t){return be()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t=t&&t.canvas?t.canvas:t}let cs={},ds=t=>{let e=hs(t);return Object.values(cs).filter(t=>t.canvas===e).pop()};function us(t,e,i){return(t.options.clip?t:e)[i]}class i{static defaults=I;static instances=cs;static overrides=ge;static registry=w;static version="4.4.4";static getChart=ds;static register(...t){w.add(...t),ps()}static unregister(...t){w.remove(...t),ps()}constructor(t,e){var e=this.config=new es(e),t=hs(t),i=ds(t);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");var i=e.createResolver(e.chartOptionScopes(),this.getContext()),e=(this.platform=new(e.platform||vr(t)),this.platform.updateConfig(e),this.platform.acquireContext(t,i.aspectRatio)),t=e&&e.canvas,r=t&&t.height,s=t&&t.width;this.id=R(),this.ctx=e,this.canvas=t,this.width=s,this.height=r,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vr,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kt(t=>this.update(t),i.resizeDelay||0),this._dataChanges=[],cs[this.id]=this,e&&t?(a.listen(this,"complete",os),a.listen(this,"progress",ls),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){var{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return T(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return w}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Pe(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Fe(this.canvas,this.ctx),this}stop(){return a.stop(this),this}resize(t,e){a.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){var i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(r,t,e,s),t=i.devicePixelRatio||this.platform.getDevicePixelRatio(),e=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Pe(this,t,!0)&&(this.notifyPlugins("resize",{size:r}),d(i.onResize,[this,r],this),this.attached)&&this._doResize(e)&&this.render()}ensureScalesHaveIDs(){C(this.options.scales||{},(t,e)=>{t.id=e})}buildOrUpdateScales(){let n=this.options,r=n.scales,o=this.scales,l=Object.keys(o).reduce((t,e)=>(t[e]=!1,t),{}),t=[];C(t=r?t.concat(Object.keys(r).map(t=>{var e=r[t],t=Gr(t,e),i="r"===t,t="x"===t;return{options:e,dposition:i?"chartArea":t?"bottom":"left",dtype:i?"radialLinear":t?"category":"linear"}})):t,t=>{var e=t.options,i=e.id,r=Gr(i,e),s=D(e.type,t.dtype);void 0!==e.position&&as(e.position,r)===as(t.dposition)||(e.position=t.dposition),l[i]=!0;let a=null;i in o&&o[i].type===s?a=o[i]:(a=new(w.getScale(s))({id:i,type:s,ctx:this.ctx,chart:this}),o[a.id]=a),a.init(e,n)}),C(l,(t,e)=>{t||delete o[e]}),C(o,t=>{s.configure(this,t,t.options),s.addBox(this,t)})}_updateMetasets(){var t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((t,e)=>t.index-e.index),e<i){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(ns("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((e,t)=>{0===i.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(t)})}buildOrUpdateControllers(){let s=[],e=this.data.datasets,a,t;for(this._removeUnreferencedMetasets(),a=0,t=e.length;a<t;a++){let t=e[a],r=this.getDatasetMeta(a);var n=t.type||this.config.type;if(r.type&&r.type!==n&&(this._destroyDatasetMeta(a),r=this.getDatasetMeta(a)),r.type=n,r.indexAxis=t.indexAxis||Xr(n,this.options),r.order=t.order||0,r.index=a,r.label=""+t.label,r.visible=this.isDatasetVisible(a),r.controller)r.controller.updateIndex(a),r.controller.linkScales();else{let t=w.getController(n),{datasetElementType:e,dataElementType:i}=I.datasets[n];Object.assign(t,{dataElementType:w.getElement(i),datasetElementType:e&&w.getElement(e)}),r.controller=new t(this,a),s.push(r.controller)}}return this._updateMetasets(),s}_resetElements(){C(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let e=this.config,i=(e.update(),this._options=e.createResolver(e.chartOptionScopes(),this.getContext())),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})){var a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let i=0,t=this.data.datasets.length;i<t;i++){let t=this.getDatasetMeta(i).controller,e=!s&&-1===a.indexOf(t);t.buildOrUpdateElements(e),r=Math.max(+t.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||C(a,t=>{t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ns("z","_idx"));var{_active:t,_lastEvent:n}=this;n?this._eventHandler(n,!0):t.length&&this._updateHoverStyles(t,t,!0),this.render()}}_updateScales(){C(this.scales,t=>{s.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){var t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);J(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){var e,i,r,s,a=this._hiddenIndices;for({method:e,start:i,count:r}of this._getUniformDataChanges()||[]){n=void 0;o=void 0;l=void 0;s=void 0;h=void 0;var n=a;var o=i;var l="_removeElements"===e?-r:r;let t=Object.keys(n);for(var h of t){let t=+h;t>=o&&(s=n[h],delete n[h],0<l||t>o)&&(n[t+l]=s)}}}_getUniformDataChanges(){let t=this._dataChanges;if(t&&t.length){this._dataChanges=[];var e=this.data.datasets.length,i=e=>new Set(t.filter(t=>t[0]===e).map((t,e)=>e+","+t.splice(1).join(","))),r=i(0);for(let t=1;t<e;t++)if(!J(r,i(t)))return;return Array.from(r).map(t=>t.split(",")).map(t=>({method:t[1],start:+t[2],count:+t[3]}))}}_updateLayout(i){if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){s.update(this,this.width,this.height,i);let t=this.chartArea,e=t.width<=0||t.height<=0;this._layers=[],C(this.boxes,t=>{e&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))},this),this._layers.forEach((t,e)=>{t._idx=e}),this.notifyPlugins("afterLayout")}}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,e=this.data.datasets.length;t<e;++t)this._updateDataset(t,p(i)?i({datasetIndex:t}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(t,e){var i=this.getDatasetMeta(t),t={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",t)&&(i.controller._update(e),t.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",t))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(a.has(this)?this.attached&&!a.running(this)&&a.start(this):(this.draw(),os({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}_getSortedDatasetMetas(e){var i=this._sortedMetasets,r=[];let s,t;for(s=0,t=i.length;s<t;++s){let t=i[s];e&&!t.visible||r.push(t)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){var e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;0<=t;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}_drawDataset(r){var t=this.ctx,e=r._clip,i=!e.disabled,s=(t=>{var{xScale:e,yScale:i}=r;return e&&i?{left:us(e,t,"left"),right:us(e,t,"right"),top:us(i,t,"top"),bottom:us(i,t,"bottom")}:t})(this.chartArea),a={meta:r,index:r.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&Ne(t,{left:!1===e.left?0:s.left-e.left,right:!1===e.right?this.width:s.right+e.right,top:!1===e.top?0:s.top-e.top,bottom:!1===e.bottom?this.height:s.bottom+e.bottom}),r.controller.draw(),i&&ze(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return _(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){e=Xi.modes[e];return"function"==typeof e?e(this,t,i,r):[]}getDatasetMeta(t){let e=this.data.datasets[t],i=this._metasets,r=i.filter(t=>t&&t._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Mi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){var e=this.data.datasets[t];return!!e&&("boolean"==typeof(t=this.getDatasetMeta(t)).hidden?!t.hidden:!e.hidden)}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(e,t,i){let r=i?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);K(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),a.update(s,{visible:i}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){var e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),a.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");var{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Fe(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete cs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let i=this._listeners,r=this.platform,e=(t,e)=>{r.addEventListener(this,t,e),i[t]=e},s=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};C(this.options.events,t=>e(t,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let i=this._responsiveListeners,r=this.platform,t=(t,e)=>{r.addEventListener(this,t,e),i[t]=e},e=(t,e)=>{i[t]&&(r.removeEventListener(this,t,e),delete i[t])},s=(t,e)=>{this.canvas&&this.resize(t,e)},a,n=()=>{e("attach",n),this.attached=!0,this.resize(),t("resize",s),t("detach",a)};a=()=>{this.attached=!1,e("resize",s),this._stop(),this._resize(0,0),t("attach",n)},(r.isAttached(this.canvas)?n:a)()}unbindEvents(){C(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},C(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){var r=i?"set":"remove";let s,a,n;for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+r+"DatasetHoverStyle"](),a=0,n=e.length;a<n;++a){let t=(s=e[a])&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){var e=this._active||[],t=t.map(({datasetIndex:t,index:e})=>{var i=this.getDatasetMeta(t);if(i)return{datasetIndex:t,element:i.data[e],index:e};throw new Error("No dataset found at index "+t)});z(t,e)||(this._active=t,this._lastEvent=null,this._updateHoverStyles(t,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(t,e,i){var r=this.options.hover,s=(t,i)=>t.filter(e=>!i.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=s(e,t),i=i?t:s(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),i.length&&r.mode&&this.updateHoverStyle(i,r.mode,!0)}_eventHandler(e,t){var i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1!==this.notifyPlugins("beforeEvent",i,r))return t=this._handleEvent(e,t,i.inChartArea),i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(t||i.changed)&&this.render(),this}_handleEvent(t,e,i){let{_active:r=[],options:s}=this,a=e,n=this._getActiveElements(t,r,i,a),o=Q(t),l=(h=t,c=this._lastEvent,i&&"mouseout"!==h.type?o?c:h:null);i&&(this._lastEvent=null,d(s.onHover,[t,n,this],this),o)&&d(s.onClick,[t,n,this],this);var h,c=!z(n,r);return(c||e)&&(this._active=n,this._updateHoverStyles(n,r,e)),this._lastEvent=l,c}_getActiveElements(t,e,i,r){return"mouseout"===t.type?[]:i?(i=this.options.hover,this.getElementsAtEventForMode(t,i.mode,i,r)):e}}function ps(){C(i.instances,t=>t._plugins.invalidate())}function fs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var gs={_date:class sn{static override(t){Object.assign(sn.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return fs()}parse(){return fs()}format(){return fs()}add(){return fs()}diff(){return fs()}startOf(){return fs()}endOf(){return fs()}}};function ms(t){var e=t.iScale,i=(r=>{if(!r._cache.$bar){var s=r.getMatchingVisibleMetas(t.type);let i=[];for(let t=0,e=s.length;t<e;t++)i=i.concat(s[t].controller.getAllParsedValues(r));r._cache.$bar=St(i.sort((t,e)=>t-e))}return r._cache.$bar})(e);let r,s,a,n,o=e._length;var l=()=>{32767!==a&&-32768!==a&&(K(n)&&(o=Math.min(o,Math.abs(a-n)||o)),n=a)};for(r=0,s=i.length;r<s;++r)a=e.getPixelForValue(i[r]),l();for(n=void 0,r=0,s=e.ticks.length;r<s;++r)a=e.getPixelForTick(r),l();return o}function vs(i,r,s,a){if(P(i)){var n=i,o=r,l=s,h=a,c=l.parse(n[0],h),n=l.parse(n[1],h),h=Math.min(c,n),d=Math.max(c,n);let t=h,e=d;Math.abs(h)>Math.abs(d)&&(t=d,e=h),o[l.axis]=e,o._custom={barStart:t,barEnd:e,start:c,end:n,min:h,max:d}}else r[s.axis]=s.parse(i,a);return r}function ys(t,e,i,r){var s=t.iScale,a=t.vScale,n=s.getLabels(),o=s===a,l=[];let h,c,d,u;for(c=(h=i)+r;h<c;++h)u=e[h],(d={})[s.axis]=o||s.parse(n[h],h),l.push(vs(u,d,a,h));return l}function bs(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function xs(a,t,e,i){let r=t.borderSkipped;var s,n,o,l,h,t={};return r?!0===r?a.borderSkipped={top:!0,right:!0,bottom:!0,left:!0}:({start:s,end:n,reverse:o,top:l,bottom:h}=(()=>{let t,e,i,r,s;return i=a.horizontal?(t=a.base>a.x,e="left","right"):(t=a.base<a.y,e="bottom","top"),s=t?(r="end","start"):(r="start","end"),{start:e,end:i,reverse:t,top:r,bottom:s}})(),"middle"===r&&e&&(a.enableBorderRadius=!0,r=(e._top||0)===i?l:(e._bottom||0)===i?h:(t[_s(h,s,n,o)]=!0,l)),t[_s(r,s,n,o)]=!0,void(a.borderSkipped=t)):a.borderSkipped=t}function _s(t,e,i,r){return t=r?ws(t=t===e?i:t===i?e:t,i,e):ws(t,e,i)}function ws(t,e,i){return"start"===t?e:"end"===t?i:t}class Ss extends Lr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){var t=a.data;if(t.labels.length&&t.datasets.length){let{pointStyle:r,color:s}=a.legend.options.labels;return t.labels.map((t,e)=>{var i=a.getDatasetMeta(0).controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:s,lineWidth:i.borderWidth,pointStyle:r,hidden:!a.getDataVisibility(e),index:e}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(r,s){let a=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=a;else{let t,e,i=t=>+a[t];if(O(a[r])){let{key:e="value"}=this._parsing;i=t=>+f(a[t],e)}for(e=(t=r)+s;t<e;++t)n._parsed[t]=i(t)}}_getRotation(){return A(this.options.rotation-90)}_getCircumference(){return A(this.options.circumference)}_getRotationExtents(){let e=b,i=-b;for(let t=0;t<this.chart.data.datasets.length;++t){var r,s;this.chart.isDatasetVisible(t)&&this.chart.getDatasetMeta(t).type===this._type&&(r=(s=this.chart.getDatasetMeta(t).controller)._getRotation(),s=s._getCircumference(),e=Math.min(e,r),i=Math.max(i,r+s))}return{rotation:e,circumference:i-e}}update(t){var e=this.chart.chartArea,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(e.width,e.height)-s)/2,0),a=Math.min(B(this.options.cutout,a),1),n=this._getRingWeight(this.index),{circumference:o,rotation:l}=this._getRotationExtents(),{ratioX:l,ratioY:o,offsetX:h,offsetY:c}=((u,p,f)=>{let g=1,m=1,v=0,y=0;if(p<b){let r=u,s=r+p,t=Math.cos(r),e=Math.sin(r),i=Math.cos(s),a=Math.sin(s),n=(t,e,i)=>gt(t,r,s,!0)?1:Math.max(e,e*f,i,i*f),o=(t,e,i)=>gt(t,r,s,!0)?-1:Math.min(e,e*f,i,i*f),l=n(0,t,i),h=n(M,e,a),c=o(k,t,i),d=o(k+M,e,a);g=(l-c)/2,m=(h-d)/2,v=-(l+c)/2,y=-(h+d)/2}return{ratioX:g,ratioY:m,offsetX:v,offsetY:y}})(l,o,a),l=(e.width-s)/l,e=(e.height-s)/o,s=Math.max(Math.min(l,e)/2,0),o=N(this.options.radius,s),l=(o-Math.max(o*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=h*o,this.offsetY=c*o,i.total=this.calculateTotal(),this.outerRadius=o-l*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-l*n,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){var i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/b)}updateElements(r,t,e,s){let a="reset"===s,i=this.chart,n=i.chartArea,o=i.options.animation,l=(n.left+n.right)/2,h=(n.top+n.bottom)/2,c=a&&o.animateScale,d=c?0:this.innerRadius,u=c?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,s),g,m=this._getRotation();for(g=0;g<t;++g)m+=this._circumference(g,a);for(g=t;g<t+e;++g){let t=this._circumference(g,a),e=r[g],i={x:l+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+t,circumference:t,outerRadius:u,innerRadius:d};f&&(i.options=p||this.resolveDataElementOptions(g,e.active?"active":s)),m+=t,this.updateElement(e,g,i,s)}}calculateTotal(){var t=this._cachedMeta,e=t.data;let i,r=0;for(i=0;i<e.length;i++){var s=t._parsed[i];null===s||isNaN(s)||!this.chart.getDataVisibility(i)||e[i].hidden||(r+=Math.abs(s))}return r}calculateCircumference(t){var e=this._cachedMeta.total;return 0<e&&!isNaN(t)?b*(Math.abs(t)/e):0}getLabelAndValue(t){var e=this._cachedMeta,i=this.chart,r=i.data.labels||[],e=ue(e._parsed[t],i.options.locale);return{label:r[t]||"",value:e}}getMaxBorderWidth(t){let e=0;var i=this.chart;let r,s,a,n,o;if(!t)for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){t=(a=i.getDatasetMeta(r)).data,n=a.controller;break}if(!t)return 0;for(r=0,s=t.length;r<s;++r)"inner"!==(o=n.resolveDataElementOptions(r)).borderAlign&&(e=Math.max(e,o.borderWidth||0,o.hoverBorderWidth||0));return e}getMaxOffset(i){let r=0;for(let e=0,t=i.length;e<t;++e){let t=this.resolveDataElementOptions(e);r=Math.max(r,t.offset||0,t.hoverOffset||0)}return r}_getRingWeightOffset(e){let i=0;for(let t=0;t<e;++t)this.chart.isDatasetVisible(t)&&(i+=this._getRingWeight(t));return i}_getRingWeight(t){return Math.max(D(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Cs extends Lr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){var t=a.data;if(t.labels.length&&t.datasets.length){let{pointStyle:r,color:s}=a.legend.options.labels;return t.labels.map((t,e)=>{var i=a.getDatasetMeta(0).controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:s,lineWidth:i.borderWidth,pointStyle:r,hidden:!a.getDataVisibility(e),index:e}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){var e=this._cachedMeta,i=this.chart,r=i.data.labels||[],e=ue(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:e}}parseObjectData(t,e,i,r){return ri.bind(this)(t,e,i,r)}update(t){var e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){let t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((t,e)=>{var i=this.getParsed(e).r;!isNaN(i)&&this.chart.getDataVisibility(e)&&(i<r.min&&(r.min=i),i>r.max)&&(r.max=i)}),r}_updateRadius(){var t=this.chart,e=t.chartArea,i=t.options,e=Math.min(e.right-e.left,e.bottom-e.top),e=Math.max(e/2,0),i=(e-Math.max(i.cutoutPercentage?e/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=e-i*this.index,this.innerRadius=this.outerRadius-i}updateElements(s,t,e,a){var n="reset"===a,o=this.chart,l=o.options.animation,h=this._cachedMeta.rScale,c=h.xCenter,d=h.yCenter,u=h.getIndexAngle(0)-.5*k;let p,f=u;var g=360/this.countVisibleElements();for(p=0;p<t;++p)f+=this._computeAngle(p,a,g);for(p=t;p<t+e;p++){let t=s[p],e=f,i=f+this._computeAngle(p,a,g),r=o.getDataVisibility(p)?h.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=i,n&&(l.animateScale&&(r=0),l.animateRotate)&&(e=i=u);var m={x:c,y:d,innerRadius:0,outerRadius:r,startAngle:e,endAngle:i,options:this.resolveDataElementOptions(p,t.active?"active":a)};this.updateElement(t,p,m,a)}}countVisibleElements(){var t=this._cachedMeta;let i=0;return t.data.forEach((t,e)=>{!isNaN(this.getParsed(e).r)&&this.chart.getDataVisibility(e)&&i++}),i}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?A(this.resolveDataElementOptions(t,e).angle||i):0}}Oe=Object.freeze({__proto__:null,BarController:class extends Lr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return ys(t,e,i,r)}parseArrayData(t,e,i,r){return ys(t,e,i,r)}parseObjectData(t,e,i,r){var{iScale:s,vScale:a}=t,{xAxisKey:t="x",yAxisKey:n="y"}=this._parsing,o="x"===s.axis?t:n,l="x"===a.axis?t:n,h=[];let c,d,u,p;for(d=(c=i)+r;c<d;++c)p=e[c],(u={})[s.axis]=s.parse(f(p,o),c),h.push(vs(f(p,l),u,a,c));return h}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){var{iScale:e,vScale:i}=this._cachedMeta,t=this.getParsed(t),r=t._custom,r=bs(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(t[i.axis]);return{label:""+e.getLabelForValue(t[e.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){var e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(n,t,e,o){var l,h,c="reset"===o,{index:d,_cachedMeta:{vScale:u}}=this,p=u.getBasePixel(),f=u.isHorizontal(),g=this._getRuler(),{sharedOptions:m,includeOptions:v}=this._getSharedOptions(t,o);for(let a=t;a<t+e;a++){let t=this.getParsed(a),e=c||T(t[u.axis])?{base:p,head:p}:this._calculateBarValuePixels(a),i=this._calculateBarIndexPixels(a,g),r=(t._stacks||{})[u.axis],s={horizontal:f,base:e.base,enableBorderRadius:!r||bs(t._custom)||d===r._top||d===r._bottom,x:f?e.head:i.center,y:f?i.center:e.head,height:f?i.size:Math.abs(e.size),width:f?Math.abs(e.size):i.size};v&&(s.options=m||this.resolveDataElementOptions(a,n[a].active?"active":o));var y=s.options||n[a].options;xs(s,y,r,d),[y,{inflateAmount:l},h]=[s,y,g.ratio],y.inflateAmount="auto"===l?1===h?.33:0:l,this.updateElement(n[a],a,s,o)}}_getStacks(e,i){let r=this._cachedMeta.iScale,s=r.getMatchingVisibleMetas(this._type).filter(t=>t.controller.options.grouped),a=r.options.stacked,n=[],t=this._cachedMeta.controller.getParsed(i),o=t&&t[r.axis],l=t=>{var e=t._parsed.find(t=>t[r.axis]===o),e=e&&e[t.vScale.axis];if(T(e)||isNaN(e))return!0};for(let t of s)if((void 0===i||!l(t))&&((!1===a||-1===n.indexOf(t.stack)||void 0===a&&void 0===t.stack)&&n.push(t.stack),t.index===e))break;return n.length||n.push(void 0),n}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){t=this._getStacks(t,i),i=void 0!==e?t.indexOf(e):-1;return-1===i?t.length-1:i}_getRuler(){var t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,a;for(s=0,a=e.data.length;s<a;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));var n=t.barThickness;return{min:n||ms(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:n?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:s,_stacked:a,index:n},options:{base:e,minBarLength:o}}=this,l=e||0,h=this.getParsed(t),i=h._custom,c=bs(i),d,u,p=h[s.axis],r=0,f=a?this.applyStack(s,h,a):p;f!==p&&(r=f-p,f=p),c&&(p=i.barStart,f=i.barEnd-i.barStart,0!==p&&x(p)!==x(i.barEnd)&&(r=0),r+=p);var g,m,v=T(e)||c?r:e;let y=s.getPixelForValue(v);if(d=this.chart.getDataVisibility(t)?s.getPixelForValue(r+f):y,u=d-y,Math.abs(u)<o){u=(v=u,g=s,m=l,(0!==v?x(v):(g.isHorizontal()?1:-1)*(g.min>=m?1:-1))*o),p===l&&(y-=u/2);let t=s.getPixelForDecimal(0),e=s.getPixelForDecimal(1),i=Math.min(t,e),r=Math.max(t,e);y=Math.max(Math.min(y,r),i),d=y+u,a&&!c&&(h._stacks[s.axis]._visualValues[n]=s.getValueForPixel(d)-s.getValueForPixel(y))}if(y===s.getPixelForValue(l)){let t=x(u)*s.getLineWidthForValue(l)/2;y+=t,u-=t}return{size:u,base:y,head:d,center:d+u/2}}_calculateBarIndexPixels(r,s){let t=s.scale,a=this.options,n=a.skipNull,o=D(a.maxBarThickness,1/0),l,h;if(s.grouped){let t=n?this._getStackCount(r):s.stackCount,e=("flex"===a.barThickness?(t,e,i,r)=>{var s=e.pixels,a=s[t];let n=0<t?s[t-1]:null,o=t<s.length-1?s[t+1]:null;return s=i.categoryPercentage,null===n&&(n=a-(null===o?e.end-e.start:o-a)),null===o&&(o=a+a-n),t=a-(a-Math.min(n,o))/2*s,{chunk:Math.abs(o-n)/2*s/r,ratio:i.barPercentage,start:t}}:(t,e,i,r)=>{var s=i.barThickness;let a,n;return n=T(s)?(a=e.min*i.categoryPercentage,i.barPercentage):(a=s*r,1),{chunk:a/r,ratio:n,start:e.pixels[t]-a/2}})(r,s,a,t),i=this._getStackIndex(this.index,this._cachedMeta.stack,n?r:void 0);l=e.start+e.chunk*i+e.chunk/2,h=Math.min(o,e.chunk*e.ratio)}else l=t.getPixelForValue(this.getParsed(r)[t.axis],r),h=Math.min(o,s.min*s.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){var t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)null===this.getParsed(s)[e.axis]||i[s].hidden||i[s].draw(this._ctx)}},BubbleController:class extends Lr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){var s=super.parsePrimitiveData(t,e,i,r);for(let t=0;t<s.length;t++)s[t]._custom=this.resolveDataElementOptions(t+i).radius;return s}parseArrayData(t,i,r,e){var s=super.parseArrayData(t,i,r,e);for(let e=0;e<s.length;e++){let t=i[r+e];s[e]._custom=D(t[2],this.resolveDataElementOptions(e+r).radius)}return s}parseObjectData(t,i,r,e){var s=super.parseObjectData(t,i,r,e);for(let e=0;e<s.length;e++){let t=i[r+e];s[e]._custom=D(t&&t.r&&+t.r,this.resolveDataElementOptions(e+r).radius)}return s}getMaxOverflow(){var e=this._cachedMeta.data;let i=0;for(let t=e.length-1;0<=t;--t)i=Math.max(i,e[t].size(this.resolveDataElementOptions(t))/2);return 0<i&&i}getLabelAndValue(t){var e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:e,yScale:r}=e,s=this.getParsed(t),e=e.getLabelForValue(s.x),r=r.getLabelForValue(s.y),s=s._custom;return{label:i[t]||"",value:"("+e+", "+r+(s?", "+s:"")+")"}}update(t){var e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(n,t,e,o){var l="reset"===o,{iScale:h,vScale:c}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,o),p=h.axis,f=c.axis;for(let a=t;a<t+e;a++){let t=n[a],e=!l&&this.getParsed(a),i={},r=i[p]=l?h.getPixelForDecimal(.5):h.getPixelForValue(e[p]),s=i[f]=l?c.getBasePixel():c.getPixelForValue(e[f]);i.skip=isNaN(r)||isNaN(s),u&&(i.options=d||this.resolveDataElementOptions(a,t.active?"active":o),l)&&(i.options.radius=0),this.updateElement(t,a,i,o)}}resolveDataElementOptions(t,e){var i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);t=(r=r.$shared?Object.assign({},r,{$shared:!1}):r).radius;return"active"!==e&&(r.radius=0),r.radius+=D(i&&i._custom,t),r}},DoughnutController:Ss,LineController:class extends Lr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){var e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,a=this.chart._animationsDisabled;let{start:n,count:o}=Pt(e,r,a);this._drawStart=n,this._drawCount=o,Ot(e)&&(n=0,o=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0),e.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:e},t),this.updateElements(r,n,o,t)}updateElements(r,s,t,a){let n="reset"===a,{iScale:o,vScale:l,_stacked:h,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:u}=this._getSharedOptions(s,a),p=o.axis,f=l.axis,{spanGaps:e,segment:g}=this.options,m=ot(e)?e:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||n||"none"===a,y=s+t,b=r.length,x=0<s&&this.getParsed(s-1);for(let i=0;i<b;++i){let t=r[i],e=v?t:{};var _,w,S,C;i<s||i>=y?e.skip=!0:(w=T((_=this.getParsed(i))[f]),S=e[p]=o.getPixelForValue(_[p],i),C=e[f]=n||w?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,_,h):_[f],i),e.skip=isNaN(S)||isNaN(C)||w,e.stop=0<i&&Math.abs(_[p]-x[p])>m,g&&(e.parsed=_,e.raw=c.data[i]),u&&(e.options=d||this.resolveDataElementOptions(i,t.active?"active":a)),v||this.updateElement(t,i,e,a),x=_)}}getMaxOverflow(){var t,e=this._cachedMeta,i=e.dataset,i=i.options&&i.options.borderWidth||0,e=e.data||[];return e.length?(t=e[0].size(this.resolveDataElementOptions(0)),e=e[e.length-1].size(this.resolveDataElementOptions(e.length-1)),Math.max(i,t,e)/2):i}draw(){var t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends Ss{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:Cs,RadarController:class extends Lr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){var e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return ri.bind(this)(t,e,i,r)}update(e){let t=this._cachedMeta,i=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(i.points=r,"resize"!==e){let t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);var a={_loop:!0,_fullLoop:s.length===r.length,options:t};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(o,t,e,l){var h=this._cachedMeta.rScale,c="reset"===l;for(let n=t;n<t+e;n++){let t=o[n],e=this.resolveDataElementOptions(n,t.active?"active":l),i=h.getPointPositionForValue(n,this.getParsed(n).r),r=c?h.xCenter:i.x,s=c?h.yCenter:i.y,a={x:r,y:s,angle:i.angle,skip:isNaN(r)||isNaN(s),options:e};this.updateElement(t,n,a,l)}}},ScatterController:class extends Lr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){var e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:e,yScale:r}=e,s=this.getParsed(t),e=e.getLabelForValue(s.x),r=r.getLabelForValue(s.y);return{label:i[t]||"",value:"("+e+", "+r+")"}}update(i){var r=this._cachedMeta,{data:s=[]}=r,a=this.chart._animationsDisabled;let{start:t,count:e}=Pt(r,s,a);if(this._drawStart=t,this._drawCount=e,Ot(r)&&(t=0,e=s.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:t,_dataset:e}=r;t._chart=this.chart,t._datasetIndex=this.index,t._decimated=!!e._decimated,t.points=s;var n=this.resolveDatasetElementOptions(i);n.segment=this.options.segment,this.updateElement(t,void 0,{animated:!a,options:n},i)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(s,t,e,i)}addElements(){var t=this.options.showLine;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(o,t,e,l){let h="reset"===l,{iScale:c,vScale:d,_stacked:u,_dataset:p}=this._cachedMeta,i=this.resolveDataElementOptions(t,l),f=this.getSharedOptions(i),g=this.includeOptions(l,f),m=c.axis,v=d.axis,{spanGaps:r,segment:y}=this.options,b=ot(r)?r:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||h||"none"===l,_=0<t&&this.getParsed(t-1);for(let n=t;n<t+e;++n){let t=o[n],e=this.getParsed(n),i=x?t:{},r=T(e[v]),s=i[m]=c.getPixelForValue(e[m],n),a=i[v]=h||r?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,e,u):e[v],n);i.skip=isNaN(s)||isNaN(a)||r,i.stop=0<n&&Math.abs(e[m]-_[m])>b,y&&(i.parsed=e,i.raw=p.data[n]),g&&(i.options=f||this.resolveDataElementOptions(n,t.active?"active":l)),x||this.updateElement(t,n,i,l),_=e}this.updateSharedOptions(f,l,i)}getMaxOverflow(){var t,e,i=this._cachedMeta,r=i.data||[];if(this.options.showLine)return i=(i=i.dataset).options&&i.options.borderWidth||0,r.length?(t=r[0].size(this.resolveDataElementOptions(0)),e=r[r.length-1].size(this.resolveDataElementOptions(r.length-1)),Math.max(i,t,e)/2):i;{let e=0;for(let t=r.length-1;0<=t;--t)e=Math.max(e,r[t].size(this.resolveDataElementOptions(t))/2);return 0<e&&e}}}});function Ts(t,e,i,r){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function ks(s,t,e,i,r,a){var{x:n,y:o,startAngle:l,pixelMargin:h,innerRadius:c}=t,d=Math.max(t.outerRadius+i+e-h,0),h=0<c?c+i+e+h:0;let u=0;var p=r-l;if(i){let t=((0<c?c-i:0)+(0<d?d-i:0))/2;u=(p-(0!=t?p*t/(t+i):p))/2}var c=(p-Math.max(.001,p*d-e/k)/d)/2,p=l+c+u,l=r-c-u,{outerStart:c,outerEnd:f,innerStart:g,innerEnd:m}=((t,e,i,r)=>{t=wi(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);let s=(i-e)/2,a=Math.min(s,r*e/2),n=t=>{var e=(i-Math.min(s,t))*r/2;return E(t,0,Math.min(s,e))};return{outerStart:n(t.outerStart),outerEnd:n(t.outerEnd),innerStart:E(t.innerStart,0,a),innerEnd:E(t.innerEnd,0,a)}})(t,h,d,l-p),v=d-c,y=d-f,b=p+c/v,x=l-f/y,_=h+g,w=h+m,S=p+g/_,C=l-m/w;if(s.beginPath(),a){let t=(b+x)/2;if(s.arc(n,o,d,b,t),s.arc(n,o,d,t,x),0<f){let t=Ts(y,x,n,o);s.arc(t.x,t.y,f,x,l+M)}let e=Ts(w,l,n,o);if(s.lineTo(e.x,e.y),0<m){let t=Ts(w,C,n,o);s.arc(t.x,t.y,m,l+M,C+Math.PI)}let i=(l-m/h+(p+g/h))/2;if(s.arc(n,o,h,l-m/h,i,!0),s.arc(n,o,h,i,p+g/h,!0),0<g){let t=Ts(_,S,n,o);s.arc(t.x,t.y,g,S+Math.PI,p-M)}let r=Ts(v,p,n,o);if(s.lineTo(r.x,r.y),0<c){let t=Ts(v,b,n,o);s.arc(t.x,t.y,c,p-M,b)}}else{s.moveTo(n,o);let t=Math.cos(b)*d+n,e=Math.sin(b)*d+o,i=(s.lineTo(t,e),Math.cos(x)*d+n),r=Math.sin(x)*d+o;s.lineTo(i,r)}s.closePath()}function Ms(t,e,i=e){t.lineCap=D(i.borderCapStyle,e.borderCapStyle),t.setLineDash(D(i.borderDash,e.borderDash)),t.lineDashOffset=D(i.borderDashOffset,e.borderDashOffset),t.lineJoin=D(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=D(i.borderWidth,e.borderWidth),t.strokeStyle=D(i.borderColor,e.borderColor)}function Es(t,e,i){t.lineTo(i.x,i.y)}function Ps(t,e,i={}){var t=t.length,{start:i=0,end:r=t-1}=i,{start:s,end:a}=e,n=Math.max(i,s),o=Math.min(r,a);return{count:t,start:n,loop:e.loop,ilen:o<n&&!(i<s&&r<s||a<i&&a<r)?t+o-n:o-n}}function Os(t,e,i,r){let{points:s,options:a}=e,{count:n,start:o,loop:l,ilen:h}=Ps(s,i,r),c=a.stepped?He:a.tension||"monotone"===a.cubicInterpolationMode?We:Es,d,u,p,{move:f=!0,reverse:g}=r||{};for(d=0;d<=h;++d)(u=s[(o+(g?h-d:d))%n]).skip||(f?(t.moveTo(u.x,u.y),f=!1):c(t,p,u,g,a.stepped),p=u);return l&&(u=s[(o+(g?h:0))%n],c(t,p,u,g,a.stepped)),!!l}function Ds(r,t,e,i){let s=t.points,{count:a,start:n,ilen:o}=Ps(s,e,i),{move:l=!0,reverse:h}=i||{},c,d,u,p,f,g,m=0,v=0;var y=t=>(n+(h?o-t:t))%a,b=()=>{p!==f&&(r.lineTo(m,f),r.lineTo(m,p),r.lineTo(m,g))};for(l&&(d=s[y(0)],r.moveTo(d.x,d.y)),c=0;c<=o;++c)if(!(d=s[y(c)]).skip){let t=d.x,e=d.y,i=0|t;i===u?(e<p?p=e:e>f&&(f=e),m=(v*m+t)/++v):(b(),r.lineTo(t,e),u=i,v=0,p=f=e),g=e}b()}function As(t){var e=t.options,i=e.borderDash&&e.borderDash.length;return t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i?Os:Ds}let Ls="function"==typeof Path2D;function Is(t,e,i,r){(Ls&&!e.options.segment?(t,e,i,r)=>{let s=e._path;s||(s=e._path=new Path2D,e.path(s,i,r)&&s.closePath()),Ms(t,e.options),t.stroke(s)}:(t,e,i,r)=>{var s,{segments:a,options:n}=e,o=As(e);for(s of a)Ms(t,n,s.style),t.beginPath(),o(t,e,s,{start:i,end:i+r-1})&&t.closePath(),t.stroke()})(t,e,i,r)}class js extends e{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){var i,r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(i=r.spanGaps?this._loop:this._fullLoop,ci(this._points,r,t,i,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ji(this,this.options.segment))}first(){var t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){var t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(a,n){var o=this.options,l=a[n],h=this.points,c=Ii(this,{property:n,start:l,end:l});if(c.length){var d,u=[],p=o.stepped?mi:o.tension||"monotone"===o.cubicInterpolationMode?vi:gi;let s,t;for(s=0,t=c.length;s<t;++s){let{start:t,end:e}=c[s],i=h[t],r=h[e];i===r?u.push(i):((d=p(i,r,Math.abs((l-i[n])/(r[n]-i[n])),o.stepped))[n]=a[n],u.push(d))}return 1===u.length?u[0]:u}}pathSegment(t,e,i){return As(this)(t,this,e,i)}path(t,e,i){var r,s=this.segments,a=As(this);let n=this._loop;e=e||0,i=i||this.points.length-e;for(r of s)n&=a(t,this,r,{start:e,end:e+i-1});return!!n}draw(t,e,i,r){var s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),Is(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Fs(t,e,i,r){var s=t.options,{[i]:t}=t.getProps([i],r);return Math.abs(e-t)<s.radius+s.hitRadius}function Rs(t,e){var{x:e,y:i,base:r,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let n,o,l,h,c;return h=t.horizontal?(c=a/2,n=Math.min(e,r),o=Math.max(e,r),l=i-c,i+c):(c=s/2,n=e-c,o=e+c,l=Math.min(i,r),Math.max(i,r)),{left:n,top:l,right:o,bottom:h}}function Bs(t,e,i,r){return t?0:E(e,i,r)}function Ns(t,e,i,r){var s=null===e,a=null===i,t=t&&!(s&&a)&&Rs(t,r);return t&&(s||c(e,t.left,t.right))&&(a||c(i,t.top,t.bottom))}function zs(t,e){t.rect(e.x,e.y,e.w,e.h)}function Hs(t,e,i={}){var r=t.x!==i.x?-e:0,s=t.y!==i.y?-e:0;return{x:t.x+r,y:t.y+s,w:t.w+((t.x+t.w!==i.x+i.w?e:0)-r),h:t.h+((t.y+t.h!==i.y+i.h?e:0)-s),radius:t.radius}}var Ws=Object.freeze({__proto__:null,ArcElement:class extends e{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){var{angle:t,distance:e}=ut(this.getProps(["x","y"],i),{x:t,y:e}),{startAngle:i,endAngle:r,innerRadius:s,outerRadius:a,circumference:n}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),o=(this.options.spacing+this.options.borderWidth)/2,n=D(n,r-i),t=gt(t,i,r)&&i!==r,i=n>=b||t,r=c(e,s+o,a+o);return i&&r}getCenterPoint(t){var{x:t,y:e,startAngle:i,endAngle:r,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:n,spacing:o}=this.options,i=(i+r)/2,r=(s+a+o+n)/2;return{x:t+Math.cos(i)*r,y:e+Math.sin(i)*r}}tooltipPosition(t){return this.getCenterPoint(t)}draw(e){var{options:i,circumference:r}=this,s=(i.offset||0)/4,a=(i.spacing||0)/2,n=i.circular;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=r>b?Math.floor(r/b):0,!(0===r||this.innerRadius<0||this.outerRadius<0)){e.save();var o=(this.startAngle+this.endAngle)/2,o=(e.translate(Math.cos(o)*s,Math.sin(o)*s),s*(1-Math.sin(Math.min(k,r||0))));e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor;{var l=e;s=this;r=o;i=a;var h=n;var{fullCircles:c,startAngle:d,circumference:u}=s;let t=s.endAngle;if(c){ks(l,s,r,i,t,h);for(let t=0;t<c;++t)l.fill();isNaN(u)||(t=d+(u%b||b))}ks(l,s,r,i,t,h),l.fill()}var p=e,d=this,u=o,s=a,r=n,{fullCircles:f,startAngle:i,circumference:h,options:o}=d,{borderWidth:a,borderJoinStyle:n,borderDash:g,borderDashOffset:m}=o,o="inner"===o.borderAlign;if(a){p.setLineDash(g||[]),p.lineDashOffset=m,o?(p.lineWidth=2*a,p.lineJoin=n||"round"):(p.lineWidth=a,p.lineJoin=n||"bevel");let t=d.endAngle;if(f){ks(p,d,u,s,t,r);for(let t=0;t<f;++t)p.stroke();isNaN(h)||(t=i+(h%b||b))}if(o){g=p;m=d;a=t;var{startAngle:m,pixelMargin:n,x:i,y:h,outerRadius:o,innerRadius:v}=m,y=n/o;g.beginPath(),g.arc(i,h,o,m-y,a+y),n<v?g.arc(i,h,v,a+(y=n/v),m-y,!0):g.arc(i,h,n,a+M,m-M),g.closePath(),g.clip()}f||(ks(p,d,u,s,t,r),p.stroke())}e.restore()}}},BarElement:class extends e{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){var e,i,r,s,a,n,o,{inflateAmount:l,options:{borderColor:h,backgroundColor:c}}=this,{inner:d,outer:u}=(r=Rs(e=this),s=r.right-r.left,u=s/2,n=(a=r.bottom-r.top)/2,o=(i=e).options.borderWidth,i=i.borderSkipped,o=Si(o),n={t:Bs(i.top,o.top,0,n),r:Bs(i.right,o.right,0,u),b:Bs(i.bottom,o.bottom,0,n),l:Bs(i.left,o.left,0,u)},i=s/2,o=a/2,e=(u=e).getProps(["enableBorderRadius"]).enableBorderRadius,d=u.options.borderRadius,p=Ci(d),i=Math.min(i,o),o=u.borderSkipped,e={topLeft:Bs(!(u=e||O(d))||o.top||o.left,p.topLeft,0,i),topRight:Bs(!u||o.top||o.right,p.topRight,0,i),bottomLeft:Bs(!u||o.bottom||o.left,p.bottomLeft,0,i),bottomRight:Bs(!u||o.bottom||o.right,p.bottomRight,0,i)},{outer:{x:r.left,y:r.top,w:s,h:a,radius:e},inner:{x:r.left+n.l,y:r.top+n.t,w:s-n.l-n.r,h:a-n.t-n.b,radius:{topLeft:Math.max(0,e.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,e.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,e.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,e.bottomRight-Math.max(n.b,n.r))}}}),p=(o=u.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Xe:zs;t.save(),u.w===d.w&&u.h===d.h||(t.beginPath(),p(t,Hs(u,l,d)),t.clip(),p(t,Hs(d,-l,u)),t.fillStyle=h,t.fill("evenodd")),t.beginPath(),p(t,Hs(d,l)),t.fillStyle=c,t.fill(),t.restore()}inRange(t,e,i){return Ns(this,t,e,i)}inXRange(t,e){return Ns(this,t,null,e)}inYRange(t,e){return Ns(this,null,t,e)}getCenterPoint(t){var{x:t,y:e,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(t+i)/2:t,y:r?e:(e+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:js,PointElement:class extends e{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){var r=this.options,{x:i,y:s}=this.getProps(["x","y"],i);return Math.pow(t-i,2)+Math.pow(e-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Fs(this,t,"x",e)}inYRange(t,e){return Fs(this,t,"y",e)}getCenterPoint(t){var{x:t,y:e}=this.getProps(["x","y"],t);return{x:t,y:e}}size(t){var e=(t=t||this.options||{}).radius||0;return 2*((e=Math.max(e,e&&t.hoverRadius||0))+(e&&t.borderWidth||0))}draw(t,e){var i=this.options;this.skip||i.radius<.1||!_(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Re(t,i,this.x,this.y))}getRange(){var t=this.options||{};return t.radius+t.hitRadius}}});function Vs(t){var e=this.getLabels();return 0<=t&&t<e.length?e[t]:t}function Xs(t,e,{horizontal:i,minRotation:r}){r=A(r),i=(i?Math.sin(r):Math.cos(r))||.001;return Math.min(e/i,.75*e*(""+t).length)}class Ys extends Hr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return T(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let t=this.options.beginAtZero,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this;var a,n=t=>r=e?r:t,o=t=>s=i?s:t;if(t){let t=x(r),e=x(s);t<0&&e<0?o(0):0<t&&0<e&&n(0)}r===s&&(a=0===s?1:Math.abs(.05*s),o(s+a),t||n(r-a)),this.min=r,this.max=s}getTickLimit(){let t,{maxTicksLimit:e,stepSize:i}=this.options.ticks;return i?1e3<(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1)&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3):(t=this.computeTickLimit(),e=e||11),t=e?Math.min(e,t):t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){var t=this.options,e=t.ticks,i=this.getTickLimit(),i=((t,e)=>{var i=[],{bounds:r,step:s,min:a,max:n,precision:o,count:l,maxTicks:h,maxDigits:c,includeBounds:d}=t,u=s||1,p=h-1,{min:e,max:f}=e,g=!T(a),m=!T(n),v=!T(l),c=(f-e)/(c+1);let y,b,x,_,w=at((f-e)/p/u)*u;if(w<1e-14&&!g&&!m)return[{value:e},{value:f}];(_=Math.ceil(f/w)-Math.floor(e/w))>p&&(w=at(_*w/p/u)*u),T(o)||(y=Math.pow(10,o),w=Math.ceil(w*y)/y),x="ticks"===r?(b=Math.floor(e/w)*w,Math.ceil(f/w)*w):(b=e,f),g&&m&&s&&lt((n-a)/s,w/1e3)?(_=Math.round(Math.min((n-a)/w,h)),w=(n-a)/_,b=a,x=n):v?(b=g?a:b,x=m?n:x,_=l-1,w=(x-b)/_):_=st(_=(x-b)/w,Math.round(_),w/1e3)?Math.round(_):Math.ceil(_),p=Math.max(dt(w),dt(b)),y=Math.pow(10,T(o)?p:o),b=Math.round(b*y)/y,x=Math.round(x*y)/y;let S=0;for(g&&(d&&b!==a?(i.push({value:a}),b<a&&S++,st(Math.round((b+S*w)*y)/y,a,Xs(a,c,t))&&S++):b<a&&S++);S<_;++S){let t=Math.round((b+S*w)*y)/y;if(m&&t>n)break;i.push({value:t})}return m&&d&&x!==n?i.length&&st(i[i.length-1].value,n,Xs(n,c,t))?i[i.length-1].value=n:i.push({value:n}):m&&x!==n||i.push({value:x}),i})({maxTicks:Math.max(2,i),bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&ht(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){var t=this.ticks;let e=this.min,i=this.max;super.configure(),this.options.offset&&t.length&&(t=(i-e)/Math.max(t.length-1,1)/2,e-=t,i+=t),this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return ue(t,this.chart.options.locale,this.options.ticks.format)}}class Gs extends Ys{static id="linear";static defaults={ticks:{callback:fe.formatters.numeric}};determineDataLimits(){var{min:t,max:e}=this.getMinMax(!0);this.min=g(t)?t:0,this.max=g(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){var t=this.isHorizontal(),e=t?this.width:this.height,i=A(this.options.ticks.minRotation),t=(t?Math.sin(i):Math.cos(i))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/t))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}let qs=t=>Math.floor(o(t)),Us=(t,e)=>Math.pow(10,qs(t)+e);function $s(t){return 1==t/Math.pow(10,qs(t))}function Ks(t,e,i){i=Math.pow(10,i),t=Math.floor(t/i);return Math.ceil(e/i)-t}function Js(t,{min:e,max:i}){e=u(t.min,e);var r=[],s=qs(e);let a=((t,e)=>{let i=qs(e-t);for(;10<Ks(t,e,i);)i++;for(;Ks(t,e,i)<10;)i--;return Math.min(i,qs(t))})(e,i),n=a<0?Math.pow(10,Math.abs(a)):1;var o=Math.pow(10,a),l=s>a?Math.pow(10,s):0,s=Math.round((e-l)*n)/n,h=Math.floor((e-l)/o/10)*o*10;let c=Math.floor((s-h)/Math.pow(10,a)),d=u(t.min,Math.round((l+h+c*Math.pow(10,a))*n)/n);for(;d<i;)r.push({value:d,major:$s(d),significand:c}),10<=c?c=c<15?15:20:c++,20<=c&&(a++,c=2,n=0<=a?1:n),d=Math.round((l+h+c*Math.pow(10,a))*n)/n;e=u(t.max,d);return r.push({value:e,major:$s(e),significand:c}),r}class Qs extends Hr{static id="logarithmic";static defaults={ticks:{callback:fe.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){t=Ys.prototype.parse.apply(this,[t,e]);if(0!==t)return g(t)&&0<t?t:null;this._zero=!0}determineDataLimits(){var{min:t,max:e}=this.getMinMax(!0);this.min=g(t)?Math.max(0,t):null,this.max=g(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!g(this._userMin)&&(this.min=t===Us(this.min,0)?Us(this.min,-1):Us(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),r=this.min,s=this.max;var t=t=>r=e?r:t,a=t=>s=i?s:t;r===s&&(r<=0?(t(1),a(10)):(t(Us(r,-1)),a(Us(s,1)))),r<=0&&t(Us(s,-1)),s<=0&&a(Us(r,1)),this.min=r,this.max=s}buildTicks(){var t=this.options,e=Js({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&ht(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":ue(t,this.chart.options.locale,this.options.ticks.format)}configure(){var t=this.min;super.configure(),this._startValue=o(t),this._valueRange=o(this.max)-o(t)}getPixelForValue(t){return null===(t=void 0!==t&&0!==t?t:this.min)||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(o(t)-this._startValue)/this._valueRange)}getValueForPixel(t){t=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+t*this._valueRange)}}function Zs(t){var e=t.ticks;if(e.display&&t.display){let t=j(e.backdropPadding);return D(e.font&&e.font.size,I.font.size)+t.height}return 0}function ta(t,e,i,r,s){return t===r||t===s?{start:e-i/2,end:e+i/2}:t<r||s<t?{start:e-i,end:e}:{start:e,end:e+i}}function ea(i){let s={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},a=Object.assign({},s),r=[],n=[],t=i._pointLabels.length,o=i.options.pointLabels,l=o.centerPointLabels?k/t:0;for(let e=0;e<t;e++){let t=o.setContext(i.getPointLabelContext(e));n[e]=t.padding;var h=i.getPointPosition(e,i.drawingArea+n[e],l),c=F(t.font),d=(d=i.ctx,c=c,u=P(u=i._pointLabels[e])?u:[u],{w:Ie(d,c.string,u),h:u.length*c.lineHeight}),u=(r[e]=d,y(i.getIndexAngle(e)+l)),c=Math.round(ct(u));{p=void 0;f=void 0;g=void 0;m=void 0;v=void 0;var p=a;var f=s;var g=u;var m=ta(c,h.x,d.w,0,180);var v=ta(c,h.y,d.h,90,270);let t=Math.abs(Math.sin(g)),e=Math.abs(Math.cos(g)),i=0,r=0;m.start<f.l?(i=(f.l-m.start)/t,p.l=Math.min(p.l,f.l-i)):m.end>f.r&&(i=(m.end-f.r)/t,p.r=Math.max(p.r,f.r+i)),v.start<f.t?(r=(f.t-v.start)/e,p.t=Math.min(p.t,f.t-r)):v.end>f.b&&(r=(v.end-f.b)/e,p.b=Math.max(p.b,f.b+r))}}var d,u;i.setCenterPoint(s.l-a.l,a.r-s.r,s.t-a.t,a.b-s.b),i._pointLabelItems=((i,r,s)=>{let a=[],t=i._pointLabels.length,e=i.options,{centerPointLabels:n,display:o}=e.pointLabels,l={extra:Zs(e)/2,additionalAngle:n?k/t:0},h;for(let e=0;e<t;e++){l.padding=s[e],l.size=r[e];let t=((t,e,i)=>{let r=t.drawingArea,{extra:s,additionalAngle:a,padding:n,size:o}=i,l=t.getPointPosition(e,r+s+n,a),h=Math.round(ct(y(l.angle+M))),c=((t,e)=>(90===h||270===h?t-=e/2:(270<h||h<90)&&(t-=e),t))(l.y,o.h),d=(t=>0===t||180===t?"center":t<180?"left":"right")(h),u=((t,e)=>("right"===d?t-=e:"center"===d&&(t-=e/2),t))(l.x,o.w);return{visible:!0,x:l.x,y:c,textAlign:d,left:u,top:c,right:u+o.w,bottom:c+o.h}})(i,e,l);a.push(t),"auto"===o&&(t.visible=((t,e)=>{var i,r,s;return!(e&&({left:t,top:i,right:r,bottom:s}=t,_({x:t,y:i},e)||_({x:t,y:s},e)||_({x:r,y:i},e)||_({x:r,y:s},e)))})(t,h),t.visible)&&(h=t)}return a})(i,r,n)}function ia(e,i,t,r){var s=e.ctx;if(t)s.arc(e.xCenter,e.yCenter,i,0,b);else{var a=e.getPointPosition(0,i);s.moveTo(a.x,a.y);for(let t=1;t<r;t++)a=e.getPointPosition(t,i),s.lineTo(a.x,a.y)}}class ra extends Ys{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:fe.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){var t=this._padding=j(Zs(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){var{min:t,max:e}=this.getMinMax(!1);this.min=g(t)&&!isNaN(t)?t:0,this.max=g(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Zs(this.options))}generateTickLabels(t){Ys.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((t,e)=>{t=d(this.options.pointLabels.callback,[t,e],this);return t||0===t?t:""}).filter((t,e)=>this.chart.getDataVisibility(e))}fit(){var t=this.options;t.display&&t.pointLabels.display?ea(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return y(t*(b/(this._pointLabels.length||1))+A(this.options.startAngle||0))}getDistanceFromCenterForValue(t){var e;return T(t)?NaN:(e=this.drawingArea/(this.max-this.min),this.options.reverse?(this.max-t)*e:(t-this.min)*e)}getValueForDistanceFromCenter(t){return T(t)?NaN:(t=t/(this.drawingArea/(this.max-this.min)),this.options.reverse?this.max-t:this.min+t)}getPointLabelContext(t){var e=this._pointLabels||[];if(0<=t&&t<e.length)return e=e[t],Mi(this.getContext(),{label:e,index:t,type:"pointLabel"})}getPointPosition(t,e,i=0){t=this.getIndexAngle(t)-M+i;return{x:Math.cos(t)*e+this.xCenter,y:Math.sin(t)*e+this.yCenter,angle:t}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){var{left:t,top:e,right:i,bottom:r}=this._pointLabelItems[t];return{left:t,top:e,right:i,bottom:r}}drawBackground(){var t,{backgroundColor:e,grid:{circular:i}}=this.options;e&&((t=this.ctx).save(),t.beginPath(),ia(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),t.closePath(),t.fillStyle=e,t.fill(),t.restore())}drawGrid(){let r=this.ctx,s=this.options,{angleLines:a,grid:l,border:h}=s,c=this._pointLabels.length,n,d,o;if(s.pointLabels.display){var i=this,t=c,{ctx:u,options:{pointLabels:p}}=i;for(let e=t-1;0<=e;e--){let t=i._pointLabelItems[e];if(t.visible){var f,g=p.setContext(i.getPointLabelContext(e)),m=(f=w=_=x=b=y=v=m=void 0,u),v=g,y=t,{left:b,top:x,right:_,bottom:w}=y;if(!T(f=v.backdropColor)){let t=Ci(v.borderRadius),e=j(v.backdropPadding);m.fillStyle=f;v=b-e.left,f=x-e.top,_=_-b+e.width,b=w-x+e.height;Object.values(t).some(t=>0!==t)?(m.beginPath(),Xe(m,{x:v,y:f,w:_,h:b,radius:t}),m.fill()):m.fillRect(v,f,_,b)}var y=F(g.font),{x:w,y:x,textAlign:m}=t;Ve(u,i._pointLabels[e],w,x+y.lineHeight/2,y,{color:g.color,textAlign:m,textBaseline:"middle"})}}}if(l.display&&this.ticks.forEach((t,e)=>{var i,r,s,a,n,o;(0!==e||0===e&&this.min<0)&&(d=this.getDistanceFromCenterForValue(t.value),t=this.getContext(e),e=l.setContext(t),t=h.setContext(t),i=this,e=e,r=d,s=c,t=t,a=i.ctx,n=e.circular,{color:e,lineWidth:o}=e,!n&&!s||!e||!o||r<0||(a.save(),a.strokeStyle=e,a.lineWidth=o,a.setLineDash(t.dash),a.lineDashOffset=t.dashOffset,a.beginPath(),ia(i,r,n,s),a.closePath(),a.stroke(),a.restore()))}),a.display){for(r.save(),n=c-1;0<=n;n--){let t=a.setContext(this.getPointLabelContext(n)),{color:e,lineWidth:i}=t;i&&e&&(r.lineWidth=i,r.strokeStyle=e,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,d=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),o=this.getPointPosition(n,d),r.beginPath(),r.moveTo(this.xCenter,this.yCenter),r.lineTo(o.x,o.y),r.stroke())}r.restore()}}drawBorder(){}drawLabels(){let n=this.ctx,o=this.options,l=o.ticks;if(l.display){var t=this.getIndexAngle(0);let s,a;n.save(),n.translate(this.xCenter,this.yCenter),n.rotate(t),n.textAlign="center",n.textBaseline="middle",this.ticks.forEach((e,t)=>{if(!(0===t&&0<=this.min)||o.reverse){var i=l.setContext(this.getContext(t)),r=F(i.font);if(s=this.getDistanceFromCenterForValue(this.ticks[t].value),i.showLabelBackdrop){n.font=r.string,a=n.measureText(e.label).width,n.fillStyle=i.backdropColor;let t=j(i.backdropPadding);n.fillRect(-a/2-t.left,-s-r.size/2-t.top,a+t.width,r.size+t.height)}Ve(n,e.label,0,-s,r,{color:i.color,strokeColor:i.textStrokeColor,strokeWidth:i.textStrokeWidth})}}),n.restore()}}drawTitle(){}}let sa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},h=Object.keys(sa);function aa(t,e){return t-e}function na(t,e){if(T(e))return null;var i=t._adapter,{parser:t,round:r,isoWeekday:s}=t._parseOpts;let a=e;return null===(a=g(a="function"==typeof t?t(a):a)?a:"string"==typeof t?i.parse(a,t):i.parse(a))?null:+(a=r?"week"!==r||!ot(s)&&!0!==s?i.startOf(a,r):i.startOf(a,"isoWeek",s):a)}function oa(t,r,s,a){let e=h.length;for(let i=h.indexOf(t);i<e-1;++i){let t=sa[h[i]],e=t.steps||Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((s-r)/(e*t.size))<=a)return h[i]}return h[e-1]}function la(t,e,i){var r,s;i?i.length&&({lo:r,hi:s}=vt(i,e),t[i[r]>=e?i[r]:i[s]]=!0):t[e]=!0}function ha(i,t,r){var s=[],a={},e=t.length;let n,o;for(n=0;n<e;++n)a[o=t[n]]=n,s.push({value:o,major:!1});if(0!==e&&r){var l=s,h=a,c=r,d=i._adapter,r=+d.startOf(l[0].value,c),u=l[l.length-1].value;let t,e;for(t=r;t<=u;t=+d.add(t,1,c))0<=(e=h[t])&&(l[e].major=!0);return l}return s}class ca extends Hr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){var i=t.time||(t.time={}),r=this._adapter=new gs._date(t.adapters.date);r.init(e),Y(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:na(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){var t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:n}=this.getUserBounds();function o(t){a||isNaN(t.min)||(r=Math.min(r,t.min)),n||isNaN(t.max)||(s=Math.max(s,t.max))}a&&n||(o(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source)||o(this.getMinMax(!1)),r=g(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=g(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){var t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){var t=this.options,e=t.time,i=t.ticks,r="labels"===i.source?this.getLabelTimestamps():this._generate(),s=("ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]),this.min),a=bt(r,s,this.max);return this._unit=e.unit||(i.autoSkip?oa(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):((i,r,t,s,a)=>{for(let e=h.length-1;e>=h.indexOf(t);e--){let t=h[e];if(sa[t].common&&i._adapter.diff(a,s,t)>=r-1)return t}return h[t?h.indexOf(t):0]})(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?(i=>{for(let t=h.indexOf(i)+1,e=h.length;t<e;++t)if(sa[h[t]].common)return h[t]})(this._unit):void 0,this.initOffsets(r),t.reverse&&a.reverse(),ha(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e,i,r=0,s=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),r=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),s=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);t=t.length<3?.5:.25;r=E(r,0,t),s=E(s,0,t),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){var t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,a=s.unit||oa(s.minUnit,e,i,this._getLabelCapacity(e)),n=D(r.ticks.stepSize,1),s="week"===a&&s.isoWeekday,o=ot(s)||!0===s,l={};let h,c,d=e;if(o&&(d=+t.startOf(d,"isoWeek",s)),d=+t.startOf(d,o?"day":a),t.diff(i,e,a)>1e5*n)throw new Error(e+" and "+i+" are too far apart with stepSize of "+n+" "+a);var u="data"===r.ticks.source&&this.getDataTimestamps();for(h=d,c=0;h<i;h=+t.add(h,n,a),c++)la(l,h,u);return h!==i&&"ticks"!==r.bounds&&1!==c||la(l,h,u),Object.keys(l).sort(aa).map(t=>+t)}getLabelForValue(t){var e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){var i=this.options.time.displayFormats,r=this._unit,e=e||i[r];return this._adapter.format(t,e)}_tickFormatFunction(t,e,i,r){var s,a=this.options,n=a.ticks.callback;return n?d(n,[t,e,i],this):(n=a.time.displayFormats,a=this._unit,s=this._majorUnit,a=a&&n[a],n=s&&n[s],i=i[e],e=s&&n&&i&&i.major,this._adapter.format(t,r||(e?n:a)))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)(r=t[e]).label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){var e=this._offsets,t=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+t)*e.factor)}getValueForPixel(t){var e=this._offsets,t=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+t*(this.max-this.min)}_getLabelSize(t){var e=this.options.ticks,t=this.ctx.measureText(t).width,e=A(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(e),e=Math.sin(e),r=this._resolveTickFontOptions(0).size;return{w:t*i+r*e,h:t*e+r*i}}_getLabelCapacity(t){var e=this.options.time,i=e.displayFormats,e=i[e.unit]||i.millisecond,i=this._tickFormatFunction(t,0,ha(this,[t],this._majorUnit),e),t=this._getLabelSize(i),e=Math.floor(this.isHorizontal()?this.width/t.w:this.height/t.h)-1;return 0<e?e:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;var r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)i=i.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){var t=this._cache.labels||[];let e,i;if(t.length)return t;var r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(na(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return St(t.sort(aa))}}function da(t,e,i){let r,s,a,n,o=0,l=t.length-1;i?(e>=t[o].pos&&e<=t[l].pos&&({lo:o,hi:l}=m(t,"pos",e)),{pos:r,time:a}=t[o],{pos:s,time:n}=t[l]):(e>=t[o].time&&e<=t[l].time&&({lo:o,hi:l}=m(t,"time",e)),{time:r,pos:a}=t[o],{time:s,pos:n}=t[l]);i=s-r;return i?a+(n-a)*(e-r)/i:a}let ua=Object.freeze({__proto__:null,CategoryScale:class extends Hr{static id="category";static defaults={ticks:{callback:Vs}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){var e=this._addedLabels;if(e.length){let t=this.getLabels();for(var{index:i,label:r}of e)t[i]===r&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){var i,r,s,a,n,o,l;return T(t)||(i=this.getLabels(),a=e=isFinite(e)&&i[e]===t?e:(r=i,s=D(e,t=t),a=this._addedLabels,-1===(l=r.indexOf(t))?(o=s,a=a,"string"==typeof(n=t)?(o=r.push(n)-1,a.unshift({index:o,label:n})):isNaN(n)&&(o=null),o):l!==r.lastIndexOf(t)?s:l),n=i.length-1,null===a)?null:E(Math.round(a),0,n)}determineDataLimits(){var{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){var e=this.min,i=this.max,t=this.options.offset,r=[];let s=this.getLabels();s=0===e&&i===s.length-1?s:s.slice(e,i+1),this._valueRange=Math.max(s.length-(t?0:1),1),this._startValue=this.min-(t?.5:0);for(let t=e;t<=i;t++)r.push({value:t});return r}getLabelForValue(t){return Vs.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return null===(t="number"!=typeof t?this.parse(t):t)?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:Gs,LogarithmicScale:Qs,RadialLinearScale:ra,TimeScale:ca,TimeSeriesScale:class extends ca{static id="timeseries";static defaults=ca.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){var t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=da(e,this.min),this._tableRange=da(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){var{min:e,max:i}=this,r=[],s=[];let a,n,o,l,h;for(a=0,n=t.length;a<n;++a)(l=t[a])>=e&&l<=i&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,n=r.length;a<n;++a)h=r[a+1],o=r[a-1],l=r[a],Math.round((h+o)/2)!==l&&s.push({time:l,pos:a/(n-1)});return s}_generate(){var t=this.min,e=this.max,i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort((t,e)=>t-e)}_getTimestampsForTable(){var t,e,i=this._cache.all||[];return i.length||(t=this.getDataTimestamps(),e=this.getLabelTimestamps(),i=t.length&&e.length?this.normalize(t.concat(e)):t.length?t:e,i=this._cache.all=i),i}getDecimalForValue(t){return(da(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){var e=this._offsets,t=this.getDecimalForPixel(t)/e.factor-e.end;return da(this._table,t*this._tableRange+this._minPos,!0)}}}),pa=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],fa=pa.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function ga(t){return pa[t%pa.length]}function ma(t){return fa[t%fa.length]}function va(a){let n=0;return(t,e)=>{var i,r,s,e=a.getDatasetMeta(e).controller;e instanceof Ss?n=(r=t,s=n,r.backgroundColor=r.data.map(()=>ga(s++)),s):e instanceof Cs?n=(r=t,i=n,r.backgroundColor=r.data.map(()=>ma(i++)),i):e&&(n=(e=t,t=n,e.borderColor=ga(t),e.backgroundColor=ma(t),++t))}}function ya(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return 1}var ba={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){var r,s,a;i.enabled&&({data:{datasets:r},options:s}=t.config,a=s.elements,!i.forceOverride&&(ya(r)||s&&(s.borderColor||s.backgroundColor)||a&&ya(a))||(i=va(t),r.forEach(i)))}};function xa(t){var e;t._decimated&&(e=t._data,delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e}))}function _a(t){t.data.datasets.forEach(t=>{xa(t)})}var wa={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(l,t,w)=>{if(w.enabled){let o=l.width;l.data.datasets.forEach((e,t)=>{var{_data:i,indexAxis:r}=e,h=l.getDatasetMeta(t),s=i||e.data;if("y"!==Ti([r,l.options.indexAxis])&&h.controller.supportsDecimation){t=l.scales[h.xAxisID];if(("linear"===t.type||"time"===t.type)&&!l.options.parsing){var{start:a,count:n}=(t=>{var e=t.length;let i,r=0;var s=h.iScale,{min:a,max:n,minDefined:o,maxDefined:l}=s.getUserBounds();return o&&(r=E(m(t,s.axis,a).lo,0,e-1)),i=l?E(m(t,s.axis,n).hi+1,r,e)-r:e-r,{start:r,count:i}})(s);if(n<=(w.threshold||4*o))xa(e);else{let t;switch(T(i)&&(e._data=s,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),w.algorithm){case"lttb":t=((n,o,l,t)=>{var e=w.samples||t;if(l<=e)return n.slice(o,o+l);var h=[],c=(l-2)/(e-2);let d=0,i=o+l-1,u,p,f,g,m,v=o;for(h[d++]=n[v],u=0;u<e-2;u++){let t,e=0,i=0,r=Math.floor((u+1)*c)+1+o,s=Math.min(Math.floor((u+2)*c)+1,l)+o,a=s-r;for(t=r;t<s;t++)e+=n[t].x,i+=n[t].y;e/=a,i/=a;var y=Math.floor(u*c)+1+o,b=Math.min(Math.floor((u+1)*c)+1,l)+o,{x,y:_}=n[v];for(f=-1,t=y;t<b;t++)(g=.5*Math.abs((x-e)*(n[t].y-_)-(x-n[t].x)*(i-_)))>f&&(f=g,p=n[t],m=t);h[d++]=p,v=m}return h[d++]=n[i],h})(s,a,n,o);break;case"min-max":t=((r,t,e,i)=>{let s,a,n,o,l,h,c,d,u,p,f=0,g=0;var m=[],v=r[t].x,y=r[t+e-1].x-v;for(s=t;s<t+e;++s){n=((a=r[s]).x-v)/y*i,o=a.y;let t=0|n;if(t===l)o<u?(u=o,h=s):o>p&&(p=o,c=s),f=(g*f+a.x)/++g;else{let i=s-1;if(!T(h)&&!T(c)){let t=Math.min(h,c),e=Math.max(h,c);t!==d&&t!==i&&m.push({...r[t],x:f}),e!==d&&e!==i&&m.push({...r[e],x:f})}0<s&&i!==d&&m.push(r[i]),m.push(a),l=t,g=0,u=p=o,h=c=d=s}}return m})(s,a,n,o);break;default:throw new Error(`Unsupported decimation algorithm '${w.algorithm}'`)}e._decimated=t}}}})}else _a(l)},destroy(t){_a(t)}};function Sa(i,r,s,t){if(!t){let t=r[i],e=s[i];return"angle"===i&&(t=y(t),e=y(e)),{property:i,start:t,end:e}}}function Ca(t,e,i){for(;t<e;e--){let t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function Ta(t,e,i,r){return t&&e?r(t[i],e[i]):t?t[i]:e?e[i]:0}function ka(e,t){let i=[],r=!1;return(i=P(e)?(r=!0,e):(t=>{let{x:i=null,y:r=null}=e||{},s=t.points,a=[];return t.segments.forEach(({start:t,end:e})=>{e=Ca(t,e,s);t=s[t],e=s[e];null!==r?(a.push({x:t.x,y:r}),a.push({x:e.x,y:r})):null!==i&&(a.push({x:i,y:t.y}),a.push({x:i,y:e.y}))}),a})(t)).length?new js({points:i,options:{tension:0},_loop:r,_fullLoop:r}):null}function Ma(t){return t&&!1!==t.fill}function Ea(r,t,e){var i,s,a=(()=>{var t=r.options,e=t.fill;let i=D(e&&e.target,e);return!1!==(i=void 0===i?!!t.backgroundColor:i)&&null!==i&&(!0===i?"origin":i)})();return O(a)?!isNaN(a.value)&&a:g(s=parseFloat(a))&&Math.floor(s)===s?(i=a[0],s=s,!((s="-"!==i&&"+"!==i?s:t+s)===t||s<0||e<=s)&&s):0<=["origin","start","end","stack","shape"].indexOf(a)&&a}function Pa(e,i,r){var s=[];for(let t=0;t<r.length;t++){var{first:a,last:n,point:o}=((t,e,s)=>{let i=t.interpolate(e,s);if(!i)return{};let a=i[s],n=t.segments,o=t.points,l=!1,h=!1;for(let r=0;r<n.length;r++){let t=n[r],e=o[t.start][s],i=o[t.end][s];if(c(a,e,i)){l=a===e,h=a===i;break}}return{first:l,last:h,point:i}})(r[t],i,"x");if(!(!o||a&&n))if(a)s.unshift(o);else if(e.push(o),!n)break}e.push(...s)}class Oa{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){var{x:r,y:s,radius:a}=this;return e=e||{start:0,end:b},t.arc(r,s,a,e.end,e.start,!0),!i.bounds}interpolate(t){var{x:e,y:i,radius:r}=this,t=t.angle;return{x:e+Math.cos(t)*r,y:i+Math.sin(t)*r,angle:t}}}function Da(o){var t,e,{chart:i,fill:r,line:s}=o;if(g(r))return t=r,(e=(i=i).getDatasetMeta(t))&&i.isDatasetVisible(t)?e.dataset:null;if("stack"!==r)return"shape"===r||((i=(o=>{if((o.scale||{}).getPointPositionForValue){var l=o;let{scale:e,fill:t}=l,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,a=(l=t,h=e,"start"===l?s:"end"===l?h.options.reverse?h.min:h.max:O(l)?l.value:h.getBaseValue()),n=[];if(i.grid.circular){let t=e.getPointPositionForValue(0,s);return new Oa({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(a)})}for(let t=0;t<r;++t)n.push(e.getPointPositionForValue(t,a));return n}var t=o,{scale:l={},fill:t}=t,h=((t,e)=>{let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:O(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i})(t,l);if(g(h)){let t=l.isHorizontal();return{x:t?h:null,y:t?null:h}}return null})(o))instanceof Oa?i:ka(i,s));{let{scale:t,index:e,line:i}=o,r=[],s=i.segments,a=i.points,n=((t,e)=>{var i=[],r=t.getMatchingVisibleMetas("line");for(let t=0;t<r.length;t++){var s=r[t];if(s.index===e)break;s.hidden||i.unshift(s.dataset)}return i})(t,e);n.push(ka({x:null,y:t.bottom},i));for(let t=0;t<s.length;t++){let e=s[t];for(let t=e.start;t<=e.end;t++)Pa(r,a[t],n)}return new js({points:r,options:{}})}}function Aa(t,e,i){var r,s=Da(e),{line:e,scale:a,axis:n}=e,o=e.options,l=o.fill,o=o.backgroundColor,{above:l=o,below:o=o}=l||{};s&&e.points.length&&(Ne(t,i),r=t,{line:s,target:l,above:o,below:i,area:a,scale:n}=e={line:e,target:s,above:l,below:o,area:i,scale:a,axis:n},e=s._loop?"angle":e.axis,r.save(),"x"===e&&i!==o&&(La(r,l,a.top),Ia(r,{line:s,target:l,color:o,scale:n,property:e}),r.restore(),r.save(),La(r,l,a.bottom)),Ia(r,{line:s,target:l,color:i,scale:n,property:e}),r.restore(),ze(t))}function La(s,a,n){let{segments:t,points:o}=a,l=!0,h=!1;s.beginPath();for(var c of t){let{start:t,end:e}=c,i=o[t],r=o[Ca(t,e,o)];l?(s.moveTo(i.x,i.y),l=!1):(s.lineTo(i.x,n),s.lineTo(i.x,i.y)),(h=!!a.pathSegment(s,c,{move:h}))?s.closePath():s.lineTo(r.x,n)}s.lineTo(a.first().x,n),s.closePath(),s.clip()}function Ia(o,t){let{line:l,target:h,property:c,color:d,scale:u}=t,e=((t,e,s)=>{let i=t.segments,a=t.points,n=e.points,o=[];for(let t of i){var{start:r,end:l}=t,l=Ca(r,l,a),h=Sa(s,a[r],a[l],t.loop);if(e.segments){var c=Ii(e,h);for(let r of c){let e=Sa(s,n[r.start],n[r.end],r.loop),i=Li(t,a,e);for(let t of i)o.push({source:t,target:r,start:{[s]:Ta(h,e,"start",Math.max)},end:{[s]:Ta(h,e,"end",Math.min)}})}}else o.push({source:t,target:h,start:a[r],end:a[l]})}return o})(l,h,c);for(let{source:r,target:s,start:a,end:n}of e){let{style:{backgroundColor:t=d}={}}=r,e=!0!==h;o.save(),o.fillStyle=t,y=v=m=g=f=p=void 0;var p=o,f=u,g=e&&Sa(c,a,n),{top:f,bottom:m}=f.chart.chartArea,{property:g,start:v,end:y}=g||{},g=("x"===g&&(p.beginPath(),p.rect(v,f,y-v,m-f),p.clip()),o.beginPath(),!!l.pathSegment(o,r));let i;if(e){g?o.closePath():ja(o,h,n,c);let t=!!h.pathSegment(o,s,{move:g,reverse:!0});(i=g&&t)||ja(o,h,a,c)}o.closePath(),o.fill(i?"evenodd":"nonzero"),o.restore()}}function ja(t,e,i,r){e=e.interpolate(i,r);e&&t.lineTo(e.x,e.y)}var Fa={id:"filler",afterDatasetsUpdate(t,e,i){var r=(t.data.datasets||[]).length,s=[];let a,n,o,l;for(n=0;n<r;++n)o=(a=t.getDatasetMeta(n)).dataset,l=null,o&&o.options&&o instanceof js&&(l={visible:t.isDatasetVisible(n),index:n,fill:Ea(o,n,r),chart:t,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,s.push(l);for(n=0;n<r;++n)(l=s[n])&&!1!==l.fill&&(l.fill=((t,e,i)=>{let r=t[e].fill;var s,a=[e];if(!i)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!g(r))return r;if(!(s=t[r]))return!1;if(s.visible)return r;a.push(r),r=s.fill}return!1})(s,n,i.propagate))},beforeDraw(i,t,e){var r="beforeDraw"===e.drawTime,s=i.getSortedVisibleDatasetMetas(),a=i.chartArea;for(let e=s.length-1;0<=e;--e){let t=s[e].$filler;t&&(t.line.updateControlPoints(a,t.axis),r)&&t.fill&&Aa(i.ctx,t,a)}},beforeDatasetsDraw(i,t,e){if("beforeDatasetsDraw"===e.drawTime){var r=i.getSortedVisibleDatasetMetas();for(let e=r.length-1;0<=e;--e){let t=r[e].$filler;Ma(t)&&Aa(i.ctx,t,i.chartArea)}}},beforeDatasetDraw(t,e,i){e=e.meta.$filler;Ma(e)&&"beforeDatasetDraw"===i.drawTime&&Aa(t.ctx,e,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};let Ra=(t,e)=>{let{boxHeight:i=e,boxWidth:r=e}=t;return t.usePointStyle&&(i=Math.min(i,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:i,itemHeight:Math.max(e,i)}};class Ba extends e{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let i=this.options.labels||{},t=d(i.generateLabels,[this.chart],this)||[];i.filter&&(t=t.filter(t=>i.filter(t,this.chart.data))),i.sort&&(t=t.sort((t,e)=>i.sort(t,e,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){var{options:i,ctx:r}=this;if(i.display){var s=i.labels,a=F(s.font),n=a.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=Ra(s,n);let t,e;r.font=a.string,this.isHorizontal()?(t=this.maxWidth,e=this._fitRows(o,n,s,l)+10):(e=this.maxHeight,t=this._fitCols(o,a,s,l)+10),this.width=Math.min(t,i.maxWidth||this.maxWidth),this.height=Math.min(e,i.maxHeight||this.maxHeight)}else this.width=this.height=0}_fitRows(t,i,r,s){let{ctx:a,maxWidth:n,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],h=this.lineWidths=[0],c=s+o,d=t,u=(a.textAlign="left",a.textBaseline="middle",-1),p=-c;return this.legendItems.forEach((t,e)=>{t=r+i/2+a.measureText(t.text).width;(0===e||h[h.length-1]+t+2*o>n)&&(d+=c,h[h.length-(0<e?0:1)]=0,p+=c,u++),l[e]={left:0,top:p,row:u,width:t,height:s},h[h.length-1]+=t+o}),d}_fitCols(t,o,l,h){let{ctx:c,maxHeight:e,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],p=this.columnSizes=[],f=e-t,g=d,m=0,v=0,y=0,b=0;return this.legendItems.forEach((t,e)=>{n=l,i=o,r=c,s=t,a=h;var i,r,s,a,{itemWidth:t,itemHeight:n}={itemWidth:((t,e,i)=>{let r=s.text;return r&&"string"!=typeof r&&(r=r.reduce((t,e)=>t.length>e.length?t:e)),t+e.size/2+i.measureText(r).width})(n,i,r),itemHeight:(t=>{let e=a;return e="string"!=typeof s.text?Na(s,t):e})(i.lineHeight)};0<e&&v+n+2*d>f&&(g+=m+d,p.push({width:m,height:v}),y+=m+d,b++,m=v=0),u[e]={left:y,top:v,col:b,width:t,height:n},m=Math.max(m,t),v+=n+d}),g+=m,p.push({width:m,height:v}),g}adjustHitBoxes(){if(this.options.display){var i=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:s,labels:{padding:a},rtl:t}}=this,n=Ei(t,this.left,this.width);if(this.isHorizontal()){let t=0,e=L(s,this.left+a,this.right-this.lineWidths[t]);for(var o of r)t!==o.row&&(t=o.row,e=L(s,this.left+a,this.right-this.lineWidths[t])),o.top+=this.top+i+a,o.left=n.leftForLtr(n.x(e),o.width),e+=o.width+a}else{let t=0,e=L(s,this.top+i+a,this.bottom-this.columnSizes[t].height);for(var l of r)l.col!==t&&(t=l.col,e=L(s,this.top+i+a,this.bottom-this.columnSizes[t].height)),l.top=e,l.left+=this.left+a,l.left=n.leftForLtr(n.x(l.left),l.width),e+=l.height+a}}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){var t;this.options.display&&(Ne(t=this.ctx,this),this._draw(),ze(t))}_draw(){let{options:h,columnSizes:c,lineWidths:d,ctx:u}=this,{align:p,labels:f}=h,g=I.color,m=Ei(h.rtl,this.left,this.width),v=F(f.font),y=f.padding,b=v.size,x=b/2,_,{boxWidth:w,boxHeight:S,itemHeight:C}=(this.drawTitle(),u.textAlign=m.textAlign("left"),u.textBaseline="middle",u.lineWidth=.5,u.font=v.string,Ra(f,b)),T=this.isHorizontal(),k=this._computeTitleHeight(),M=(_=T?{x:L(p,this.left+y,this.right-d[0]),y:this.top+y+k,line:0}:{x:this.left+y,y:L(p,this.top+k+y,this.bottom-c[0].height),line:0},Pi(this.ctx,h.textDirection),C+y);this.legendItems.forEach((e,r)=>{u.strokeStyle=e.fontColor,u.fillStyle=e.fontColor;var t=u.measureText(e.text).width,i=m.textAlign(e.textAlign||(e.textAlign=f.textAlign)),t=w+x+t;let s=_.x,a=_.y;m.setWidth(this.width),T?0<r&&s+t+y>this.right&&(a=_.y+=M,_.line++,s=_.x=L(p,this.left+y,this.right-d[_.line])):0<r&&a+M>this.bottom&&(s=_.x=s+c[_.line].width+y,_.line++,a=_.y=L(p,this.top+k+y,this.bottom-c[_.line].height));var r=m.x(s),n=a,o=e;if(!(isNaN(w)||w<=0||isNaN(S)||S<0)){u.save();var l=D(o.lineWidth,1);if(u.fillStyle=D(o.fillStyle,g),u.lineCap=D(o.lineCap,"butt"),u.lineDashOffset=D(o.lineDashOffset,0),u.lineJoin=D(o.lineJoin,"miter"),u.lineWidth=l,u.strokeStyle=D(o.strokeStyle,g),u.setLineDash(D(o.lineDash,[])),f.usePointStyle){let t={radius:S*Math.SQRT2/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:l},e=m.xPlus(r,w/2);Be(u,t,e,n+x,f.pointStyleWidth&&w)}else{let t=n+Math.max((b-S)/2,0),e=m.leftForLtr(r,w),i=Ci(o.borderRadius);u.beginPath(),Object.values(i).some(t=>0!==t)?Xe(u,{x:e,y:t,w:w,h:S,radius:i}):u.rect(e,t,w,S),u.fill(),0!==l&&u.stroke()}u.restore()}if(s=Et(i,s+w+x,T?s+t:this.right,h.rtl),n=m.x(s),r=a,o=e,Ve(u,o.text,n,r+C/2,v,{strikethrough:o.hidden,textAlign:m.textAlign(o.textAlign)}),T)_.x+=t+y;else if("string"!=typeof e.text){let t=v.lineHeight;_.y+=Na(e,t)+y}else _.y+=M}),Oi(this.ctx,h.textDirection)}drawTitle(){let r=this.options,s=r.title,a=F(s.font),n=j(s.padding);if(s.display){var o=Ei(r.rtl,this.left,this.width),l=this.ctx,h=s.position,c=a.size/2,c=n.top+c;let e,t=this.left,i=this.width;if(this.isHorizontal())i=Math.max(...this.lineWidths),e=this.top+c,t=L(r.align,t,this.right-i);else{let t=this.columnSizes.reduce((t,e)=>Math.max(t,e.height),0);e=c+L(r.align,this.top,this.bottom-t-r.labels.padding-this._computeTitleHeight())}c=L(h,t,t+i);l.textAlign=o.textAlign(Mt(h)),l.textBaseline="middle",l.strokeStyle=s.color,l.fillStyle=s.color,l.font=a.string,Ve(l,s.text,c,e,a)}}_computeTitleHeight(){var t=this.options.title,e=F(t.font),i=j(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(c(t,this.left,this.right)&&c(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(c(t,(r=s[i]).left,r.left+r.width)&&c(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){var e,i,r,s=this.options;("mousemove"!==(e=t.type)&&"mouseout"!==e||!s.onHover&&!s.onLeave)&&(!s.onClick||"click"!==e&&"mouseup"!==e)||(e=this._getLegendItemAt(t.x,t.y),"mousemove"===t.type||"mouseout"===t.type?(r=null!==(i=this._hoveredItem)&&null!==e&&i.datasetIndex===e.datasetIndex&&i.index===e.index,i&&!r&&d(s.onLeave,[t,i,this],this),(this._hoveredItem=e)&&!r&&d(s.onHover,[t,e,this],this)):e&&d(s.onClick,[t,e,this],this))}}function Na(t,e){return e*(t.text?t.text.length:0)}var za={id:"legend",_element:Ba,start(t,e,i){var r=t.legend=new Ba({ctx:t.ctx,options:i,chart:t});s.configure(t,r,i),s.addBox(t,r)},stop(t){s.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){var r=t.legend;s.configure(t,r,i),r.options=i},afterUpdate(t){t=t.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){var r=e.datasetIndex,i=i.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let r=t.data.datasets,{usePointStyle:s,pointStyle:a,textAlign:n,color:o,useBorderRadius:l,borderRadius:h}=t.legend.options.labels;return t._getSortedDatasetMetas().map(t=>{var e=t.controller.getStyle(s?0:void 0),i=j(e.borderWidth);return{text:r[t.index].label,fillStyle:e.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:(i.width+i.height)/4,strokeStyle:e.borderColor,pointStyle:a||e.pointStyle,rotation:e.rotation,textAlign:n||e.textAlign,borderRadius:l&&(h||e.borderRadius),datasetIndex:t.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ha extends e{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){var i=this.options;this.left=0,this.top=0,i.display?(this.width=this.right=t,this.height=this.bottom=e,t=P(i.text)?i.text.length:1,this._padding=j(i.padding),e=t*F(i.font).lineHeight+this._padding.height,this.isHorizontal()?this.height=e:this.width=e):this.width=this.height=this.right=this.bottom=0}isHorizontal(){var t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){var{top:e,left:i,bottom:r,right:s,options:a}=this,n=a.align;let o,l,h,c=0;return o=this.isHorizontal()?(l=L(n,i,s),h=e+t,s-i):(c="left"===a.position?(l=i+t,h=L(n,r,e),-.5*k):(l=s-t,h=L(n,e,r),.5*k),r-e),{titleX:l,titleY:h,maxWidth:o,rotation:c}}draw(){var t,e,i,r,s,a=this.ctx,n=this.options;n.display&&(e=(t=F(n.font)).lineHeight/2+this._padding.top,{titleX:e,titleY:i,maxWidth:r,rotation:s}=this._drawArgs(e),Ve(a,n.text,0,0,t,{color:n.color,maxWidth:r,rotation:s,textAlign:Mt(n.align),textBaseline:"middle",translation:[e,i]}))}}var Wa={id:"title",_element:Ha,start(t,e,i){var r;t=t,i=i,r=new Ha({ctx:t.ctx,options:i,chart:t}),s.configure(t,r,i),s.addBox(t,r),t.titleBlock=r},stop(t){var e=t.titleBlock;s.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){var r=t.titleBlock;s.configure(t,r,i),r.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Va=new WeakMap;var Xa={id:"subtitle",start(t,e,i){var r=new Ha({ctx:t.ctx,options:i,chart:t});s.configure(t,r,i),s.addBox(t,r),Va.set(t,r)},stop(t){s.removeBox(t,Va.get(t)),Va.delete(t)},beforeUpdate(t,e,i){var r=Va.get(t);s.configure(t,r,i),r.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};let Ya={average(t){if(!t.length)return!1;let i,e,r=new Set,s=0,a=0;for(i=0,e=t.length;i<e;++i){let e=t[i].element;if(e&&e.hasValue()){let t=e.tooltipPosition();r.add(t.x),s+=t.y,++a}}return 0!==a&&0!==r.size&&{x:[...r].reduce((t,e)=>t+e)/r.size,y:s/a}},nearest(t,i){if(!t.length)return!1;let r,e,s,a=i.x,n=i.y,o=Number.POSITIVE_INFINITY;for(r=0,e=t.length;r<e;++r){let e=t[r].element;if(e&&e.hasValue()){let t=pt(i,e.getCenterPoint());t<o&&(o=t,s=e)}}if(s){let t=s.tooltipPosition();a=t.x,n=t.y}return{x:a,y:n}}};function v(t,e){return e&&(P(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ga(t){return("string"==typeof t||t instanceof String)&&-1<t.indexOf("\n")?t.split("\n"):t}function qa(t,e){function i(t){v=Math.max(v,r.measureText(t).width+b)}let r=t.chart.ctx,{body:s,footer:a,title:n}=t,{boxWidth:o,boxHeight:l}=e,h=F(e.bodyFont),c=F(e.titleFont),d=F(e.footerFont),u=n.length,p=a.length,f=s.length,g=j(e.padding),m=g.height,v=0,y=s.reduce((t,e)=>t+e.before.length+e.lines.length+e.after.length,0),b=(y+=t.beforeBody.length+t.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),y&&(m+=f*(e.displayColors?Math.max(l,h.lineHeight):h.lineHeight)+(y-f)*h.lineHeight+(y-1)*e.bodySpacing),p&&(m+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing),0);return r.save(),r.font=c.string,C(t.title,i),r.font=h.string,C(t.beforeBody.concat(t.afterBody),i),b=e.displayColors?o+2+e.boxPadding:0,C(s,t=>{C(t.before,i),C(t.lines,i),C(t.after,i)}),b=0,r.font=d.string,C(t.footer,i),r.restore(),{width:v+=g.width,height:m}}function Ua(s,a,n,t){var{x:e,width:i}=n,{width:r,chartArea:{left:o,right:l}}=s;let h="center";return"center"===t?h=e<=(o+l)/2?"left":"right":e<=i/2?h="left":r-i/2<=e&&(h="right"),h=(t=>{var{x:e,width:i}=n,r=a.caretSize+a.caretPadding;return"left"===t&&e+i+r>s.width||"right"===t&&e-i-r<0})(h)?"center":h}function $a(i,t,r){var e=r.yAlign||t.yAlign||(()=>{var{y:t,height:e}=r;return t<e/2?"top":t>i.height-e/2?"bottom":"center"})();return{xAlign:r.xAlign||t.xAlign||Ua(i,t,r,e),yAlign:e}}function Ka(t,i,e,r){var{caretSize:t,caretPadding:s,cornerRadius:a}=t,{xAlign:n,yAlign:o}=e,l=t+s,{topLeft:e,topRight:s,bottomLeft:a,bottomRight:h}=Ci(a);let c=(()=>{let{x:t,width:e}=i;return"right"===n?t-=e:"center"===n&&(t-=e/2),t})();var d=(()=>{let{y:t,height:e}=i;return"top"===o?t+=l:t-="bottom"===o?e+l:e/2,t})();return"center"===o?"left"===n?c+=l:"right"===n&&(c-=l):"left"===n?c-=Math.max(e,a)+t:"right"===n&&(c+=Math.max(s,h)+t),{x:E(c,0,r.width-i.width),y:E(d,0,r.height-i.height)}}function Ja(t,e,i){i=j(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function Qa(t){return v([],Ga(t))}function Za(t,e){e=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return e?t.override(e):t}let tn={beforeTitle:t,title(t){if(0<t.length){var t=t[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(0<i&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:t,beforeBody:t,beforeLabel:t,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");t=t.formattedValue;return T(t)||(e+=t),e},labelColor(t){t=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){t=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:t,afterBody:t,beforeFooter:t,footer:t,afterFooter:t};function S(t,e,i,r){t=t[e].call(i,r);return void 0===t?tn[e].call(i,r):t}class en extends e{static positioners=Ya;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){var t,e=this._cachedAnimations;return e||(e=this.chart,e=(t=this.options.setContext(this.getContext())).enabled&&e.options.animation&&t.animations,t=new wr(this.chart,e),e._cacheable&&(this._cachedAnimations=Object.freeze(t)),t)}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),Mi(t,{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})));var t}getTitle(t,e){var e=e.callbacks,i=S(e,"beforeTitle",this,t),r=S(e,"title",this,t),e=S(e,"afterTitle",this,t),t=v([],Ga(i));return t=v(t,Ga(r)),v(t,Ga(e))}getBeforeBody(t,e){return Qa(S(e.callbacks,"beforeBody",this,t))}getBody(t,e){let r=e.callbacks,s=[];return C(t,t=>{var e={before:[],lines:[],after:[]},i=Za(r,t);v(e.before,Ga(S(i,"beforeLabel",this,t))),v(e.lines,S(i,"label",this,t)),v(e.after,Ga(S(i,"afterLabel",this,t))),s.push(e)}),s}getAfterBody(t,e){return Qa(S(e.callbacks,"afterBody",this,t))}getFooter(t,e){var e=e.callbacks,i=S(e,"beforeFooter",this,t),r=S(e,"footer",this,t),e=S(e,"afterFooter",this,t),t=v([],Ga(i));return t=v(t,Ga(r)),v(t,Ga(e))}_createItems(r){let t=this._active,s=this.chart.data,i=[],a=[],n=[],e,o,l=[];for(e=0,o=t.length;e<o;++e)l.push(((t,e)=>{var{element:e,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:a,value:n}=s.getLabelAndValue(r);return{chart:t,label:a,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:n,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}})(this.chart,t[e]));return r.filter&&(l=l.filter((t,e,i)=>r.filter(t,e,i,s))),C(l=r.itemSort?l.sort((t,e)=>r.itemSort(t,e,s)):l,t=>{var e=Za(r.callbacks,t);i.push(S(e,"labelColor",this,t)),a.push(S(e,"labelPointStyle",this,t)),n.push(S(e,"labelTextColor",this,t))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=n,this.dataPoints=l}update(t,e){var a=this.options.setContext(this.getContext()),n=this._active;let o,l=[];if(n.length){let t=Ya[a.position].call(this,n,this._eventPosition),e=(l=this._createItems(a),this.title=this.getTitle(l,a),this.beforeBody=this.getBeforeBody(l,a),this.body=this.getBody(l,a),this.afterBody=this.getAfterBody(l,a),this.footer=this.getFooter(l,a),this._size=qa(this,a)),i=Object.assign({},t,e),r=$a(this.chart,a,i),s=Ka(a,i,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,o={opacity:1,x:s.x,y:s.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){t=this.getCaretPosition(t,i,r);e.lineTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineTo(t.x3,t.y3)}getCaretPosition(t,e,i){var{xAlign:r,yAlign:s}=this,{caretSize:i,cornerRadius:a}=i,{topLeft:a,topRight:n,bottomLeft:o,bottomRight:l}=Ci(a),{x:t,y:h}=t,{width:e,height:c}=e;let d,u,p,f,g,m;return"center"===s?(g=h+c/2,m="left"===r?(d=t,u=d-i,f=g+i,g-i):(d=t+e,u=d+i,f=g-i,g+i),p=d):(u="left"===r?t+Math.max(a,o)+i:"right"===r?t+e-Math.max(n,l)-i:this.caretX,p="top"===s?(f=h,g=f-i,d=u-i,u+i):(f=h+c,g=f+i,d=u+i,u-i),m=f),{x1:d,x2:u,x3:p,y1:f,y2:g,y3:m}}drawTitle(t,e,i){var r=this.title,s=r.length;let a,n,o;if(s){var l=Ei(i.rtl,this.x,this.width);for(t.x=Ja(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",a=F(i.titleFont),n=i.titleSpacing,e.fillStyle=i.titleColor,e.font=a.string,o=0;o<s;++o)e.fillText(r[o],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+n,o+1===s&&(t.y+=i.titleMarginBottom-n)}}_drawColorBox(r,t,e,s,a){let n=this.labelColors[e],o=this.labelPointStyles[e],{boxHeight:l,boxWidth:h}=a,i=F(a.bodyFont),c=Ja(this,"left",a),d=s.x(c),u=l<i.lineHeight?(i.lineHeight-l)/2:0,p=t.y+u;if(a.usePointStyle){let t={radius:Math.min(h,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},e=s.leftForLtr(d,h)+h/2,i=p+l/2;r.strokeStyle=a.multiKeyBackground,r.fillStyle=a.multiKeyBackground,Re(r,t,e,i),r.strokeStyle=n.borderColor,r.fillStyle=n.backgroundColor,Re(r,t,e,i)}else{r.lineWidth=O(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,r.strokeStyle=n.borderColor,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset||0;let t=s.leftForLtr(d,h),e=s.leftForLtr(s.xPlus(d,1),h-2),i=Ci(n.borderRadius);Object.values(i).some(t=>0!==t)?(r.beginPath(),r.fillStyle=a.multiKeyBackground,Xe(r,{x:t,y:p,w:h,h:l,radius:i}),r.fill(),r.stroke(),r.fillStyle=n.backgroundColor,r.beginPath(),Xe(r,{x:e,y:p+1,w:h-2,h:l-2,radius:i}),r.fill()):(r.fillStyle=a.multiKeyBackground,r.fillRect(t,p,h,l),r.strokeRect(t,p,h,l),r.fillStyle=n.backgroundColor,r.fillRect(e,p+1,h-2,l-2))}r.fillStyle=this.labelTextColors[e]}drawBody(e,i,t){function r(t){i.fillText(t,f.x(e.x+p),e.y+u/2),e.y+=u+a}let s=this.body,{bodySpacing:a,bodyAlign:n,displayColors:o,boxHeight:l,boxWidth:h,boxPadding:c}=t,d=F(t.bodyFont),u=d.lineHeight,p=0,f=Ei(t.rtl,this.x,this.width),g=f.textAlign(n),m,v,y,b,x,_,w;for(i.textAlign=n,i.textBaseline="middle",i.font=d.string,e.x=Ja(this,g,t),i.fillStyle=t.bodyColor,C(this.beforeBody,r),p=o&&"right"!==g?"center"===n?h/2+c:h+2+c:0,b=0,_=s.length;b<_;++b){for(m=s[b],v=this.labelTextColors[b],i.fillStyle=v,C(m.before,r),y=m.lines,o&&y.length&&(this._drawColorBox(i,e,b,f,t),u=Math.max(d.lineHeight,l)),x=0,w=y.length;x<w;++x)r(y[x]),u=d.lineHeight;C(m.after,r)}p=0,u=d.lineHeight,C(this.afterBody,r),e.y-=a}drawFooter(t,e,i){var r=this.footer,s=r.length;let a,n;if(s){var o=Ei(i.rtl,this.x,this.width);for(t.x=Ja(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=o.textAlign(i.footerAlign),e.textBaseline="middle",a=F(i.footerFont),e.fillStyle=i.footerColor,e.font=a.string,n=0;n<s;++n)e.fillText(r[n],o.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){var{xAlign:s,yAlign:a}=this,{x:n,y:o}=t,{width:l,height:h}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:p}=Ci(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(n+c,o),"top"===a&&this.drawCaret(t,e,i,r),e.lineTo(n+l-d,o),e.quadraticCurveTo(n+l,o,n+l,o+d),"center"===a&&"right"===s&&this.drawCaret(t,e,i,r),e.lineTo(n+l,o+h-p),e.quadraticCurveTo(n+l,o+h,n+l-p,o+h),"bottom"===a&&this.drawCaret(t,e,i,r),e.lineTo(n+u,o+h),e.quadraticCurveTo(n,o+h,n,o+h-u),"center"===a&&"left"===s&&this.drawCaret(t,e,i,r),e.lineTo(n,o+c),e.quadraticCurveTo(n,o,n+c,o),e.closePath(),e.fill(),0<r.borderWidth&&e.stroke()}_updateAnimationTarget(e){let i=this.chart,t=this.$animations,r=t&&t.x,s=t&&t.y;if(r||s){let t=Ya[e.position].call(this,this._active,this._eventPosition);var a,n;t&&(a=this._size=qa(this,e),n=Ka(e,n=Object.assign({},t,this._size),e=$a(i,e,n),i),r._to===n.x&&s._to===n.y||(this.xAlign=e.xAlign,this.yAlign=e.yAlign,this.width=a.width,this.height=a.height,this.caretX=t.x,this.caretY=t.y,this._resolveAnimations().update(this,n)))}}_willRender(){return!!this.opacity}draw(t){var e,i,r,s,a=this.options.setContext(this.getContext()),n=this.opacity;n&&(this._updateAnimationTarget(a),e={width:this.width,height:this.height},i={x:this.x,y:this.y},n=Math.abs(n)<.001?0:n,r=j(a.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length,a.enabled)&&s&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,e,a),Pi(t,a.textDirection),i.y+=r.top,this.drawTitle(i,t,a),this.drawBody(i,t,a),this.drawFooter(i,t,a),Oi(t,a.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){var i=this._active,t=t.map(({datasetIndex:t,index:e})=>{var i=this.chart.getDatasetMeta(t);if(i)return{datasetIndex:t,element:i.data[e],index:e};throw new Error("Cannot find a dataset at index "+t)}),i=!z(i,t),r=this._positionChanged(t,e);(i||r)&&(this._active=t,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var r=this.options,s=this._active||[],i=this._getActiveElements(t,s,e,i),a=this._positionChanged(i,t),s=e||!z(i,s)||a;return s&&(this._active=i,r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e)),s}_getActiveElements(t,e,i,r){var s=this.options;return"mouseout"===t.type?[]:r?(r=this.chart.getElementsAtEventForMode(t,s.mode,s,i),s.reverse&&r.reverse(),r):e.filter(t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index))}_positionChanged(t,e){var{caretX:i,caretY:r,options:s}=this,s=Ya[s.position].call(this,t,e);return!1!==s&&(i!==s.x||r!==s.y)}}var rn={id:"tooltip",_element:en,positioners:Ya,afterInit(t,e,i){i&&(t.tooltip=new en({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){var e,i=t.tooltip;i&&i._willRender()&&!(e={tooltip:i})!==t.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})&&(i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e))},afterEvent(t,e){var i;t.tooltip&&(i=e.replay,t.tooltip.handleEvent(e.event,i,e.inChartArea))&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tn},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};return i.register(Oe,ua,Ws,r),i.helpers={...Bi},i._adapters=gs,i.Animation=_r,i.Animations=wr,i.animator=a,i.controllers=w.controllers.items,i.DatasetController=Lr,i.Element=e,i.elements=Ws,i.Interaction=Xi,i.layouts=s,i.platforms=yr,i.Scale=Hr,i.Ticks=fe,Object.assign(i,Oe,ua,Ws,r,yr),i.Chart=i,"undefined"!=typeof window&&(window.Chart=i),i}),((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).fabric={})})(this,function(I){function c(t,e,i){var r;r=(t=>{if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0===e)return String(t);if("object"!=typeof(e=e.call(t,"string")))return e;throw new TypeError("@@toPrimitive must return a primitive value.")})(e),(e="symbol"==typeof r?r:r+"")in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}function r(e,t){var i,r=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)),r}function j(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){c(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function u(t,e){if(null==t)return{};var i,r=((t,e)=>{if(null==t)return{};var i,r={};for(i in t)if({}.hasOwnProperty.call(t,i)){if(0<=e.indexOf(i))continue;r[i]=t[i]}return r})(t,e);if(Object.getOwnPropertySymbols)for(var s=Object.getOwnPropertySymbols(t),a=0;a<s.length;a++)i=s[a],0<=e.indexOf(i)||{}.propertyIsEnumerable.call(t,i)&&(r[i]=t[i]);return r}function i(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class o{constructor(){c(this,"browserShadowBlurConstant",1),c(this,"DPI",96),c(this,"devicePixelRatio","undefined"!=typeof window?window.devicePixelRatio:1),c(this,"perfLimitSizeTotal",2097152),c(this,"maxCacheSideLimit",4096),c(this,"minCacheSideLimit",256),c(this,"disableStyleCopyPaste",!1),c(this,"enableGLFiltering",!0),c(this,"textureSize",4096),c(this,"forceGLPutImageData",!1),c(this,"cachesBoundsOfCurve",!1),c(this,"fontPaths",{}),c(this,"NUM_FRACTION_DIGITS",4)}}function N(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];console[t]("fabric",...i)}let F=new class extends o{constructor(t){super(),this.configure(t)}configure(){Object.assign(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}addFonts(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.fontPaths=j(j({},this.fontPaths),t)}removeFonts(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>{delete this.fontPaths[t]})}clearFonts(){this.fontPaths={}}restoreDefaults(t){let i=new o,e=(null==t?void 0:t.reduce((t,e)=>(t[e]=i[e],t),{}))||i;this.configure(e)}};class z extends Error{constructor(t,e){super("fabric: ".concat(t),e)}}class H extends z{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}}class W extends class{}{testPrecision(t,e){var e="precision ".concat(e," float;\nvoid main(){}"),i=t.createShader(t.FRAGMENT_SHADER);return!!i&&(t.shaderSource(i,e),t.compileShader(i),!!t.getShaderParameter(i,t.COMPILE_STATUS))}queryWebGL(t){let e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(t=>this.testPrecision(e,t)),e.getExtension("WEBGL_lose_context").loseContext(),N("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}}let V={},X,Y=()=>X=X||{document:document,window:window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&0<window.navigator.maxTouchPoints,WebGLProbe:new W,dispose(){},copyPasteData:V},G=()=>Y().document,q=()=>Y().window,U=()=>{var t;return Math.max(null!=(t=F.devicePixelRatio)?t:q().devicePixelRatio,1)},$=new class{constructor(){c(this,"charWidthsCache",{}),c(this,"boundsOfCurveCache",{})}getFontCache(t){let{fontFamily:e,fontStyle:i,fontWeight:r}=t;e=e.toLowerCase(),this.charWidthsCache[e]||(this.charWidthsCache[e]={});var t=this.charWidthsCache[e],s="".concat(i.toLowerCase(),"_").concat((r+"").toLowerCase());return t[s]||(t[s]={}),t[s]}clearFontCache(t){(t=(t||"").toLowerCase())?this.charWidthsCache[t]&&delete this.charWidthsCache[t]:this.charWidthsCache={}}limitDimsByArea(t){var e=F.perfLimitSizeTotal,t=Math.sqrt(e*t);return[Math.floor(t),Math.floor(e/t)]}},K="6.5.0";function J(){}let Q=Math.PI/2,Z=2*Math.PI,tt=Math.PI/180,p=Object.freeze([1,0,0,1,0,0]),et=16,it=.4477152502,v="center",x="left",h="top",rt="bottom",_="right",y="none",st=/\r?\n/,at="scaling",nt="rotate",ot="skewing",lt="resizing",ht="modifyPoly",ct="changed",dt="scale",f="scaleX",g="scaleY",ut="skewX",pt="skewY",C="fill",m="stroke",ft="modified",d=new class{constructor(){this.json=new Map,this.svg=new Map}has(t){return this.json.has(t)}getClass(t){var e=this.json.get(t);if(e)return e;throw new z("No class registered for ".concat(t))}setClass(t,e){e?this.json.set(e,t):(this.json.set(t.type,t),this.json.set(t.type.toLowerCase(),t))}getSVGClass(t){return this.svg.get(t)}setSVGClass(t,e){this.svg.set(null!=e?e:t.type.toLowerCase(),t)}},gt=new class extends Array{remove(t){t=this.indexOf(t);-1<t&&this.splice(t,1)}cancelAll(){var t=this.splice(0);return t.forEach(t=>t.abort()),t}cancelByCanvas(e){var t;return e?((t=this.filter(t=>t.target===e||"object"==typeof t.target&&(null==(t=t.target)?void 0:t.canvas)===e)).forEach(t=>t.abort()),t):[]}cancelByTarget(e){var t;return e?((t=this.filter(t=>t.target===e)).forEach(t=>t.abort()),t):[]}};class mt{constructor(){c(this,"__eventListeners",{})}on(e,i){if(this.__eventListeners||(this.__eventListeners={}),"object"==typeof e)return Object.entries(e).forEach(t=>{var[t,e]=t;this.on(t,e)}),()=>this.off(e);if(i){let t=e;return this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(i),()=>this.off(t,i)}return()=>!1}once(t,s){if("object"==typeof t){let i=[];return Object.entries(t).forEach(t=>{var[t,e]=t;i.push(this.once(t,e))}),()=>i.forEach(t=>t())}if(s){let r=this.on(t,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];s.call(this,...e),r()});return r}return()=>!1}_removeEventListener(t,e){var i;this.__eventListeners[t]&&(e?-1<(e=(i=this.__eventListeners[t]).indexOf(e))&&i.splice(e,1):this.__eventListeners[t]=[])}off(t,e){if(this.__eventListeners)if(void 0===t)for(let t in this.__eventListeners)this._removeEventListener(t);else"object"==typeof t?Object.entries(t).forEach(t=>{var[t,e]=t;this._removeEventListener(t,e)}):this._removeEventListener(t,e)}fire(t,e){if(this.__eventListeners){var i=null==(t=this.__eventListeners[t])?void 0:t.concat();if(i)for(let t=0;t<i.length;t++)i[t].call(this,e||{})}}}let vt=(t,e)=>{e=t.indexOf(e);return-1!==e&&t.splice(e,1),t},yt=t=>{if(0===t)return 1;switch(Math.abs(t)/Q){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},bt=t=>{if(0===t)return 0;var e=t/Q,i=Math.sign(t);switch(e){case 1:return i;case 2:return 0;case 3:return-i}return Math.sin(t)};class b{constructor(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;"object"==typeof t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new b(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new b(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new b(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new b(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new b(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new b(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new b(this.x/t.x,this.y/t.y)}scalarDivide(t){return new b(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,e=Math.max(Math.min(1,e),0);return new b(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){var e=this.x-t.x,t=this.y-t.y;return Math.sqrt(e*e+t*t)}midPointFrom(t){return this.lerp(t)}min(t){return new b(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new b(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i}clone(){return new b(this.x,this.y)}rotate(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:xt,i=bt(t),t=yt(t),r=this.subtract(e);return new b(r.x*t-r.y*i,r.x*i+r.y*t).add(e)}transform(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return new b(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}}let xt=new b(0,0),_t=t=>!!t&&Array.isArray(t._objects);function wt(t){class i extends t{constructor(){super(...arguments),c(this,"_objects",[])}_onObjectAdded(t){}_onObjectRemoved(t){}_onStackOrderChanged(t){}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=this._objects.push(...e);return e.forEach(t=>this._onObjectAdded(t)),r}insertAt(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return this._objects.splice(t,0,...i),i.forEach(t=>this._onObjectAdded(t)),this._objects.length}remove(){let i=this._objects,r=[];for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return e.forEach(t=>{var e=i.indexOf(t);-1!==e&&(i.splice(e,1),r.push(t),this._onObjectRemoved(t))}),r}forEachObject(r){this.getObjects().forEach((t,e,i)=>r(t,e,i))}getObjects(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return 0===e.length?[...this._objects]:this._objects.filter(t=>t.isType(...e))}item(t){return this._objects[t]}isEmpty(){return 0===this._objects.length}size(){return this._objects.length}contains(e,t){return!!this._objects.includes(e)||!!t&&this._objects.some(t=>t instanceof i&&t.contains(e,!0))}complexity(){return this._objects.reduce((t,e)=>t+(e.complexity?e.complexity():0),0)}sendObjectToBack(t){return!(!t||t===this._objects[0]||(vt(this._objects,t),this._objects.unshift(t),this._onStackOrderChanged(t),0))}bringObjectToFront(t){return!(!t||t===this._objects[this._objects.length-1]||(vt(this._objects,t),this._objects.push(t),this._onStackOrderChanged(t),0))}sendObjectBackwards(t,e){var i;return!!t&&0!==(i=this._objects.indexOf(t))&&(i=this.findNewLowerIndex(t,i,e),vt(this._objects,t),this._objects.splice(i,0,t),this._onStackOrderChanged(t),!0)}bringObjectForward(t,e){var i;return!!t&&(i=this._objects.indexOf(t))!==this._objects.length-1&&(i=this.findNewUpperIndex(t,i,e),vt(this._objects,t),this._objects.splice(i,0,t),this._onStackOrderChanged(t),!0)}moveObjectTo(t,e){return t!==this._objects[e]&&(vt(this._objects,t),this._objects.splice(e,0,t),this._onStackOrderChanged(t),!0)}findNewLowerIndex(e,i,t){let r;if(t){for(let t=(r=i)-1;0<=t;--t)if(e.isOverlapping(this._objects[t])){r=t;break}}else r=i-1;return r}findNewUpperIndex(e,i,t){let r;if(t){for(let t=(r=i)+1;t<this._objects.length;++t)if(e.isOverlapping(this._objects[t])){r=t;break}}else r=i+1;return r}collectObjects(t){let{left:e,top:i,width:r,height:s}=t,{includeIntersecting:a=!0}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};var n=[],o=new b(e,i),l=o.add(new b(r,s));for(let e=this._objects.length-1;0<=e;e--){let t=this._objects[e];t.selectable&&t.visible&&(a&&t.intersectsWithRect(o,l)||t.isContainedWithinRect(o,l)||a&&t.containsPoint(o)||a&&t.containsPoint(l))&&n.push(t)}return n}}return i}class St extends mt{_setOptions(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(t in e)this.set(t,e[t])}_setObject(t){for(var e in t)this._set(e,t[e])}set(t,e){return"object"==typeof t?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this}get(t){return this[t]}}function Ct(t){return q().requestAnimationFrame(t)}function Tt(t){return q().cancelAnimationFrame(t)}function kt(t){return[1,0,0,1,t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0]}let Mt=0,w=()=>{var t=G().createElement("canvas");if(t&&void 0!==t.getContext)return t;throw new z("Failed to create `canvas` element")},Et=()=>G().createElement("img"),S=t=>{var e=w();return e.width=t.width,e.height=t.height,e},Pt=(t,e,i)=>t.toDataURL("image/".concat(e),i),T=t=>t*tt,Ot=t=>t/tt,Dt=t=>t.every((t,e)=>t===p[e]),l=(t,e,i)=>new b(t).transform(e,i),k=t=>{var e=1/(t[0]*t[3]-t[1]*t[2]),e=[e*t[3],-e*t[1],-e*t[2],e*t[0],0,0],{x:t,y:i}=new b(t[4],t[5]).transform(e,!0);return e[4]=-t,e[5]=-i,e},M=(t,e,i)=>[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],i?0:t[0]*e[4]+t[2]*e[5]+t[4],i?0:t[1]*e[4]+t[3]*e[5]+t[5]],At=(t,i)=>t.reduceRight((t,e)=>e&&t?M(e,t,i):e||t,void 0)||p.concat(),Lt=t=>{var[t,e]=t;return Math.atan2(e,t)},It=t=>{var e=Lt(t),i=Math.pow(t[0],2)+Math.pow(t[1],2),r=Math.sqrt(i),s=(t[0]*t[3]-t[2]*t[1])/r,i=Math.atan2(t[0]*t[2]+t[1]*t[3],i);return{angle:Ot(e),scaleX:r,scaleY:s,skewX:Ot(i),skewY:0,translateX:t[4]||0,translateY:t[5]||0}};function jt(){var{angle:t=0}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{x:e=0,y:i=0}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=T(t),r=yt(t),t=bt(t);return[r,t,-t,r,e?e-(r*e-t*i):0,i?i-(t*e+r*i):0]}function Ft(a){let{signal:n,crossOrigin:o=null}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(t,e){if(n&&n.aborted)return e(new H("loadImage"));let i=Et(),r;n&&(r=function(t){i.src="",e(t)},n.addEventListener("abort",r,{once:!0}));function s(){i.onload=i.onerror=null,r&&null!=n&&n.removeEventListener("abort",r),t(i)}a?(i.onload=s,i.onerror=function(){r&&null!=n&&n.removeEventListener("abort",r),e(new z("Error loading ".concat(i.src)))},o&&(i.crossOrigin=o),i.src=a):s()})}function Rt(r){let{signal:s,reviver:a=J}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise((t,e)=>{let i=[];s&&s.addEventListener("abort",e,{once:!0}),Promise.all(r.map(e=>d.getClass(e.type).fromObject(e,{signal:s}).then(t=>(a(e,t),i.push(t),t)))).then(t).catch(t=>{i.forEach(t=>{t.dispose&&t.dispose()}),e(t)}).finally(()=>{s&&s.removeEventListener("abort",e)})})}function Bt(a){let n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).signal;return new Promise((t,e)=>{let i=[],r=(n&&n.addEventListener("abort",e,{once:!0}),Object.values(a).map(t=>t&&t.type&&d.has(t.type)?Rt([t],{signal:n}).then(t=>{var[t]=t;return i.push(t),t}):t)),s=Object.keys(a);Promise.all(r).then(t=>t.reduce((t,e,i)=>(t[s[i]]=e,t),{})).then(t).catch(t=>{i.forEach(t=>{t.dispose&&t.dispose()}),e(t)}).finally(()=>{n&&n.removeEventListener("abort",e)})})}function Nt(i){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).reduce((t,e)=>(e in i&&(t[e]=i[e]),t),{})}function zt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"1";return parseFloat(t)/(t.endsWith("%")?100:1)}let Ht=function(t){return[t,0,0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,0,0]},Wt=t=>Math.tan(T(t)),Vt=t=>[1,0,Wt(t),1,0,0],Xt=t=>[1,Wt(t),0,1,0,0],Yt=t=>{let{scaleX:e=1,scaleY:i=1,flipX:r=!1,flipY:s=!1,skewX:a=0,skewY:n=0}=t,o=Ht(r?-e:e,s?-i:i);return a&&(o=M(o,Vt(a),!0)),o=n?M(o,Xt(n),!0):o},Gt=t=>{var{translateX:e=0,translateY:i=0,angle:r=0}=t;let s=kt(e,i);r&&(s=M(s,jt({angle:r})));e=Yt(t);return s=Dt(e)?s:M(s,e)},qt=(i,r)=>Object.keys(i).reduce((t,e)=>(r(i[e],e,i)&&(t[e]=i[e]),t),{}),Ut={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},$t=(t,e,i)=>(i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t),Kt=(e,i,r,t)=>{e/=255,i/=255,r/=255;var s=Math.max(e,i,r),a=Math.min(e,i,r);let n,o;var l=(s+a)/2;if(s===a)n=o=0;else{let t=s-a;switch(o=.5<l?t/(2-s-a):t/(s+a),s){case e:n=(i-r)/t+(i<r?6:0);break;case i:n=(r-e)/t+2;break;case r:n=(e-i)/t+4}n/=6}return[Math.round(360*n),Math.round(100*o),Math.round(100*l),t]},Jt=t=>Math.min(Math.round(t),255).toString(16).toUpperCase().padStart(2,"0"),Qt=t=>{var[t,e,i,r=1]=t,t=Math.round(.3*t+.59*e+.11*i);return[t,t,t,r]};class E{constructor(s){if(c(this,"isUnrecognised",!1),s)if(s instanceof E)this.setSource([...s._source]);else if(Array.isArray(s)){let[t,e,i,r=1]=s;this.setSource([t,e,i,r])}else this.setSource(this._tryParsingColor(s));else this.setSource([0,0,0,1])}_tryParsingColor(t){return"transparent"===(t=t in Ut?Ut[t]:t)?[255,255,255,0]:E.sourceFromHex(t)||E.sourceFromRgb(t)||E.sourceFromHsl(t)||(this.isUnrecognised=!0,[0,0,0,1])}getSource(){return this._source}setSource(t){this._source=t}toRgb(){var[t,e,i]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(i,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){var[t,e,i]=Kt(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(i,"%)")}toHsla(){var[t,e,i,r]=Kt(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(i,"%,").concat(r,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){var[t,e,i,r]=this.getSource();return"".concat(Jt(t)).concat(Jt(e)).concat(Jt(i)).concat(Jt(Math.round(255*r)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(Qt(this.getSource())),this}toBlackWhite(t){var[e,,,i]=Qt(this.getSource()),e=e<(t||127)?0:255;return this.setSource([e,e,e,i]),this}overlayWith(t){t instanceof E||(t=new E(t));let e=this.getSource(),i=t.getSource(),[r,s,a]=e.map((t,e)=>Math.round(.5*t+.5*i[e]));return this.setSource([r,s,a,e[3]]),this}static fromRgb(t){return E.fromRgba(t)}static fromRgba(t){return new E(E.sourceFromRgb(t))}static sourceFromRgb(t){var r=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(r){let[t,e,i]=r.slice(1,4).map(t=>{var e=parseFloat(t);return t.endsWith("%")?Math.round(2.55*e):e});return[t,e,i,zt(r[4])]}}static fromHsl(t){return E.fromHsla(t)}static fromHsla(t){return new E(E.sourceFromHsl(t))}static sourceFromHsl(t){let e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(e){var a=(E.parseAngletoDegrees(e[1])%360+360)%360/360,n=parseFloat(e[2])/100,o=parseFloat(e[3])/100;let i,r,s;if(0==n)i=r=s=o;else{let t=o<=.5?o*(1+n):o+n-o*n,e=2*o-t;i=$t(e,t,a+1/3),r=$t(e,t,a),s=$t(e,t,a-1/3)}return[Math.round(255*i),Math.round(255*r),Math.round(255*s),zt(e[4])]}}static fromHex(t){return new E(E.sourceFromHex(t))}static sourceFromHex(t){var e,i,r;if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i))return[t,e,i,r=255]=((t=t.slice(t.indexOf("#")+1)).length<=4?t.split("").map(t=>t+t):t.match(/.{2}/g)).map(t=>parseInt(t,16)),[t,e,i,r/255]}static parseAngletoDegrees(t){var t=t.toLowerCase(),e=parseFloat(t);return t.includes("rad")?Ot(e):t.includes("turn")?360*e:e}}function Zt(t,i){let r,s,e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(i)if(i.toLive)r="url(#SVGID_".concat(i.id,")");else{let t=new E(i),e=t.getAlpha();r=t.toRgb(),1!==e&&(s=e.toString())}else r="none";return e?"".concat(t,": ").concat(r,"; ").concat(s?"".concat(t,"-opacity: ").concat(s,"; "):""):"".concat(t,'="').concat(r,'" ').concat(s?"".concat(t,'-opacity="').concat(s,'" '):"")}let R=(t,e)=>parseFloat(Number(t).toFixed(e)),P=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:et,i=/\D{0,2}$/.exec(t),r=parseFloat(t),s=F.DPI;switch(null==i?void 0:i[0]){case"mm":return r*s/25.4;case"cm":return r*s/2.54;case"in":return r*s;case"pt":return r*s/72;case"pc":return r*s/72*12;case"em":return r*e;default:return r}},te=t=>{var[t,e]=t.trim().split(" "),[t,i]=(t=t)&&t!==y?[t.slice(1,4),t.slice(5,8)]:t===y?[t,t]:["Mid","Mid"];return{meetOrSlice:e||"meet",alignX:t,alignY:i}},ee=t=>"matrix("+t.map(t=>R(t,F.NUM_FRACTION_DIGITS)).join(" ")+")",O=t=>!!t&&void 0!==t.toLive,ie=t=>!!t&&"function"==typeof t.toObject,re=t=>!!t&&void 0!==t.offsetX&&"source"in t,se=t=>!!t&&"function"==typeof t._renderText,ae=t=>!!t&&"multiSelectionStacking"in t;function ne(e){var i=e&&le(e);let r=0,s=0;if(e&&i){let t=e;for(var a=i.documentElement,n=i.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===i?(r=n.scrollLeft||a.scrollLeft||0,s=n.scrollTop||a.scrollTop||0):(r+=t.scrollLeft||0,s+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););}return{left:r,top:s}}function oe(t,e,i){var{width:i,height:r}=i,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;t.width=i,t.height=r,1<s&&(t.setAttribute("width",(i*s).toString()),t.setAttribute("height",(r*s).toString()),e.scale(s,s))}let le=t=>t.ownerDocument||null,he=t=>(null==(t=t.ownerDocument)?void 0:t.defaultView)||null,ce=(t,e)=>{var{width:e,height:i}=e;e&&(t.style.width="number"==typeof e?"".concat(e,"px"):e),i&&(t.style.height="number"==typeof i?"".concat(i,"px"):i)};function de(t){void 0!==t.onselectstart&&(t.onselectstart=()=>!1),t.style.userSelect=y}class ue{constructor(t){c(this,"_originalCanvasStyle",void 0),c(this,"lower",void 0);t=this.createLowerCanvas(t);this.lower={el:t,ctx:t.getContext("2d")}}createLowerCanvas(t){t=t&&void 0!==t.getContext?t:t&&G().getElementById(t)||w();if(t.hasAttribute("data-fabric"))throw new z("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=t.style.cssText,t.setAttribute("data-fabric","main"),t.classList.add("lower-canvas"),t}cleanupDOM(t){var{width:t,height:e}=t,i=this.lower.el;i.classList.remove("lower-canvas"),i.removeAttribute("data-fabric"),i.setAttribute("width","".concat(t)),i.setAttribute("height","".concat(e)),i.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){var{el:i,ctx:r}=this.lower;oe(i,r,t,e)}setCSSDimensions(t){ce(this.lower.el,t)}calcOffset(){{var e=this.lower.el,i=e&&le(e),r={left:0,top:0};if(!i)return r;var s=(null==(s=he(e))?void 0:s.getComputedStyle(e,null))||{};r.left+=parseInt(s.borderLeftWidth,10)||0,r.top+=parseInt(s.borderTopWidth,10)||0,r.left+=parseInt(s.paddingLeft,10)||0,r.top+=parseInt(s.paddingTop,10)||0;let t={left:0,top:0};return s=i.documentElement,void 0!==e.getBoundingClientRect&&(t=e.getBoundingClientRect()),i=ne(e),{left:t.left+i.left-(s.clientLeft||0)+r.left,top:t.top+i.top-(s.clientTop||0)+r.top}}}dispose(){Y().dispose(this.lower.el),delete this.lower}}var pe={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...p]};class fe extends wt(St){get lowerCanvasEl(){var t;return null==(t=this.elements.lower)?void 0:t.el}get contextContainer(){var t;return null==(t=this.elements.lower)?void 0:t.ctx}static getDefaults(){return fe.ownDefaults}constructor(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new ue(t)}add(){var t=super.add(...arguments);return 0<arguments.length&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];t=super.insertAt(t,...i);return 0<i.length&&this.renderOnAddRemove&&this.requestRenderAll(),t}remove(){var t=super.remove(...arguments);return 0<t.length&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(N("warn","Canvas is trying to add an object that belongs to a different canvas.\nResulting to default behavior: removing object from previous canvas and adding to new canvas"),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?U():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(e){let{cssOnly:t=!1,backstoreOnly:i=!1}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!t){let t=j({width:this.width,height:this.height},e);this.elements.setDimensions(t,this.getRetinaScaling()),this.hasLostContext=!0,this.width=t.width,this.height=t.height}i||this.elements.setCSSDimensions(e),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){var i=t,r=[...this.viewportTransform],t=l(t,k(r)),e=(r[0]=e,r[3]=e,l(t,r));r[4]+=i.x-e.x,r[5]+=i.y-e.y,this.setViewportTransform(r)}setZoom(t){this.zoomToPoint(new b(0,0),t)}absolutePan(t){var e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new b(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=Ct(()=>this.renderAndReset()))}calcViewportBoundaries(){var t=this.width,e=this.height,i=k(this.viewportTransform),r=l({x:0,y:0},i),t=l({x:t,y:e},i),e=r.min(t),i=r.max(t);return this.vptCoords={tl:e,tr:new b(i.x,e.y),bl:new b(e.x,i.y),br:i}}cancelRequestedRender(){this.nextRenderHandle&&(Tt(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){var i,r;this.destroyed||(i=this.viewportTransform,r=this.clipPath,this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),r&&(r._set("canvas",this),r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,r)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0))}drawClipPathOnCanvas(t,e){var i=this.viewportTransform;t.save(),t.transform(...i),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(i,r){for(let t=0,e=r.length;t<e;++t)r[t]&&r[t].render(i)}_renderBackgroundOrOverlay(e,t){var i=this["".concat(t,"Color")],r=this["".concat(t,"Image")],s=this.viewportTransform,a=this["".concat(t,"Vpt")];if(i||r){t=O(i);if(i){if(e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=t?i.toLive(e):i,a&&e.transform(...s),t){e.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);let t=i.gradientTransform||i.patternTransform;t&&e.transform(...t)}e.fill(),e.restore()}if(r){e.save();let t=this.skipOffscreen;(this.skipOffscreen=a)&&e.transform(...s),r.render(e),this.skipOffscreen=t,e.restore()}}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new b(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new b(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new b(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new b(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new b(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return l(this.getCenterPoint(),k(this.viewportTransform))}_centerObject(t,e){t.setXY(e,v,v),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(e,i){var t=this.clipPath,t=t&&!t.excludeFromExport?this._toObject(t,e,i):null;return j(j(j({version:K},Nt(this,i)),{},{objects:this._objects.filter(t=>!t.excludeFromExport).map(t=>this._toObject(t,e,i))},this.__serializeBgOverlay(e,i)),t?{clipPath:t}:null)}_toObject(t,e,i){let r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);e=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=!!r),e}__serializeBgOverlay(t,e){var i={},r=this.backgroundImage,s=this.overlayImage,a=this.backgroundColor,n=this.overlayColor;return O(a)?a.excludeFromExport||(i.background=a.toObject(e)):a&&(i.background=a),O(n)?n.excludeFromExport||(i.overlay=n.toObject(e)):n&&(i.overlay=n),r&&!r.excludeFromExport&&(i.backgroundImage=this._toObject(r,t,e)),s&&!s.excludeFromExport&&(i.overlayImage=this._toObject(s,t,e)),i}toSVG(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,i=(t.reviver=e,[]);return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,')" >\n')),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push("</g>\n"),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')}_setSVGHeader(t,e){var i=e.width||"".concat(this.width),r=e.height||"".concat(this.height),s=F.NUM_FRACTION_DIGITS,a=e.viewBox;let n;if(a)n='viewBox="'.concat(a.x," ").concat(a.y," ").concat(a.width," ").concat(a.height,'" ');else if(this.svgViewportTransformation){let t=this.viewportTransform;n='viewBox="'.concat(R(-t[4]/t[0],s)," ").concat(R(-t[5]/t[3],s)," ").concat(R(this.width/t[0],s)," ").concat(R(this.height/t[3],s),'" ')}else n='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',r,'" ',n,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",K,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")}createSVGClipPathMarkup(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(Mt++),'<clipPath id="'.concat(e.clipPathId,'" >\n').concat(e.toClipPathSVG(t.reviver),"</clipPath>\n")):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{var e,i,r=this["".concat(t,"Color")];if(O(r))return t=this["".concat(t,"Vpt")],e=this.viewportTransform,i={isType:()=>!1,width:this.width/(t?e[0]:1),height:this.height/(t?e[3]:1)},r.toSVG(i,{additionalTransform:t?ee(e):""})}).join("")}createSVGFontFacesMarkup(){let i=[],r={},s=F.fontPaths;this._objects.forEach(function t(e){i.push(e),_t(e)&&e._objects.forEach(t)}),i.forEach(t=>{var e;se(t)&&({styles:t,fontFamily:e}=t,!r[e])&&s[e]&&(r[e]=!0,t)&&Object.values(t).forEach(t=>{Object.values(t).forEach(t=>{var{fontFamily:t=""}=t;!r[t]&&s[t]&&(r[t]=!0)})})});var t=Object.keys(r).map(t=>"\t\t@font-face {\n\t\t\tfont-family: '".concat(t,"';\n\t\t\tsrc: url('").concat(s[t],"');\n\t\t}\n")).join("");return t?'\t<style type="text/css"><![CDATA[\n'.concat(t,"]]></style>\n"):""}_setSVGObjects(e,i){this.forEachObject(t=>{t.excludeFromExport||this._setSVGObject(e,t,i)})}_setSVGObject(t,e,i){t.push(e.toSVG(i))}_setSVGBgOverlayImage(t,e,i){e=this[e];e&&!e.excludeFromExport&&e.toSVG&&t.push(e.toSVG(i))}_setSVGBgOverlayColor(t,e){var i,r,s,a=this["".concat(e,"Color")];a&&(O(a)?(i=a.repeat||"",r=this.width,s=this.height,e=this["".concat(e,"Vpt")]?ee(k(this.viewportTransform)):"",t.push('<rect transform="'.concat(e," translate(").concat(r/2,",").concat(s/2,')" x="').concat(a.offsetX-r/2,'" y="').concat(a.offsetY-s/2,'" width="').concat("repeat-y"!==i&&"no-repeat"!==i||!re(a)?r:a.source.width,'" height="').concat("repeat-x"!==i&&"no-repeat"!==i||!re(a)?s:a.source.height,'" fill="url(#SVGID_').concat(a.id,')"></rect>\n'))):t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',a,'"',"></rect>\n"))}loadFromJSON(t,e){var i=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).signal;if(!t)return Promise.reject(new z("`json` is undefined"));let r="string"==typeof t?JSON.parse(t):t,{objects:s=[],backgroundImage:a,background:n,overlayImage:o,overlay:l,clipPath:h}=r,c=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Rt(s,{reviver:e,signal:i}),Bt({backgroundImage:a,backgroundColor:n,overlayImage:o,overlayColor:l,clipPath:h},{signal:i})]).then(t=>{var[t,e]=t;return this.clear(),this.add(...t),this.set(r),this.set(e),this.renderOnAddRemove=c,this})}clone(t){t=this.toObject(t);return this.cloneWithoutData().loadFromJSON(t)}cloneWithoutData(){var t=S(this);return new this.constructor(t)}toDataURL(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{format:e="png",quality:i=1,multiplier:r=1,enableRetinaScaling:s=!1}=t,r=r*(s?this.getRetinaScaling():1);return Pt(this.toCanvasElement(r,t),e,i)}toCanvasElement(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,{width:e,height:i,left:r,top:s,filter:a}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};var n=(e||this.width)*t,o=(i||this.height)*t,l=this.getZoom(),h=this.width,c=this.height,d=this.skipControlsDrawing,l=l*t,u=this.viewportTransform,l=[l,0,0,l,(u[4]-(r||0))*t,(u[5]-(s||0))*t],p=this.enableRetinaScaling,f=S({width:n,height:o}),g=a?this._objects.filter(t=>a(t)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=l,this.width=n,this.height=o,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(f.getContext("2d"),g),this.viewportTransform=u,this.width=h,this.height=c,this.calcViewportBoundaries(),this.enableRetinaScaling=p,this.skipControlsDrawing=d,f}dispose(){return this.disposed||this.elements.cleanupDOM({width:this.width,height:this.height}),gt.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{var i=()=>{this.destroy(),t(!0)};i.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=i:i()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}c(fe,"ownDefaults",pe);function ge(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p;return t.transform(Me(e,i),!0)}let me=["touchstart","touchmove","touchend"],ve=t=>{var e=ne(t.target),i=(i=t.changedTouches)&&i[0]?i[0]:t;return new b(i.clientX+e.left,i.clientY+e.top)},ye=t=>me.includes(t.type)||"touch"===t.pointerType,be=t=>{t.preventDefault(),t.stopPropagation()},xe=i=>{let r=0,s=0,a=0,n=0;for(let t=0,e=i.length;t<e;t++){var{x:o,y:l}=i[t];(o>a||!t)&&(a=o),(o<r||!t)&&(r=o),(l>n||!t)&&(n=l),(l<s||!t)&&(s=l)}return{left:r,top:s,width:a-r,height:n-s}},_e=["translateX","translateY","scaleX","scaleY"],we=(t,e)=>Se(t,M(e,t.calcOwnMatrix())),Se=(t,e)=>{var e=It(e),{translateX:i,translateY:r,scaleX:s,scaleY:a}=e,e=u(e,_e),i=new b(i,r);t.flipX=!1,t.flipY=!1,Object.assign(t,e),t.set({scaleX:s,scaleY:a}),t.setPositionByOrigin(i,v,v)},Ce=t=>{t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},Te=t=>({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}),ke=(t,e,i)=>{t/=2,e/=2,t=[new b(-t,-e),new b(t,-e),new b(-t,e),new b(t,e)].map(t=>t.transform(i)),e=xe(t);return new b(e.width,e.height)},Me=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p;return M(k(1<arguments.length&&void 0!==arguments[1]?arguments[1]:p),t)},Ee=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p;return t.transform(Me(e,i))},Pe=(t,e,i)=>{e=Me(e,i);return Se(t,M(e,t.calcOwnMatrix())),e},Oe=(t,e)=>{var i,{target:r}=e.transform;null!=(i=r.canvas)&&i.fire("object:".concat(t),j(j({},e),{},{target:r})),r.fire(t,e)},De={left:-.5,top:-.5,center:0,bottom:.5,right:.5},D=t=>"string"==typeof t?De[t]:t-.5,Ae="not-allowed";function Le(t){return D(t.originX)===D(v)&&D(t.originY)===D(v)}function Ie(t){return.5-D(t)}let je=(t,e)=>t[e],Fe=(t,e,i,r)=>({e:t,transform:e,pointer:new b(i,r)});function Re(t,e){t=t.getTotalAngle()+Ot(Math.atan2(e.y,e.x))+360;return Math.round(t%360/45)}function Be(t,e,i,r,s){var{target:t,corner:a}=t,a=t.controls[a],n=(null==(n=t.canvas)?void 0:n.getZoom())||1,n=t.padding/n,e=(t=t,r=new b(r,s),s=e,e=i,i=t.getRelativeCenterPoint(),s=void 0!==s&&void 0!==e?t.translateToGivenOrigin(i,v,v,s,e):new b(t.left,t.top),(t.angle?r.rotate(-T(t.angle),i):r).subtract(s));return e.x>=n&&(e.x-=n),e.x<=-n&&(e.x+=n),n<=e.y&&(e.y-=n),e.y<=n&&(e.y+=n),e.x-=a.offsetX,e.y-=a.offsetY,e}let Ne=(t,e,i,r)=>{var{target:s,offsetX:a,offsetY:n}=e,a=i-a,n=r-n,o=!je(s,"lockMovementX")&&s.left!==a,l=!je(s,"lockMovementY")&&s.top!==n;return o&&s.set(x,a),l&&s.set(h,n),(o||l)&&Oe("moving",Fe(t,e,i,r)),o||l};class ze{getSvgStyles(t){var e=this.fillRule||"nonzero",i=this.strokeWidth||"0",r=this.strokeDashArray?this.strokeDashArray.join(" "):y,s=this.strokeDashOffset||"0",a=this.strokeLineCap||"butt",n=this.strokeLineJoin||"miter",o=this.strokeMiterLimit||"4",l=void 0!==this.opacity?this.opacity:"1",h=this.visible?"":" visibility: hidden;",t=t?"":this.getSvgFilter(),c=Zt(C,this.fill);return[Zt(m,this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",r,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",n,"; ","stroke-miterlimit: ",o,"; ",c,"fill-rule: ",e,"; ","opacity: ",l,";",t,h].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=t?this.calcTransformMatrix():this.calcOwnMatrix(),t='transform="'.concat(ee(t));return"".concat(t).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){var{reviver:e,additionalTransform:i=""}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),r=t.indexOf("COMMON_PARTS");return t[r]=i,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){var{noStyle:e,reviver:i,withShadow:r,additionalTransform:s}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e?"":'style="'.concat(this.getSvgStyles(),'" '),r=r?'style="'.concat(this.getSvgFilter(),'" '):"",n=this.clipPath,o=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",l=n&&n.absolutePositioned,h=this.stroke,c=this.fill,d=this.shadow,u=[],p=t.indexOf("COMMON_PARTS");let f;n&&(n.clipPathId="CLIPPATH_".concat(Mt++),f='<clipPath id="'.concat(n.clipPathId,'" >\n').concat(n.toClipPathSVG(i),"</clipPath>\n")),l&&u.push("<g ",r,this.getSvgCommons()," >\n"),u.push("<g ",this.getSvgTransform(!1),l?"":r+this.getSvgCommons()," >\n");r=[a,o,e?"":this.addPaintOrder()," ",s?'transform="'.concat(s,'" '):""].join("");return t[p]=r,O(c)&&u.push(c.toSVG(this)),O(h)&&u.push(h.toSVG(this)),d&&u.push(d.toSVG(this)),n&&u.push(f),u.push(t.join("")),u.push("</g>\n"),l&&u.push("</g>\n"),i?i(u.join("")):u.join("")}addPaintOrder(){return this.paintFirst!==C?' paint-order="'.concat(this.paintFirst,'" '):""}}function He(t){return new RegExp("^("+t.join("|")+")\\b","i")}function We(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return ni(new b(-t.y,t.x).scalarMultiply(e?1:-1))}let Ve=String.raw(i(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])),Xe="http://www.w3.org/2000/svg",Ye=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+Ve+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+Ve+"))?\\s+(.*)"),Ge={cx:x,x:x,r:"radius",cy:h,y:h,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},qe="font-size",Ue="clip-path",$e=He(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),Ke=He(["symbol","image","marker","pattern","view","svg"]),Je=He(["symbol","g","a","svg","clipPath","defs"]),Qe=new RegExp("^\\s*("+Ve+"+)\\s*,?\\s*("+Ve+"+)\\s*,?\\s*("+Ve+"+)\\s*,?\\s*("+Ve+"+)\\s*$"),Ze=new b(1,0),ti=new b,ei=(t,e)=>t.rotate(e),ii=(t,e)=>new b(e).subtract(t),ri=t=>t.distanceFrom(ti),si=(t,e)=>Math.atan2(oi(t,e),li(t,e)),ai=t=>si(Ze,t),ni=t=>t.eq(ti)?t:t.scalarDivide(ri(t)),oi=(t,e)=>t.x*e.y-t.y*e.x,li=(t,e)=>t.x*e.x+t.y*e.y,hi=(t,e,i)=>{var r;return!(!t.eq(e)&&!t.eq(i))||(r=oi(e,i),e=oi(e,t),i=oi(i,t),0<=r?0<=e&&i<=0:!(e<=0&&0<=i))},ci="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",di=new RegExp("(?:\\s|^)"+ci+ci+"("+Ve+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class ui{constructor(t){t="string"==typeof t?ui.parseShadow(t):t;Object.assign(this,ui.ownDefaults,t),this.id=Mt++}static parseShadow(t){var t=t.trim(),[,e=0,i=0,r=0]=(di.exec(t)||[]).map(t=>parseFloat(t)||0);return{color:(t.replace(di,"")||"rgb(0,0,0)").trim(),offsetX:e,offsetY:i,blur:r}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){var e=ei(new b(this.offsetX,this.offsetY),T(-t.angle)),i=new E(this.color);let r=40,s=40;return t.width&&t.height&&(r=100*R((Math.abs(e.x)+this.blur)/t.width,F.NUM_FRACTION_DIGITS)+20,s=100*R((Math.abs(e.y)+this.blur)/t.height,F.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(s,'%" height="').concat(100+2*s,'%" x="-').concat(r,'%" width="').concat(100+2*r,'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="').concat(R(this.blur?this.blur/2:0,F.NUM_FRACTION_DIGITS),'"></feGaussianBlur>\n\t<feOffset dx="').concat(R(e.x,F.NUM_FRACTION_DIGITS),'" dy="').concat(R(e.y,F.NUM_FRACTION_DIGITS),'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="').concat(i.toRgb(),'" flood-opacity="').concat(i.getAlpha(),'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n')}toObject(){let t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},i=ui.ownDefaults;return this.includeDefaultValues?t:qt(t,(t,e)=>t!==i[e])}static async fromObject(t){return new this(t)}}c(ui,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),c(ui,"type","shadow"),d.setClass(ui,"shadow");let pi=(t,e,i)=>Math.max(t,Math.min(e,i)),fi=[h,x,f,g,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",ut,pt],gi=[C,m,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],mi={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:x,originY:h,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:C,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},vi=(t,e,i,r)=>(r=t<Math.abs(e)?(t=e,i/4):0===e&&0===t?i/Z*Math.asin(1):i/Z*Math.asin(e/t),{a:t,c:e,p:i,s:r}),yi=(t,e,i,r,s)=>t*Math.pow(2,10*--r)*Math.sin((r*s-e)*Z/i),bi=(t,e,i,r)=>-i*Math.cos(t/r*Q)+i+e,xi=(t,e,i,r)=>(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e,_i=(t,e,i,r)=>i-xi(r-t,0,i,r)+e,wi=Object.freeze({__proto__:null,defaultEasing:bi,easeInBack:function(t,e,i,r){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1.70158;return i*(t/=r)*t*((s+1)*t-s)+e},easeInBounce:_i,easeInCirc:(t,e,i,r)=>-i*(Math.sqrt(1-(t/=r)*t)-1)+e,easeInCubic:(t,e,i,r)=>i*(t/r)**3+e,easeInElastic:(t,e,i,r)=>{var s=i;let a=0;if(0===t)return e;if(1==(t/=r))return e+i;a=a||.3*r;var{a:s,s:i,p:n}=vi(s,i,a,1.70158);return-yi(s,i,n,t,r)+e},easeInExpo:(t,e,i,r)=>0===t?e:i*2**(10*(t/r-1))+e,easeInOutBack:function(t,e,i,r){let s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1.70158;return(t/=r/2)<1?i/2*(t*t*((1+(s*=1.525))*t-s))+e:i/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+e},easeInOutBounce:(t,e,i,r)=>t<r/2?.5*_i(2*t,0,i,r)+e:.5*xi(2*t-r,0,i,r)+.5*i+e,easeInOutCirc:(t,e,i,r)=>(t/=r/2)<1?-i/2*(Math.sqrt(1-t**2)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e,easeInOutCubic:(t,e,i,r)=>(t/=r/2)<1?i/2*t**3+e:i/2*((t-2)**3+2)+e,easeInOutElastic:(t,e,i,r)=>{var s=i;let a=0;if(0===t)return e;if(2==(t/=r/2))return e+i;a=a||r*(.3*1.5);var{a:s,s:i,p:n,c:o}=vi(s,i,a,1.70158);return t<1?-.5*yi(s,i,n,t,r)+e:s*Math.pow(2,-10*--t)*Math.sin((t*r-i)*Z/n)*.5+o+e},easeInOutExpo:(t,e,i,r)=>0===t?e:t===r?e+i:(t/=r/2)<1?i/2*2**(10*(t-1))+e:i/2*-(2**(-10*--t)+2)+e,easeInOutQuad:(t,e,i,r)=>(t/=r/2)<1?i/2*t**2+e:-i/2*(--t*(t-2)-1)+e,easeInOutQuart:(t,e,i,r)=>(t/=r/2)<1?i/2*t**4+e:-i/2*((t-=2)*t**3-2)+e,easeInOutQuint:(t,e,i,r)=>(t/=r/2)<1?i/2*t**5+e:i/2*((t-2)**5+2)+e,easeInOutSine:(t,e,i,r)=>-i/2*(Math.cos(Math.PI*t/r)-1)+e,easeInQuad:(t,e,i,r)=>i*(t/=r)*t+e,easeInQuart:(t,e,i,r)=>i*(t/=r)*t**3+e,easeInQuint:(t,e,i,r)=>i*(t/r)**5+e,easeInSine:(t,e,i,r)=>-i*Math.cos(t/r*Q)+i+e,easeOutBack:function(t,e,i,r){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1.70158;return i*((t=t/r-1)*t*((s+1)*t+s)+1)+e},easeOutBounce:xi,easeOutCirc:(t,e,i,r)=>i*Math.sqrt(1-(t=t/r-1)*t)+e,easeOutCubic:(t,e,i,r)=>i*((t/r-1)**3+1)+e,easeOutElastic:(t,e,i,r)=>{var s=i;let a=0;if(0===t)return e;if(1==(t/=r))return e+i;a=a||.3*r;var{a:s,s:i,p:n,c:o}=vi(s,i,a,1.70158);return s*2**(-10*t)*Math.sin((t*r-i)*Z/n)+o+e},easeOutExpo:(t,e,i,r)=>t===r?e+i:i*-(2**(-10*t/r)+1)+e,easeOutQuad:(t,e,i,r)=>-i*(t/=r)*(t-2)+e,easeOutQuart:(t,e,i,r)=>-i*((t=t/r-1)*t**3-1)+e,easeOutQuint:(t,e,i,r)=>i*((t/r-1)**5+1)+e,easeOutSine:(t,e,i,r)=>i*Math.sin(t/r*Q)+e});class Si{constructor(t){var{startValue:t,byValue:e,duration:i=500,delay:r=0,easing:s=bi,onStart:a=J,onChange:n=J,onComplete:o=J,abort:l=()=>!1,target:h}=t;c(this,"_state","pending"),c(this,"durationProgress",0),c(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=i,this.delay=r,this.easing=s,this._onStart=a,this._onChange=n,this._onComplete=o,this._abort=l,this.target=h,this.startValue=t,this.byValue=e,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return"aborted"===this._state||"completed"===this._state}start(){let t=t=>{"pending"===this._state&&(this.startTime=t||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),0<this.delay?setTimeout(()=>Ct(t),this.delay):Ct(t)}tick(t){var t=(t||+new Date)-this.startTime,e=Math.min(t,this.duration),{value:e,valueProgress:i}=(this.durationProgress=e/this.duration,this.calculate(e));this.value=Object.freeze(e),this.valueProgress=i,"aborted"!==this._state&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):t>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),Ct(this.tick)))}register(){gt.push(this)}unregister(){gt.remove(this)}abort(){this._state="aborted",this.unregister()}}let Ci=["startValue","endValue"];class Ti extends Si{constructor(t){var{startValue:e=0,endValue:i=100}=t;super(j(j({},u(t,Ci)),{},{startValue:e,byValue:i-e}))}calculate(t){t=this.easing(t,this.startValue,this.byValue,this.duration);return{value:t,valueProgress:Math.abs((t-this.startValue)/this.byValue)}}}let ki=["startValue","endValue"];class Mi extends Si{constructor(t){let{startValue:i=[0],endValue:e=[100]}=t;super(j(j({},u(t,ki)),{},{startValue:i,byValue:e.map((t,e)=>t-i[e])}))}calculate(i){var t=this.startValue.map((t,e)=>this.easing(i,t,this.byValue[e],this.duration,e));return{value:t,valueProgress:Math.abs((t[0]-this.startValue[0])/this.byValue[0])}}}let Ei=["startValue","endValue","easing","onChange","onComplete","abort"],Pi=r=>r&&((t,e,i)=>r(new E(t).toRgba(),e,i));class Oi extends Si{constructor(t){var{startValue:e,endValue:i,easing:r=(t,e,i,r)=>e+i*(1-Math.cos(t/r*Q)),onChange:s,onComplete:a,abort:n}=t,t=u(t,Ei);let o=new E(e).getSource(),l=new E(i).getSource();super(j(j({},t),{},{startValue:o,byValue:l.map((t,e)=>t-o[e]),easing:r,onChange:Pi(s),onComplete:Pi(a),abort:Pi(n)}))}calculate(i){var[t,e,r,s]=this.startValue.map((t,e)=>this.easing(i,t,this.byValue[e],this.duration,e)),t=[...[t,e,r].map(Math.round),pi(0,s,1)];return{value:t,valueProgress:t.map((t,e)=>0!==this.byValue[e]?Math.abs((t-this.startValue[e])/this.byValue[e]):0).find(t=>0!==t)||0}}}function Di(t){e=t;var e=new(Array.isArray(e.startValue)||Array.isArray(e.endValue)?Mi:Ti)(t);return e.start(),e}function Ai(t){t=new Oi(t);return t.start(),t}class A{constructor(t){this.status=t,this.points=[]}includes(e){return this.points.some(t=>t.eq(e))}append(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.points=this.points.concat(e.filter(t=>!this.includes(t))),this}static isPointContained(t,e,i){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return e.eq(i)?t.eq(e):e.x===i.x?t.x===e.x&&(r||t.y>=Math.min(e.y,i.y)&&t.y<=Math.max(e.y,i.y)):e.y===i.y?t.y===e.y&&(r||t.x>=Math.min(e.x,i.x)&&t.x<=Math.max(e.x,i.x)):(i=ii(e,i),e=ii(e,t).divide(i),r?Math.abs(e.x)===Math.abs(e.y):e.x===e.y&&0<=e.x&&e.x<=1)}static isPointInPolygon(e,i){var r=new b(e).setX(Math.min(e.x-1,...i.map(t=>t.x)));let s=0;for(let t=0;t<i.length;t++){var a=this.intersectSegmentSegment(i[t],i[(t+1)%i.length],e,r);if(a.includes(e))return!0;s+=Number("Intersection"===a.status)}return s%2==1}static intersectLineLine(i,e,r,s){var a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],n=!(5<arguments.length&&void 0!==arguments[5])||arguments[5];let o=e.x-i.x,l=e.y-i.y,t=s.x-r.x,h=s.y-r.y,c=i.x-r.x,d=i.y-r.y,u=t*d-h*c,p=o*d-l*c,f=h*o-t*l;if(0!=f){let t=u/f,e=p/f;return(a||0<=t&&t<=1)&&(n||0<=e&&e<=1)?new A("Intersection").append(new b(i.x+t*o,i.y+t*l)):new A}if(0!=u&&0!=p)return new A("Parallel");{let t=a||n||A.isPointContained(i,r,s)||A.isPointContained(e,r,s)||A.isPointContained(r,i,e)||A.isPointContained(s,i,e);return new A(t?"Coincident":void 0)}}static intersectSegmentLine(t,e,i,r){return A.intersectLineLine(t,e,i,r,!1,!0)}static intersectSegmentSegment(t,e,i,r){return A.intersectLineLine(t,e,i,r,!1,!1)}static intersectLinePolygon(s,a,n){var o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],l=new A,h=n.length;for(let t,e,i,r=0;r<h;r++){if(t=n[r],e=n[(r+1)%h],"Coincident"===(i=A.intersectLineLine(s,a,t,e,o,!1)).status)return i;l.append(...i.points)}return 0<l.points.length&&(l.status="Intersection"),l}static intersectSegmentPolygon(t,e,i){return A.intersectLinePolygon(t,e,i,!1)}static intersectPolygonPolygon(e,i){var r=new A,s=e.length,a=[];for(let t=0;t<s;t++){var n=e[t],o=e[(t+1)%s],l=A.intersectSegmentPolygon(n,o,i);"Coincident"===l.status?(a.push(l),r.append(n,o)):r.append(...l.points)}return 0<a.length&&a.length===e.length?new A("Coincident"):(0<r.points.length&&(r.status="Intersection"),r)}static intersectPolygonRectangle(t,e,i){var r=e.min(i),e=e.max(i),i=new b(e.x,r.y),s=new b(r.x,e.y);return A.intersectPolygonPolygon(t,[r,i,e,s])}}class Li extends St{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){var t=this.getRelativeXY();return this.group?l(t,this.group.calcTransformMatrix()):t}setXY(t,e,i){this.group&&(t=l(t,k(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,i)}getRelativeXY(){return new b(this.left,this.top)}setRelativeXY(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.originX,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.originY;this.setPositionByOrigin(t,e,i)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:t,tr:e,br:i,bl:r}=this.aCoords||(this.aCoords=this.calcACoords()),s=[t,e,i,r];if(this.group){let e=this.group.calcTransformMatrix();return s.map(t=>l(t,e))}return s}intersectsWithRect(t,e){return"Intersection"===A.intersectPolygonRectangle(this.getCoords(),t,e).status}intersectsWithObject(t){var e=A.intersectPolygonPolygon(this.getCoords(),t.getCoords());return"Intersection"===e.status||"Coincident"===e.status||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(e){return this.getCoords().every(t=>e.containsPoint(t))}isContainedWithinRect(t,e){var{left:i,top:r,width:s,height:a}=this.getBoundingRect();return i>=t.x&&i+s<=e.x&&r>=t.y&&r+a<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return A.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:e,br:i}=this.canvas.vptCoords;return!!this.getCoords().some(t=>t.x<=i.x&&t.x>=e.x&&t.y<=i.y&&t.y>=e.y)||!!this.intersectsWithRect(e,i)||this.containsPoint(e.midPointFrom(i))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:e,br:i}=this.canvas.vptCoords;return!!this.intersectsWithRect(e,i)||this.getCoords().every(t=>(t.x>=i.x||t.x<=e.x)&&(t.y>=i.y||t.y<=e.y))&&this.containsPoint(e.midPointFrom(i))}getBoundingRect(){return xe(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(f,t),this._set(g,t),this.setCoords()}scaleToWidth(t){var e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){var e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return(null==(t=this.canvas)?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?Ot(Lt(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return(null==(t=this.canvas)?void 0:t.viewportTransform)||p.concat()}calcACoords(){var t=jt({angle:this.angle}),{x:e,y:i}=this.getRelativeCenterPoint(),e=kt(e,i),i=M(e,t),e=this._getTransformedDimensions(),t=e.x/2,e=e.y/2;return{tl:l({x:-t,y:-e},i),tr:l({x:t,y:-e},i),bl:l({x:-t,y:e},i),br:l({x:t,y:e},i)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=[];return(e=!t&&this.group?this.group.transformMatrixKey(t):e).push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,D(this.originX),D(this.originY)),e}calcTransformMatrix(){let t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;let i=this.transformMatrixKey(t),r=this.matrixCache;return r&&r.key.every((t,e)=>t===i[e])?r.value:(this.group&&(e=M(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:i,value:e},e)}calcOwnMatrix(){var t=this.transformMatrixKey(!0),e=this.ownMatrixCache;return e&&e.key===t?e.value:(e=this.getRelativeCenterPoint(),e={angle:this.angle,translateX:e.x,translateY:e.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},e=Gt(e),this.ownMatrixCache={key:t,value:e},e)}_getNonTransformedDimensions(){return new b(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){var t=j({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),e=t.strokeWidth;let i=e,r=0;this.strokeUniform&&(i=0,r=e);var e=t.width+i,s=t.height+i;return(0===t.skewX&&0===t.skewY?new b(e*t.scaleX,s*t.scaleY):ke(e,s,Yt(t))).scalarAdd(r)}translateToGivenOrigin(t,e,i,r,s){let a=t.x,n=t.y;r=D(r)-D(e),e=D(s)-D(i);if(r||e){let t=this._getTransformedDimensions();a+=r*t.x,n+=e*t.y}return new b(a,n)}translateToCenterPoint(t,e,i){return e===v&&i===v?t:(e=this.translateToGivenOrigin(t,e,i,v,v),this.angle?e.rotate(T(this.angle),t):e)}translateToOriginPoint(t,e,i){e=this.translateToGivenOrigin(t,v,v,e,i);return this.angle?e.rotate(T(this.angle),t):e}getCenterPoint(){var t=this.getRelativeCenterPoint();return this.group?l(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new b(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,i){t=this.translateToCenterPoint(t,e,i),e=this.translateToOriginPoint(t,this.originX,this.originY);this.set({left:e.x,top:e.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),x,h)}}let Ii=["type"],ji=["extraParam"];pe=class I extends Li{static getDefaults(){return I.ownDefaults}get type(){var t=this.constructor.type;return"FabricObject"===t?"object":t.toLowerCase()}set type(t){N("warn","Setting type has no effect",t)}constructor(t){super(),c(this,"_cacheContext",null),Object.assign(this,I.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=w(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){var e,i,r=t.width,s=t.height,a=F.maxCacheSideLimit,n=F.minCacheSideLimit;return r<=a&&s<=a&&r*s<=F.perfLimitSizeTotal?(r<n&&(t.width=n),s<n&&(t.height=n)):(i=r/s,[i,e]=$.limitDimsByArea(i),i=pi(n,i,a),n=pi(n,e,a),i<r&&(t.zoomX/=r/i,t.width=i,t.capped=!0),n<s&&(t.zoomY/=s/n,t.height=n,t.capped=!0)),t}_getCacheCanvasDimensions(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),i=e.x*t.x/this.scaleX,e=e.y*t.y/this.scaleY;return{width:2+i,height:2+e,zoomX:t.x,zoomY:t.y,x:i,y:e}}_updateCacheCanvas(){let t=this._cacheCanvas,e=this._cacheContext,r=this._limitCacheSize(this._getCacheCanvasDimensions()),s=F.minCacheSideLimit,a=r.width,n=r.height,i=r.zoomX,o=r.zoomY,l=a!==t.width||n!==t.height,h=this.zoomX!==i||this.zoomY!==o;if(!t||!e)return!1;let c,d,u=l||h,p=0,f=0,g=!1;if(l){let t=this._cacheCanvas.width,e=this._cacheCanvas.height,i=a>t||n>e;g=i||(a<.9*t||n<.9*e)&&t>s&&e>s,i&&!r.capped&&(s<a||s<n)&&(p=.1*a,f=.1*n)}return se(this)&&this.path&&(u=!0,g=!0,p+=this.getHeightOfLine(0)*this.zoomX,f+=this.getHeightOfLine(0)*this.zoomY),!!u&&(g?(t.width=Math.ceil(a+p),t.height=Math.ceil(n+f)):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height)),c=r.x/2,d=r.y/2,this.cacheTranslationX=Math.round(t.width/2-c)+c,this.cacheTranslationY=Math.round(t.height/2-d)+d,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(i,o),this.zoomX=i,this.zoomY=o,!0)}setOptions(){this._setOptions(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}transform(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,e=this.calcTransformMatrix(!e);t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}getObjectScaling(){var t;return this.group?(t=It(this.calcTransformMatrix()),new b(Math.abs(t.scaleX),Math.abs(t.scaleY))):new b(Math.abs(this.scaleX),Math.abs(this.scaleY))}getTotalObjectScaling(){var t,e,i=this.getObjectScaling();return this.canvas?(t=this.canvas.getZoom(),e=this.getCanvasRetinaScaling(),i.scalarMultiply(t*e)):i}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t}_set(t,e){t!==f&&t!==g||(e=this._constrainScale(e)),t===f&&e<0?(this.flipX=!this.flipX,e*=-1):"scaleY"===t&&e<0?(this.flipY=!this.flipY,e*=-1):"shadow"!==t||!e||e instanceof ui||(e=new ui(e));var i=this[t]!==e;return this[t]=e,i&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||i&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){var e,i,r,s,a,n;t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext&&({zoomX:e,zoomY:i,cacheTranslationX:r,cacheTranslationY:s}=this,{width:a,height:n}=this._cacheCanvas,this.drawObject(this._cacheContext,t.forClipping,{zoomX:e,zoomY:i,cacheTranslationX:r,cacheTranslationY:s,width:a,height:n,parentClipPaths:[]}),this.dirty=!1)}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth}hasFill(){return this.fill&&"transparent"!==this.fill}needsItsOwnCache(){return!!(this.paintFirst===m&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.parent||!this.parent.isOnACache()),this.ownCaching}willDrawShadow(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)}drawClipPathOnCache(t,e,i){t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",t.setTransform(1,0,0,1,0,0),t.drawImage(i,0,0),t.restore()}drawObject(t,e,i){var r=this.fill,s=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,i),this.fill=r,this.stroke=s}createClipPathLayer(t,e){let i=S(e),r=i.getContext("2d");if(r.translate(e.cacheTranslationX,e.cacheTranslationY),r.scale(e.zoomX,e.zoomY),t._cacheCanvas=i,e.parentClipPaths.forEach(t=>{t.transform(r)}),e.parentClipPaths.push(t),t.absolutePositioned){let t=k(this.calcTransformMatrix());r.transform(t[0],t[1],t[2],t[3],t[4],t[5])}return t.transform(r),t.drawObject(r,!0,e),i}_drawClipPath(t,e,i){e&&(e._transformDone=!0,i=this.createClipPathLayer(e,i),this.drawClipPathOnCache(t,e,i))}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){var t,e,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return!this.isNotVisible()&&(t=this._cacheCanvas,e=this._cacheContext,!(!t||!e||i||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(t&&e&&!i&&(e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),e.restore()),!0))}_renderBackground(t){var e;this.backgroundColor&&(e=this._getNonTransformedDimensions(),t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t))}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){var i=e.stroke;i&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,O(i)?"percentage"===i.gradientUnits||i.gradientTransform||i.patternTransform?this._applyPatternForTransformedGradient(t,i):(t.strokeStyle=i.toLive(t),this._applyPatternGradientTransform(t,i)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){e=e.fill;e&&(O(e)?(t.fillStyle=e.toLive(t),this._applyPatternGradientTransform(t,e)):t.fillStyle=e)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&0!==e.length&&(1&e.length&&e.push(...e),t.setLineDash(e))}_setShadow(t){var e,i,r,s;this.shadow&&(e=this.shadow,i=this.canvas,s=this.getCanvasRetinaScaling(),[i,,,r]=(null==i?void 0:i.viewportTransform)||p,i=i*s,r=r*s,s=e.nonScaling?new b(1,1):this.getObjectScaling(),t.shadowColor=e.color,t.shadowBlur=e.blur*F.browserShadowBlurConstant*(i+r)*(s.x+s.y)/4,t.shadowOffsetX=e.offsetX*i*s.x,t.shadowOffsetY=e.offsetY*r*s.y)}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){var i,r,s;return O(e)?(i=e.gradientTransform||e.patternTransform,r=-this.width/2+e.offsetX||0,s=-this.height/2+e.offsetY||0,"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,r,s):t.transform(1,0,0,1,r,s),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:r,offsetY:s}):{offsetX:0,offsetY:0}}_renderPaintInOrder(t){this.paintFirst===m?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){var e;this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&(e=this.getObjectScaling(),t.scale(1/e.x,1/e.y)),this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore())}_applyPatternForTransformedGradient(t,e){var i=this._limitCacheSize(this._getCacheCanvasDimensions()),r=this.getCanvasRetinaScaling(),s=i.x/this.scaleX/r,a=i.y/this.scaleY/r,n=S({width:Math.ceil(s),height:Math.ceil(a)}),o=n.getContext("2d");o&&(o.beginPath(),o.moveTo(0,0),o.lineTo(s,0),o.lineTo(s,a),o.lineTo(0,a),o.closePath(),o.translate(s/2,a/2),o.scale(i.zoomX/this.scaleX/r,i.zoomY/this.scaleY/r),this._applyPatternGradientTransform(o,e),o.fillStyle=e.toLive(t),o.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(r*this.scaleX/i.zoomX,r*this.scaleY/i.zoomY),t.strokeStyle=null!=(s=o.createPattern(n,"no-repeat"))?s:"")}_findCenterFromElement(){return new b(this.left+this.width/2,this.top+this.height/2)}clone(t){t=this.toObject(t);return this.constructor.fromObject(t)}cloneAsImage(t){t=this.toCanvasElement(t);return new(d.getClass("image"))(t)}toCanvasElement(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Te(this),i=this.group,r=this.shadow,s=Math.abs,a=t.enableRetinaScaling?U():1,n=(t.multiplier||1)*a,o=t.canvasProvider||(t=>new fe(t,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&Ce(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&Pe(this,this.getViewportTransform()),this.setCoords();var l=w(),h=this.getBoundingRect(),c=this.shadow,d=new b;if(c){let t=c.blur,e=c.nonScaling?new b(1,1):this.getObjectScaling();d.x=2*Math.round(s(c.offsetX)+t)*s(e.x),d.y=2*Math.round(s(c.offsetY)+t)*s(e.y)}c=h.width+d.x,h=h.height+d.y,l.width=Math.ceil(c),l.height=Math.ceil(h),d=o(l),"jpeg"===t.format&&(d.backgroundColor="#fff"),this.setPositionByOrigin(new b(d.width/2,d.height/2),v,v),c=this.canvas,d._objects=[this],this.set("canvas",d),this.setCoords(),h=d.toCanvasElement(n||1,t);return this.set("canvas",c),this.shadow=r,i&&(this.group=i),this.set(e),this.setCoords(),d._objects=[],d.destroy(),h}toDataURL(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Pt(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){let{centeredRotation:e,originX:i,originY:r}=this;if(e){let{x:t,y:e}=this.getRelativeCenterPoint();this.originX=v,this.originY=v,this.left=t,this.top=e}if(this.set("angle",t),e){let{x:t,y:e}=this.translateToOriginPoint(this.getRelativeCenterPoint(),i,r);this.left=t,this.top=e,this.originX=i,this.originY=r}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){gt.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Y().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,r){return Object.entries(t).reduce((t,e)=>{var[e,i]=e;return t[e]=this._animate(e,i,r),t},{})}_animate(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let s=t.split("."),r=this.constructor.colorProperties.includes(s[s.length-1]),{abort:a,startValue:n,onChange:o,onComplete:l}=i,h=j(j({},i),{},{target:this,startValue:null!=n?n:s.reduce((t,e)=>t[e],this),endValue:e,abort:null==a?void 0:a.bind(this),onChange:(r,t,e)=>{s.reduce((t,e,i)=>(i===s.length-1&&(t[e]=r),t[e]),this),o&&o(r,t,e)},onComplete:(t,e,i)=>{this.setCoords(),l&&l(t,e,i)}});return(r?Ai:Di)(h)}isDescendantOf(t){var{parent:e,group:i}=this;return e===t||i===t||!!e&&e.isDescendantOf(t)||!!i&&i!==e&&i.isDescendantOf(t)}getAncestors(){var t=[];let e=this;for(;(e=e.parent)&&t.push(e),e;);return t}findCommonAncestors(r){if(this===r)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};var s=this.getAncestors(),a=r.getAncestors();if(0===s.length&&0<a.length&&this===a[a.length-1])return{fork:[],otherFork:[r,...a.slice(0,a.length-1)],common:[this]};for(let e,i=0;i<s.length;i++){if((e=s[i])===r)return{fork:[this,...s.slice(0,i)],otherFork:[],common:s.slice(i)};for(let t=0;t<a.length;t++){if(this===a[t])return{fork:[],otherFork:[r,...a.slice(0,t)],common:[this,...s]};if(e===a[t])return{fork:[this,...s.slice(0,i)],otherFork:[r,...a.slice(0,t)],common:s.slice(i)}}}return{fork:[this,...s],otherFork:[r,...a],common:[]}}hasCommonAncestors(t){t=this.findCommonAncestors(t);return t&&!!t.common.length}isInFrontOf(t){var e,i;if(this!==t)return!!(e=this.findCommonAncestors(t)).fork.includes(t)||!e.otherFork.includes(this)&&((t=e.common[0]||this.canvas)?(i=e.fork.pop(),e=e.otherFork.pop(),i=t._objects.indexOf(i),t=t._objects.indexOf(e),-1<i&&t<i):void 0)}toObject(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).concat(I.customProperties,this.constructor.customProperties||[]);let e,i=F.NUM_FRACTION_DIGITS,{clipPath:r,fill:s,stroke:a,shadow:n,strokeDashArray:o,left:l,top:h,originX:c,originY:d,width:u,height:p,strokeWidth:f,strokeLineCap:g,strokeDashOffset:m,strokeLineJoin:v,strokeUniform:y,strokeMiterLimit:b,scaleX:x,scaleY:_,angle:w,flipX:S,flipY:C,opacity:T,visible:k,backgroundColor:M,fillRule:E,paintFirst:P,globalCompositeOperation:O,skewX:D,skewY:A}=this;r&&!r.excludeFromExport&&(e=r.toObject(t.concat("inverted","absolutePositioned")));var L=t=>R(t,i),t=j(j({},Nt(this,t)),{},{type:this.constructor.type,version:K,originX:c,originY:d,left:L(l),top:L(h),width:L(u),height:L(p),fill:ie(s)?s.toObject():s,stroke:ie(a)?a.toObject():a,strokeWidth:L(f),strokeDashArray:o&&o.concat(),strokeLineCap:g,strokeDashOffset:m,strokeLineJoin:v,strokeUniform:y,strokeMiterLimit:L(b),scaleX:L(x),scaleY:L(_),angle:L(w),flipX:S,flipY:C,opacity:L(T),shadow:n&&n.toObject(),visible:k,backgroundColor:M,fillRule:E,paintFirst:P,globalCompositeOperation:O,skewX:L(D),skewY:L(A)},e?{clipPath:e}:null);return this.includeDefaultValues?t:this._removeDefaultValues(t)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){let e=this.constructor.getDefaults(),i=0<Object.keys(e).length?e:Object.getPrototypeOf(this);return qt(t,(t,e)=>e===x||e===h||"type"===e||t!==(e=i[e])&&!(Array.isArray(t)&&Array.isArray(e)&&0===t.length&&0===e.length))}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=u(t,Ii),i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=i.extraParam,s=u(i,ji);return Bt(e,s).then(t=>r?(delete t[r],new this(e[r],t)):new this(t))}static fromObject(t,e){return this._fromObject(t,e)}};c(pe,"stateProperties",fi),c(pe,"cacheProperties",gi),c(pe,"ownDefaults",mi),c(pe,"type","FabricObject"),c(pe,"colorProperties",[C,m,"backgroundColor"]),c(pe,"customProperties",[]),d.setClass(pe),d.setClass(pe,"object");let Fi=(a,n,o)=>(t,e,i,r)=>{var s=n(t,e,i,r);return s&&Oe(a,j(j({},Fe(t,e,i,r)),o)),s};function Ri(l){return(t,e,i,r)=>{var{target:s,originX:a,originY:n}=e,o=s.getRelativeCenterPoint(),o=s.translateToOriginPoint(o,a,n),a=l(t,e,i,r);return s.setPositionByOrigin(o,e.originX,e.originY),a}}let Bi=Fi(lt,Ri((t,a,e,i)=>{var n=Be(a,a.originX,a.originY,e,i);if(D(a.originX)===D(v)||D(a.originX)===D(_)&&n.x<0||D(a.originX)===D(x)&&0<n.x){let t=a.target,e=t.strokeWidth/(t.strokeUniform?t.scaleX:1),i=Le(a)?2:1,r=t.width,s=Math.abs(n.x*i/t.scaleX)-e;return t.set("width",Math.max(s,1)),r!==t.width}return!1}));function Ni(t,e,i,r,s){r=r||{};var a=this.sizeX||r.cornerSize||s.cornerSize,n=this.sizeY||r.cornerSize||s.cornerSize,o=(void 0!==r.transparentCorners?r:s).transparentCorners,l=o?m:C,o=!o&&(r.cornerStrokeColor||s.cornerStrokeColor);let h,c=e,d=i;t.save(),t.fillStyle=r.cornerColor||s.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||s.cornerStrokeColor||"",n<a?(h=a,t.scale(1,n/a),d=i*a/n):a<n?(h=n,t.scale(a/n,1),c=e*n/a):h=a,t.lineWidth=1,t.beginPath(),t.arc(c,d,h/2,0,Z,!1),t[l](),o&&t.stroke(),t.restore()}function zi(t,e,i,r,s){r=r||{};var a=this.sizeX||r.cornerSize||s.cornerSize,n=this.sizeY||r.cornerSize||s.cornerSize,o=(void 0!==r.transparentCorners?r:s).transparentCorners,l=o?m:C,o=!o&&(r.cornerStrokeColor||s.cornerStrokeColor),h=a/2,c=n/2,r=(t.save(),t.fillStyle=r.cornerColor||s.cornerColor||"",t.strokeStyle=r.cornerStrokeColor||s.cornerStrokeColor||"",t.lineWidth=1,t.translate(e,i),s.getTotalAngle());t.rotate(T(r)),t["".concat(l,"Rect")](-h,-c,a,n),o&&t.strokeRect(-h,-c,a,n),t.restore()}class s{constructor(t){c(this,"visible",!0),c(this,"actionName",dt),c(this,"angle",0),c(this,"x",0),c(this,"y",0),c(this,"offsetX",0),c(this,"offsetY",0),c(this,"sizeX",0),c(this,"sizeY",0),c(this,"touchSizeX",0),c(this,"touchSizeY",0),c(this,"cursorStyle","crosshair"),c(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,i,r){var s,{tl:r,tr:a,br:n,bl:o}=r;return(null==(s=e.canvas)?void 0:s.getActiveObject())===e&&e.isControlVisible(t)&&A.isPointInPolygon(i,[r,a,n,o])}getActionHandler(t,e,i){return this.actionHandler}getMouseDownHandler(t,e,i){return this.mouseDownHandler}getMouseUpHandler(t,e,i){return this.mouseUpHandler}cursorStyleHandler(t,e,i){return e.cursorStyle}getActionName(t,e,i){return e.actionName}getVisibility(t,e){return null!=(t=null==(t=t._controlsVisibility)?void 0:t[e])?t:this.visible}setVisibility(t,e,i){this.visible=t}positionHandler(t,e,i,r){return new b(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,i,r,s,a){i=At([kt(i,r),jt({angle:t}),Ht((s?this.touchSizeX:this.sizeX)||e,(s?this.touchSizeY:this.sizeY)||e)]);return{tl:new b(-.5,-.5).transform(i),tr:new b(.5,-.5).transform(i),br:new b(.5,.5).transform(i),bl:new b(-.5,.5).transform(i)}}render(t,e,i,r,s){("circle"===((r=r||{}).cornerStyle||s.cornerStyle)?Ni:zi).call(this,t,e,i,r,s)}}let Hi=(t,e,i)=>i.lockRotation?Ae:e.cursorStyle,Wi=Fi("rotating",Ri((t,e,i,r)=>{var{target:s,ex:e,ey:a,theta:n,originX:o,originY:l}=e,o=s.translateToOriginPoint(s.getRelativeCenterPoint(),o,l);if(je(s,"lockRotation"))return!1;l=Math.atan2(a-o.y,e-o.x),a=Math.atan2(r-o.y,i-o.x);let h=Ot(a-l+n);if(s.snapAngle&&0<s.snapAngle){let t=s.snapAngle,e=s.snapThreshold||t,i=Math.ceil(h/t)*t,r=Math.floor(h/t)*t;Math.abs(h-r)<e?h=r:Math.abs(h-i)<e&&(h=i)}h<0&&(h=360+h),h%=360;e=s.angle!==h;return s.angle=h,e}));function Vi(t,e){e=e.canvas,t=t[e.uniScaleKey];return e.uniformScaling&&!t||!e.uniformScaling&&t}function Xi(t,e,i){var r=je(t,"lockScalingX"),s=je(t,"lockScalingY");return r&&s||!e&&(r||s)&&i||r&&"x"===e||s&&"y"===e||({width:i,height:r,strokeWidth:s}=t,0===i&&0===s&&"y"!==e)||0===r&&0===s&&"x"!==e}let Yi=["e","se","s","sw","w","nw","n","ne","e"],Gi=(t,e,i)=>{var t=Vi(t,i);return Xi(i,0!==e.x&&0===e.y?"x":0===e.x&&0!==e.y?"y":"",t)?Ae:(t=Re(i,e),"".concat(Yi[t],"-resize"))};function qi(t,r,e,i,s){var a=r.target,s=(4<arguments.length&&void 0!==s?s:{}).by,t=Vi(t,a);let n,o,l,h,c,d;if(Xi(a,s,t))return!1;if(r.gestureScale)o=r.scaleX*r.gestureScale,l=r.scaleY*r.gestureScale;else{if(n=Be(r,r.originX,r.originY,e,i),c="y"!==s?Math.sign(n.x||r.signX||1):1,d="x"!==s?Math.sign(n.y||r.signY||1):1,r.signX||(r.signX=c),r.signY||(r.signY=d),je(a,"lockScalingFlip")&&(r.signX!==c||r.signY!==d))return!1;if(h=a._getTransformedDimensions(),t&&!s){let t=Math.abs(n.x)+Math.abs(n.y),e=r.original,i=t/(Math.abs(h.x*e.scaleX/a.scaleX)+Math.abs(h.y*e.scaleY/a.scaleY));o=e.scaleX*i,l=e.scaleY*i}else o=Math.abs(n.x*a.scaleX/h.x),l=Math.abs(n.y*a.scaleY/h.y);Le(r)&&(o*=2,l*=2),r.signX!==c&&"y"!==s&&(r.originX=Ie(r.originX),o*=-1,r.signX=c),r.signY!==d&&"x"!==s&&(r.originY=Ie(r.originY),l*=-1,r.signY=d)}e=a.scaleX,i=a.scaleY;return s?("x"===s&&a.set(f,o),"y"===s&&a.set(g,l)):(je(a,"lockScalingX")||a.set(f,o),je(a,"lockScalingY")||a.set(g,l)),e!==a.scaleX||i!==a.scaleY}let Ui=Fi(at,Ri((t,e,i,r)=>qi(t,e,i,r))),$i=Fi(at,Ri((t,e,i,r)=>qi(t,e,i,r,{by:"x"}))),Ki=Fi(at,Ri((t,e,i,r)=>qi(t,e,i,r,{by:"y"}))),Ji=["target","ex","ey","skewingSide"],Qi={x:{counterAxis:"y",scale:f,skew:ut,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:g,skew:pt,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Zi=["ns","nesw","ew","nwse"],tr=(t,e,i)=>0!==e.x&&je(i,"lockSkewingY")||0!==e.y&&je(i,"lockSkewingX")?Ae:(i=Re(i,e)%4,"".concat(Zi[i],"-resize"));function er(d,t,e,i,r){var s=e.target,{counterAxis:a,origin:n,lockSkewing:o,skew:l,flip:h}=Qi[d];return!je(s,o)&&({origin:o,flip:a}=Qi[a],o=D(e[o])*(s[a]?-1:1),a=-Math.sign(o)*(s[h]?-1:1),o=-(0===s[l]&&0<Be(e,v,v,i,r)[d]||0<s[l]?1:-1)*a*.5+.5,Fi(ot,Ri((t,n,s,o)=>{{var l=d,h=n,c=new b(s,o);let{target:a,ex:t,ey:e,skewingSide:i}=h,r=u(h,Ji);if(h=Qi[l].skew,c=c.subtract(new b(t,e)).divide(new b(a.scaleX,a.scaleY))[l],n=a[h],s=r[h],s=Math.tan(T(s)),o="y"===l?a._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:a._getTransformedDimensions({scaleX:1,scaleY:1}).y,c=2*c*i/Math.max(o,1)+s,o=Ot(Math.atan(c)),a.set(h,o),(s=n!==a[h])&&"y"===l){let{skewX:t,scaleX:e}=a,i=a._getTransformedDimensions({skewY:n}),r=a._getTransformedDimensions(),s=0!==t?i.x/r.x:1;1!=s&&a.set(f,s*e)}return s}}))(t,j(j({},e),{},{[n]:o,skewingSide:a}),i,r))}let ir=(t,e,i,r)=>er("x",t,e,i,r),rr=(t,e,i,r)=>er("y",t,e,i,r);function sr(t,e){return t[e.canvas.altActionKey]}let ar=(t,e,i)=>{t=sr(t,i);return 0===e.x?t?ut:g:0===e.y?t?pt:f:""},nr=(t,e,i)=>sr(t,i)?tr(0,e,i):Gi(t,e,i),or=(t,e,i,r)=>(sr(t,e.target)?rr:$i)(t,e,i,r),lr=(t,e,i,r)=>(sr(t,e.target)?ir:Ki)(t,e,i,r),hr=()=>({ml:new s({x:-.5,y:0,cursorStyleHandler:nr,actionHandler:or,getActionName:ar}),mr:new s({x:.5,y:0,cursorStyleHandler:nr,actionHandler:or,getActionName:ar}),mb:new s({x:0,y:.5,cursorStyleHandler:nr,actionHandler:lr,getActionName:ar}),mt:new s({x:0,y:-.5,cursorStyleHandler:nr,actionHandler:lr,getActionName:ar}),tl:new s({x:-.5,y:-.5,cursorStyleHandler:Gi,actionHandler:Ui}),tr:new s({x:.5,y:-.5,cursorStyleHandler:Gi,actionHandler:Ui}),bl:new s({x:-.5,y:.5,cursorStyleHandler:Gi,actionHandler:Ui}),br:new s({x:.5,y:.5,cursorStyleHandler:Gi,actionHandler:Ui}),mtr:new s({x:0,y:-.5,actionHandler:Wi,cursorStyleHandler:Hi,offsetY:-40,withConnection:!0,actionName:nt})}),cr=()=>({mr:new s({x:.5,y:0,actionHandler:Bi,cursorStyleHandler:nr,actionName:lt}),ml:new s({x:-.5,y:0,actionHandler:Bi,cursorStyleHandler:nr,actionName:lt})}),dr=()=>j(j({},hr()),cr());class ur extends pe{static getDefaults(){return j(j({},super.getDefaults()),ur.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),ur.ownDefaults),this.setOptions(t)}static createControls(){return{controls:hr()}}_updateCacheCanvas(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var t=t._currentTransform,e=t.target,t=t.action;if(this===e&&t&&t.startsWith(dt))return!1}return super._updateCacheCanvas()}getActiveControl(){var t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(e){var i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.hasControls&&this.canvas){this.__corner=void 0;var r=Object.entries(this.oCoords);for(let t=r.length-1;0<=t;t--){var[s,a]=r[t],n=this.controls[s];if(n.shouldActivate(s,this,e,i?a.touchCorner:a.corner))return{key:this.__corner=s,control:n,coord:this.oCoords[s]}}}}calcOCoords(){let t=this.getViewportTransform(),e=this.getCenterPoint(),i=kt(e.x,e.y),r=jt({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),s=M(i,r),a=M(t,s),n=M(a,[1/t[0],0,0,1/t[3],0,0]),o=this.group?It(this.calcTransformMatrix()):void 0,l=(o&&(o.scaleX=Math.abs(o.scaleX),o.scaleY=Math.abs(o.scaleY)),this._calculateCurrentDimensions(o)),h={};return this.forEachControl((t,e)=>{var i=t.positionHandler(l,n,this,t);h[e]=Object.assign(i,this._calcCornerCoords(t,i))}),h}_calcCornerCoords(t,e){var i=this.getTotalAngle();return{corner:t.calcCornerCoords(i,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(i,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(var e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){var e,i,r;!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this||(t.save(),e=this.getRelativeCenterPoint(),i=this._calculateCurrentDimensions(),r=this.getViewportTransform(),t.translate(e.x,e.y),t.scale(1/r[0],1/r[3]),t.rotate(T(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-i.x/2,-i.y/2,i.x,i.y),t.restore())}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){var i=j({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});t.save(),t.strokeStyle=i.borderColor,this._setLineDash(t,i.borderDashArray),this.strokeBorders(t,e),i.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{hasBorders:i,hasControls:r}=this,i=j({hasBorders:i,hasControls:r},e),r=this.getViewportTransform(),s=i.hasBorders,i=i.hasControls,r=M(r,this.calcTransformMatrix()),r=It(r);t.save(),t.translate(r.translateX,r.translateY),t.lineWidth=+this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(r.angle-=180),t.rotate(T((this.group?r:this).angle)),s&&this.drawBorders(t,r,e),i&&this.drawControls(t,e),t.restore()}drawBorders(t,i,e){let r;if(e&&e.forActiveSelection||this.group){let t=ke(this.width,this.height,Yt(i)),e=this.isStrokeAccountedForInDimensions()?xt:(this.strokeUniform?(new b).scalarAdd(this.canvas?this.canvas.getZoom():1):new b(i.scaleX,i.scaleY)).scalarMultiply(this.strokeWidth);r=t.add(e).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else r=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,r,e)}drawControlsConnectingLines(i,r){let s=!1;i.beginPath(),this.forEachControl((t,e)=>{t.withConnection&&t.getVisibility(this,e)&&(s=!0,i.moveTo(t.x*r.x,t.y*r.y),i.lineTo(t.x*r.x+t.offsetX,t.y*r.y+t.offsetY))}),s&&i.stroke()}drawControls(i){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i.save();let e=this.getCanvasRetinaScaling(),{cornerStrokeColor:r,cornerDashArray:s,cornerColor:a}=this,n=j({cornerStrokeColor:r,cornerDashArray:s,cornerColor:a},t);i.setTransform(e,0,0,e,0,0),i.strokeStyle=i.fillStyle=n.cornerColor,this.transparentCorners||(i.strokeStyle=n.cornerStrokeColor),this._setLineDash(i,n.cornerDashArray),this.forEachControl((t,e)=>{t.getVisibility(this,e)&&(e=this.oCoords[e],t.render(i,e.x,e.y,n,this))}),i.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){Object.entries(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).forEach(t=>{var[t,e]=t;return this.setControlVisible(t,e)})}clearContextTop(t){if(this.canvas){var e,i,r=this.canvas.contextTop;if(r)return e=this.canvas.viewportTransform,r.save(),r.transform(e[0],e[1],e[2],e[3],e[4],e[5]),this.transform(r),e=this.width+4,i=this.height+4,r.clearRect(-e/2,-i/2,e,i),t||r.restore(),r}}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function pr(i,t){t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(t=>{"constructor"!==t&&Object.defineProperty(i.prototype,t,Object.getOwnPropertyDescriptor(e.prototype,t)||Object.create(null))})})}c(ur,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class L extends ur{}pr(L,[ze]),d.setClass(L),d.setClass(L,"object");let fr=(t,e,i,r)=>{var s=2*(r=Math.round(r))+1,a=t.getImageData(e-r,i-r,s,s).data;for(let t=3;t<a.length;t+=4)if(0<a[t])return!1;return!0};class gr{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new b(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new b(1/this.options.scaleX,1/this.options.scaleY):new b(1,1)}createSideVector(t,e){t=ii(t,e);return this.options.strokeUniform?t.multiply(this.scale):t}projectOrthogonally(t,e,i){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,i)))}isSkewed(){return 0!==this.options.skewX||0!==this.options.skewY}applySkew(t){t=new b(t);return t.y+=t.x*Math.tan(T(this.options.skewY)),t.x+=t.y*Math.tan(T(this.options.skewX)),t}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}}let mr=new b;class vr extends gr{static getOrthogonalRotationFactor(t,e){e=e?si(t,e):ai(t);return Math.abs(e)<Q?-1:1}constructor(t,e,i,r){super(r),c(this,"AB",void 0),c(this,"AC",void 0),c(this,"alpha",void 0),c(this,"bisector",void 0),this.A=new b(t),this.B=new b(e),this.C=new b(i),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=si(this.AB,this.AC),this.bisector=ni(ei(this.AB.eq(mr)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude,t=this.createSideVector(t,e),e=We(t),t=vr.getOrthogonalRotationFactor(e,this.bisector);return this.scaleUnitVector(e,i*t)}projectBevel(){let e=[];return(this.alpha%Z==0?[this.B]:[this.B,this.C]).forEach(t=>{e.push(this.projectOrthogonally(this.A,t)),e.push(this.projectOrthogonally(this.A,t,-this.strokeProjectionMagnitude))}),e}projectMiter(){var t=[],e=Math.abs(this.alpha),e=1/Math.sin(e/2),e=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*e),i=this.options.strokeUniform?ri(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return ri(e)/this.strokeProjectionMagnitude<=i&&t.push(this.applySkew(this.A.add(e))),t.push(...this.projectBevel()),t}projectRoundNoSkew(e,i){let r=[],t=new b(vr.getOrthogonalRotationFactor(this.bisector),vr.getOrthogonalRotationFactor(new b(this.bisector.y,this.bisector.x)));return[new b(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(t),new b(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(t)].forEach(t=>{hi(t,e,i)&&r.push(this.A.add(t))}),r}projectRoundWithSkew(e,i){let r=[],{skewX:t,skewY:s,scaleX:a,scaleY:n,strokeUniform:o}=this.options,l=new b(Math.tan(T(t)),Math.tan(T(s))),h=this.strokeProjectionMagnitude,c=o?h/n/Math.sqrt(1/n**2+1/a**2*l.y**2):h/Math.sqrt(1+l.y**2),d=new b(Math.sqrt(Math.max(h**2-c**2,0)),c),u=o?h/Math.sqrt(1+l.x**2*(1/n)**2/(1/a+1/a*l.x*l.y)**2):h/Math.sqrt(1+l.x**2/(1+l.x*l.y)**2),p=new b(u,Math.sqrt(Math.max(h**2-u**2,0)));return[p,p.scalarMultiply(-1),d,d.scalarMultiply(-1)].map(t=>this.applySkew(o?t.multiply(this.strokeUniformScalar):t)).forEach(t=>{hi(t,e,i)&&r.push(this.applySkew(this.A).add(t))}),r}projectRound(){var t=[],e=(t.push(...this.projectBevel()),this.alpha%Z==0),i=this.applySkew(this.A),r=t[e?0:2].subtract(i),i=t[e?1:0].subtract(i),e=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),e=0<oi(r,e),s=e?r:i,e=e?i:r;return this.isSkewed()?t.push(...this.projectRoundWithSkew(s,e)):t.push(...this.projectRoundNoSkew(s,e)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}}class yr extends gr{constructor(t,e,i){super(i),this.A=new b(t),this.T=new b(e)}calcOrthogonalProjection(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.strokeProjectionMagnitude,t=this.createSideVector(t,e);return this.scaleUnitVector(We(t),i)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){var t,e=[];return!this.isSkewed()&&this.A.eq(this.T)?(t=new b(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar),e.push(this.applySkew(this.A.add(t)),this.applySkew(this.A.subtract(t)))):e.push(...new vr(this.A,this.T,this.T,this.options).projectRound()),e}projectSquare(){var t,e,i=[];return this.A.eq(this.T)?(t=new b(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar),i.push(this.A.add(t),this.A.subtract(t))):(t=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),e=this.scaleUnitVector(ni(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),e=this.A.add(e),i.push(e.add(t),e.subtract(t))),i.map(t=>this.applySkew(t))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}}function br(t,a){let n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=[];if(0!==t.length){var i=t.reduce((t,e)=>(t[t.length-1].eq(e)||t.push(new b(e)),t),[new b(t[0])]);if(1===i.length)n=!0;else if(!n){let e=i[0],t=((e,i)=>{for(let t=e.length-1;0<=t;t--)if(i(e[t],t))return t;return-1})(i,t=>!t.eq(e));i.splice(t+1)}i.forEach((t,e,i)=>{let r,s;0===e?(s=i[1],r=n?t:i[i.length-1]):s=e===i.length-1?(r=i[e-1],n?t:i[0]):(r=i[e-1],i[e+1]),n&&1===i.length?o.push(...new yr(t,t,a).project()):!n||0!==e&&e!==i.length-1?o.push(...new vr(t,r,s,a).project()):o.push(...new yr(t,0===e?s:r,a).project())})}return o}function xr(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.textBackgroundColor!==e.textBackgroundColor||t.deltaY!==e.deltaY||2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&(t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough)}let _r=i=>{let r={};return Object.keys(i).forEach(e=>{r[e]={},Object.keys(i[e]).forEach(t=>{r[e][t]=j({},i[e][t])})}),r},wr=t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Sr=i=>{var r=[];for(let t,e=0;e<i.length;e++)!1!==(t=((t,e)=>{const i=t.charCodeAt(e);if(isNaN(i))return"";if(i<55296||i>57343)return t.charAt(e);if(55296<=i&&i<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";const r=t.charCodeAt(e-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1})(i,e))&&r.push(t);return r},Cr=Object.freeze({__proto__:null,capitalize:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return"".concat(t.charAt(0).toUpperCase()).concat(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:wr,graphemeSplit:Sr}),Tr=(i,t)=>{var r=t.split("\n"),s=[];let a=-1,n={};i=_r(i);for(let e=0;e<r.length;e++){var o=Sr(r[e]);if(i[e])for(let t=0;t<o.length;t++){a++;var l=i[e][t];l&&0<Object.keys(l).length&&(xr(n,l,!0)?s.push({start:a,end:a+1,style:l}):s[s.length-1].end++),n=l||{}}else a+=o.length,n={}}return s},kr=(i,t)=>{if(!Array.isArray(i))return _r(i);var r=t.split(st),s={};let a=-1,n=0;for(let e=0;e<r.length;e++){var o=Sr(r[e]);for(let t=0;t<o.length;t++)a++,i[n]&&i[n].start<=a&&a<i[n].end&&(s[e]=s[e]||{},s[e][t]=j({},i[n].style),a===i[n].end-1)&&n++}return s},Mr=["display","transform",C,"fill-opacity","fill-rule","opacity",m,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Er(t,i){var e=t.nodeName,r=t.getAttribute("class"),t=t.getAttribute("id"),s="(?![a-zA-Z\\-]+)";let a;if(a=new RegExp("^"+e,"i"),i=i.replace(a,""),t&&i.length&&(a=new RegExp("#"+t+s,"i"),i=i.replace(a,"")),r&&i.length){let e=r.split(" ");for(let t=e.length;t--;)a=new RegExp("\\."+e[t]+s,"i"),i=i.replace(a,"")}return 0===i.length}function Pr(t,e){let i=!0;var r=Er(t,e.pop());return r&&e.length&&(i=((t,e)=>{let i,r=!0;for(;t.parentElement&&1===t.parentElement.nodeType&&e.length;)r&&(i=e.pop()),r=Er(t=t.parentElement,i);return 0===e.length})(t,e)),r&&i&&0===e.length}let Or=new RegExp("(".concat(Ve,")"),"gi"),Dr=t=>t.replace(Or," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),t="(".concat(Ve,")"),Ar=String.raw(i(["(skewX)(",")"],["(skewX)\\(","\\)"]),t),Lr=String.raw(i(["(skewY)(",")"],["(skewY)\\(","\\)"]),t),Ir=String.raw(i(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"]),t,t,t),jr=String.raw(i(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"]),t,t),Fr=String.raw(i(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"]),t,t),Rr=String.raw(i(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"]),t,t,t,t,t,t),Br="(?:".concat(Rr,"|").concat(Fr,"|").concat(Ir,"|").concat(jr,"|").concat(Ar,"|").concat(Lr,")"),Nr="(?:".concat(Br,"*)"),zr=String.raw(i(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"]),Nr),Hr=new RegExp(zr),Wr=new RegExp(Br),Vr=new RegExp(Br,"g");function Xr(t){var i,r=[];if(!(t=Dr(t).replace(/\s*([()])\s*/gi,"$1"))||t&&!Hr.test(t))return[...p];for(i of t.matchAll(Vr)){let e=Wr.exec(i[0]);if(e){let t=p;var[,s,...a]=e.filter(t=>!!t),[n,o,l,h,c,d]=a.map(t=>parseFloat(t));switch(s){case"translate":t=kt(n,o);break;case nt:t=jt({angle:n},{x:o,y:l});break;case dt:t=Ht(n,o);break;case ut:t=Vt(n);break;case pt:t=Xt(n);break;case"matrix":t=[n,o,l,h,c,d]}r.push(t)}}return At(r)}function Yr(t,e){var i,r,s,a,t=t.match(Ye);t&&(i=t[1],r=t[3],s=t[4],a=t[5],t=t[6],i&&(e.fontStyle=i),r&&(e.fontWeight=isNaN(parseFloat(r))?r:parseFloat(r)),s&&(e.fontSize=P(s)),t&&(e.fontFamily=t),a)&&(e.lineHeight="normal"===a?1:a)}function Gr(t,i){t.replace(/;\s*$/,"").split(";").forEach(t=>{var e;t&&([t,e]=t.split(":"),i[t.trim().toLowerCase()]=e.trim())})}function qr(t){var i,e={},t=t.getAttribute("style");return t&&("string"==typeof t?Gr(t,e):(i=e,Object.entries(t).forEach(t=>{var[t,e]=t;void 0!==e&&(i[t.toLowerCase()]=e)}))),e}let Ur={stroke:"strokeOpacity",fill:"fillOpacity"};function $r(r,t,e){if(!r)return{};let s,a={},i=et;r.parentNode&&Je.test(r.parentNode.nodeName)&&(a=$r(r.parentElement,t,e)).fontSize&&(s=i=P(a.fontSize));var n,o,l=j(j(j({},t.reduce((t,e)=>{var i=r.getAttribute(e);return i&&(t[e]=i),t},{})),function(t,e){let i=1<arguments.length&&void 0!==e?e:{},r={};for(var s in i)Pr(t,s.split(" "))&&(r=j(j({},r),i[s]));return r}(r,e)),qr(r)),h=(l[Ue]&&r.setAttribute(Ue,l[Ue]),l[qe]&&(s=P(l[qe],i),l[qe]="".concat(s)),{});for(let i in l){n=i,o=void 0;let t=null!=(o=Ge[n])?o:n,e=((t,i,e,r)=>{var s=Array.isArray(i);let a,n=i;if(t!==C&&t!==m||i!==y){if("strokeUniform"===t)return"non-scaling-stroke"===i;if("strokeDashArray"===t)n=i===y?null:i.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)n=e&&e.transformMatrix?M(e.transformMatrix,Xr(i)):Xr(i);else if("visible"===t)n=i!==y&&"hidden"!==i,e&&!1===e.visible&&(n=!1);else if("opacity"===t)n=parseFloat(i),e&&void 0!==e.opacity&&(n*=e.opacity);else if("textAnchor"===t)n="start"===i?x:"end"===i?_:v;else if("charSpacing"===t)a=P(i,r)/r*1e3;else if("paintFirst"===t){let t=i.indexOf(C),e=i.indexOf(m);n=C,(-1<t&&-1<e&&e<t||-1===t&&-1<e)&&(n=m)}else{if("href"===t||"xlink:href"===t||"font"===t||"id"===t)return i;if("imageSmoothing"===t)return"optimizeQuality"===i;a=s?i.map(P):P(i,r)}}else n="";return!s&&isNaN(a)?n:a})(t,l[i],a,s);h[t]=e}h&&h.font&&Yr(h.font,h);t=j(j({},a),h);if(Je.test(r.nodeName))return t;{var c=t;let r=L.getDefaults();return Object.entries(Ur).forEach(t=>{var e,[t,i]=t;if(void 0!==c[i]&&""!==c[t]){if(void 0===c[t]){if(!r[t])return;c[t]=r[t]}0!==c[t].indexOf("url(")&&(e=new E(c[t]),c[t]=e.setAlpha(R(e.getAlpha()*c[i],2)).toRgba())}}),c}}let Kr=["left","top","width","height","visible"],Jr=["rx","ry"];class Qr extends L{static getDefaults(){return j(j({},super.getDefaults()),Qr.ownDefaults)}constructor(t){super(),Object.assign(this,Qr.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){var{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){var{width:e,height:i}=this,r=-e/2,s=-i/2,a=this.rx?Math.min(this.rx,e/2):0,n=this.ry?Math.min(this.ry,i/2):0,o=0!==a||0!==n;t.beginPath(),t.moveTo(r+a,s),t.lineTo(r+e-a,s),o&&t.bezierCurveTo(r+e-it*a,s,r+e,s+it*n,r+e,s+n),t.lineTo(r+e,s+i-n),o&&t.bezierCurveTo(r+e,s+i-it*n,r+e-it*a,s+i,r+e-a,s+i),t.lineTo(r+a,s+i),o&&t.bezierCurveTo(r+it*a,s+i,r,s+i-it*n,r,s+i-n),t.lineTo(r,s+n),o&&t.bezierCurveTo(r,s+it*n,r+it*a,s,r+a,s),t.closePath(),this._renderPaintInOrder(t)}toObject(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...Jr,...t])}_toSVG(){var{width:t,height:e,rx:i,ry:r}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(i,'" ry="').concat(r,'" width="').concat(t,'" height="').concat(e,'" />\n')]}static async fromElement(t,e,i){var t=$r(t,this.ATTRIBUTE_NAMES,i),{left:i=0,top:r=0,width:s=0,height:a=0,visible:n=!0}=t,t=u(t,Kr);return new this(j(j(j({},e),t),{},{left:i,top:r,width:s,height:a,visible:Boolean(n&&s&&a)}))}}c(Qr,"type","Rect"),c(Qr,"cacheProperties",[...gi,...Jr]),c(Qr,"ownDefaults",{rx:0,ry:0}),c(Qr,"ATTRIBUTE_NAMES",[...Mr,"x","y","rx","ry","width","height"]),d.setClass(Qr),d.setSVGClass(Qr);let Zr="initialization",ts="added",es="removed",is="imperative",rs=(t,e)=>{var{strokeUniform:i,strokeWidth:r,width:s,height:a,group:n}=e,n=n&&n!==t?Me(n.calcTransformMatrix(),t.calcTransformMatrix()):null,o=n?e.getRelativeCenterPoint().transform(n):e.getRelativeCenterPoint(),l=!e.isStrokeAccountedForInDimensions(),t=i&&l?ge(new b(r,r),void 0,t.calcTransformMatrix()):xt,i=!i&&l?r:0,l=ke(s+i,a+i,At([n,e.calcOwnMatrix()],!0)).add(t).scalarDivide(2);return[o.subtract(l),o.add(l)]};class ss{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){var{type:t,prevStrategy:e,strategy:i}=t;return t===Zr||t===is||!!e&&i!==e}shouldLayoutClipPath(t){var{type:t,target:{clipPath:e}}=t;return t!==Zr&&e&&!e.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){let{type:i,target:r}=e;if(i===is&&e.overrides)return e.overrides;if(0!==t.length){var{left:t,top:s,width:a,height:n}=xe(t.map(t=>rs(r,t)).reduce((t,e)=>t.concat(e),[])),a=new b(a,n),n=new b(t,s).add(a.scalarDivide(2));if(i!==Zr)return{center:n.transform(r.calcOwnMatrix()),size:a};{let t=this.getInitialSize(e,{size:a,center:n});return{center:n,relativeCorrection:new b(0,0),size:t}}}}}c(ss,"type","strategy");class as extends ss{shouldPerformLayout(t){return!0}}c(as,"type","fit-content"),d.setClass(as);let ns=["strategy"],os=["target","strategy","bubbles","prevStrategy"],ls="layoutManager";class hs{constructor(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new as;c(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){var t=j(j({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}}),e=(this.onBeforeLayout(t),this.getLayoutResult(t));e&&this.commitLayout(t,e),this.onAfterLayout(t,e),this._prevLayoutStrategy=t.strategy}attachHandlers(t,e){let i=e.target;return[ft,"moving",lt,"rotating",at,ot,ct,ht,"modifyPath"].map(e=>t.on(e,t=>this.performLayout(e===ft?{type:"object_modified",trigger:e,e:t,target:i}:{type:"object_modifying",trigger:e,e:t,target:i})))}subscribe(t,e){this.unsubscribe(t,e);e=this.attachHandlers(t,e);this._subscriptions.set(t,e)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(t=>t()),this._subscriptions.delete(t)}unsubscribeTargets(e){e.targets.forEach(t=>this.unsubscribe(t,e))}subscribeTargets(e){e.targets.forEach(t=>this.subscribe(t,e))}onBeforeLayout(t){let{target:i,type:e}=t,r=i.canvas;if(e===Zr||e===ts?this.subscribeTargets(t):e===es&&this.unsubscribeTargets(t),i.fire("layout:before",{context:t}),r&&r.fire("object:layout:before",{target:i,context:t}),e===is&&t.deep){let e=u(t,ns);i.forEachObject(t=>t.layoutManager&&t.layoutManager.performLayout(j(j({},e),{},{bubbles:!1,target:t})))}}getLayoutResult(t){var e,i,r,{target:s,strategy:a,type:n}=t,a=a.calcLayoutResult(t,s.getObjects());if(a)return t=n===Zr?new b:s.getRelativeCenterPoint(),{center:e,correction:r=new b,relativeCorrection:i=new b}=a,r=t.subtract(e).add(r).transform(n===Zr?p:k(s.calcOwnMatrix()),!0).add(i),{result:a,prevCenter:t,nextCenter:e,offset:r}}commitLayout(t,e){var i=t.target,{result:{size:r},nextCenter:s}=e;i.set({width:r.x,height:r.y}),this.layoutObjects(t,e),t.type===Zr?i.set({left:null!=(e=t.x)?e:s.x+r.x*D(i.originX),top:null!=(e=t.y)?e:s.y+r.y*D(i.originY)}):(i.setPositionByOrigin(s,v,v),i.setCoords(),i.set("dirty",!0))}layoutObjects(e,i){let r=e.target;r.forEachObject(t=>{t.group===r&&this.layoutObject(e,i,t)}),e.strategy.shouldLayoutClipPath(e)&&this.layoutObject(e,i,r.clipPath)}layoutObject(t,e,i){e=e.offset;i.set({left:i.left+e.x,top:i.top+e.y})}onAfterLayout(t,e){var{target:i,bubbles:r}=t,s=u(t,os),a=i.canvas,a=(i.fire("layout:after",{context:t,result:e}),a&&a.fire("object:layout:after",{context:t,result:e,target:i}),i.parent);r&&null!=a&&a.layoutManager&&((s.path||(s.path=[])).push(i),a.layoutManager.performLayout(j(j({},s),{},{target:a}))),i.set("dirty",!0)}dispose(){var t=this._subscriptions;t.forEach(t=>t.forEach(t=>t())),t.clear()}toObject(){return{type:ls,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}d.setClass(hs,ls);let cs=["type","objects","layoutManager"];class ds extends hs{performLayout(){}}class us extends wt(L){static getDefaults(){return j(j({},super.getDefaults()),us.ownDefaults)}constructor(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};super(),c(this,"_activeObjects",[]),c(this,"__objectSelectionTracker",void 0),c(this,"__objectSelectionDisposer",void 0),Object.assign(this,us.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var i;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(t=>{this.enterGroup(t,!1)}),this.layoutManager=null!=(i=e.layoutManager)?i:new hs,this.layoutManager.performLayout({type:Zr,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(N("error","Group: circular object trees are not supported, this call has no effect"),!1):-1===this._objects.indexOf(t)||(N("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((t,e,i)=>this.canEnterGroup(t)&&i.indexOf(t)===e)}add(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=this._filterObjectsBeforeEnteringGroup(e),s=super.add(...r);return this._onAfterObjectsChange(ts,r),s}insertAt(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var s=this._filterObjectsBeforeEnteringGroup(i),t=super.insertAt(t,...s);return this._onAfterObjectsChange(ts,s),t}remove(){var t=super.remove(...arguments);return this._onAfterObjectsChange(es,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(e,i){var t=this[e];return super._set(e,i),"canvas"===e&&t!==i&&(this._objects||[]).forEach(t=>{t._set(e,i)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){var e=e.target,i=this._activeObjects;if(t)i.push(e),this._set("dirty",!0);else if(0<i.length){let t=i.indexOf(e);-1<t&&(i.splice(t,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&Se(t,M(k(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);e=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();e&&(e===t||t.isDescendantOf(e))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(Se(t,M(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);e=0<this._activeObjects.length?this._activeObjects.indexOf(t):-1;-1<e&&this._activeObjects.splice(e,1)}shouldCache(){var t=L.prototype.shouldCache.call(this);if(t)for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return this.ownCaching=!1;return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(r,t,e){this._renderBackground(r);for(let i=0;i<this._objects.length;i++){let t,e=this._objects[i];null!=(t=this.canvas)&&t.preserveObjectStacking&&e.group!==this?(r.save(),r.transform(...k(this.calcTransformMatrix())),e.render(r),r.restore()):e.group===this&&e.render(r)}this._drawClipPath(r,this.clipPath,e)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.layoutManager.performLayout(j({target:this,type:is},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(r,s){let a=this.includeDefaultValues;return this._objects.filter(function(t){return!t.excludeFromExport}).map(function(t){var e=t.includeDefaultValues,i=(t.includeDefaultValues=a,t[r||"toObject"](s));return t.includeDefaultValues=e,i})}toObject(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=this.layoutManager.toObject();return j(j(j({},super.toObject(["subTargetCheck","interactive",...t])),"fit-content"!==e.strategy||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){var e,i;return this.backgroundColor?(i=(e=Qr.prototype._toSVG.call(this)).indexOf("COMMON_PARTS"),e[i]='for="group" ',i=e.join(""),t?t(i):i):""}_toSVG(e){var i=["<g ","COMMON_PARTS"," >\n"],t=this._createSVGBgRect(e);t&&i.push("\t\t",t);for(let t=0;t<this._objects.length;t++)i.push("\t\t",this._objects[t].toSVG(e));return i.push("</g>\n"),i}getSvgStyles(){var t=void 0!==this.opacity&&1!==this.opacity?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(e){var i=[],t=this._createSVGBgRect(e);t&&i.push("\t",t);for(let t=0;t<this._objects.length;t++)i.push("\t",this._objects[t].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(i,{reviver:e})}static fromObject(t,e){let{objects:i=[],layoutManager:s}=t,a=u(t,cs);return Promise.all([Rt(i,e),Bt(a,e)]).then(t=>{let[e,i]=t;var r=new this(e,j(j(j({},a),i),{},{layoutManager:new ds}));if(s){let t=d.getClass(s.type),e=d.getClass(s.strategy);r.layoutManager=new t(new e)}else r.layoutManager=new hs;return r.layoutManager.subscribeTargets({type:Zr,target:r,targets:r.getObjects()}),r.setCoords(),r})}}c(us,"type","Group"),c(us,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),d.setClass(us);let ps=(t,e)=>Math.min(e.width/t.width,e.height/t.height),fs=(t,e)=>Math.max(e.width/t.width,e.height/t.height),gs="\\s*,?\\s*",ms="".concat(gs,"(").concat(Ve,")"),vs="".concat(ms).concat(ms).concat(ms).concat(gs,"([01])").concat(gs,"([01])").concat(ms).concat(ms),ys={m:"l",M:"L"},bs=(t,e,i,r,s,a,n,o,l,h,c)=>{var d=yt(t),t=bt(t),u=yt(e),e=bt(e),n=i*s*u-r*a*e+n,o=r*s*u+i*a*e+o;return["C",h+l*(-i*s*t-r*a*d),c+l*(-r*s*t+i*a*d),n+l*(i*s*e+r*a*u),o+l*(r*s*e-i*a*u),n,o]},xs=(t,e,i,r)=>{e=Math.atan2(e,t),t=Math.atan2(r,i);return e<=t?t-e:2*Math.PI-(e-t)};function _s(t,e,i,r,s,a,n,o){let l;if(F.cachesBoundsOfCurve&&(l=[...arguments].join(),$.boundsOfCurveCache[l]))return $.boundsOfCurveCache[l];var h=Math.sqrt,c=Math.abs,d=[],u=[[0,0],[0,0]];let p=6*t-12*i+6*s,f=-3*t+9*i-9*s+3*n,g=3*i-3*t;for(let t=0;t<2;++t)if(0<t&&(p=6*e-12*r+6*a,f=-3*e+9*r-9*a+3*o,g=3*r-3*e),c(f)<1e-12){if(c(p)<1e-12)continue;let t=-g/p;0<t&&t<1&&d.push(t)}else{let r=p*p-4*g*f;if(!(r<0)){let t=h(r),e=(-p+t)/(2*f),i=(0<e&&e<1&&d.push(e),(-p-t)/(2*f));0<i&&i<1&&d.push(i)}}let m=d.length;for(var v=m,y=ks(t,e,i,r,s,a,n,o);m--;){let{x:t,y:e}=y(d[m]);u[0][m]=t,u[1][m]=e}u[0][v]=t,u[1][v]=e,u[0][v+1]=n,u[1][v+1]=o;i=[new b(Math.min(...u[0]),Math.min(...u[1])),new b(Math.max(...u[0]),Math.max(...u[1]))];return F.cachesBoundsOfCurve&&($.boundsOfCurveCache[l]=i),i}function ws(t,e){let i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Ds(t),r=0;for(;0<e-i[r].length&&r<i.length-2;)e-=i[r].length,r++;var s=i[r],a=e/s.length,n=t[r];switch(s.command){case"M":return{x:s.x,y:s.y,angle:0};case"Z":return j(j({},new b(s.x,s.y).lerp(new b(s.destX,s.destY),a)),{},{angle:Math.atan2(s.destY-s.y,s.destX-s.x)});case"L":return j(j({},new b(s.x,s.y).lerp(new b(n[1],n[2]),a)),{},{angle:Math.atan2(n[2]-s.y,n[1]-s.x)});case"C":case"Q":return((t,e)=>{let i,r=0,s=0,a={x:t.x,y:t.y},n=j({},a),o=.01,l=0;for(var h=t.iterator,t=t.angleFinder;s<e&&1e-4<o;)n=h(r),l=r,(i=Ts(a.x,a.y,n.x,n.y))+s>e?(r-=o,o/=2):(a=n,r+=o,s+=i);return j(j({},n),{},{angle:t(l)})})(s,e)}}function Ss(t){let e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=new b(t[0]),r=new b(t[1]),s=1,a=0;var n=[],o=t.length,l=2<o;let h;for(l&&(s=t[2].x<r.x?-1:t[2].x===r.x?0:1,a=t[2].y<r.y?-1:t[2].y===r.y?0:1),n.push(["M",i.x-s*e,i.y-a*e]),h=1;h<o;h++){if(!i.eq(r)){let t=i.midPointFrom(r);n.push(["Q",i.x,i.y,t.x,t.y])}i=t[h],h+1<t.length&&(r=t[h+1])}return l&&(s=i.x>t[h-2].x?1:i.x===t[h-2].x?0:-1,a=i.y>t[h-2].y?1:i.y===t[h-2].y?0:-1),n.push(["L",i.x+s*e,i.y+a*e]),n}let Cs=t=>{let i=0,r=0,s=0,a=0,n=[],o,l=0,h=0;for(var c of t){let t=[...c],e;switch(t[0]){case"l":t[1]+=i,t[2]+=r;case"L":i=t[1],r=t[2],e=["L",i,r];break;case"h":t[1]+=i;case"H":i=t[1],e=["L",i,r];break;case"v":t[1]+=r;case"V":r=t[1],e=["L",i,r];break;case"m":t[1]+=i,t[2]+=r;case"M":i=t[1],r=t[2],s=t[1],a=t[2],e=["M",i,r];break;case"c":t[1]+=i,t[2]+=r,t[3]+=i,t[4]+=r,t[5]+=i,t[6]+=r;case"C":l=t[3],h=t[4],i=t[5],r=t[6],e=["C",t[1],t[2],l,h,i,r];break;case"s":t[1]+=i,t[2]+=r,t[3]+=i,t[4]+=r;case"S":h="C"===o?(l=2*i-l,2*r-h):(l=i,r),i=t[3],r=t[4],e=["C",l,h,t[1],t[2],i,r],l=e[3],h=e[4];break;case"q":t[1]+=i,t[2]+=r,t[3]+=i,t[4]+=r;case"Q":l=t[1],h=t[2],i=t[3],r=t[4],e=["Q",l,h,i,r];break;case"t":t[1]+=i,t[2]+=r;case"T":h="Q"===o?(l=2*i-l,2*r-h):(l=i,r),i=t[1],r=t[2],e=["Q",l,h,i,r];break;case"a":t[6]+=i,t[7]+=r;case"A":((i,r,t)=>{var[,t,e,O,s,a,n,o]=t,l=((t,e,i,r,s,a)=>{if(0===i||0===r)return[];let n=0,o=0,l=0;var h=Math.PI,c=O*tt,d=bt(c),u=yt(c),c=.5*(-u*t-d*e),p=.5*(-u*e+d*t),f=i**2,g=r**2,m=p**2,v=c**2,y=f*g-f*m-g*v;let b=Math.abs(i),x=Math.abs(r);if(y<0){let t=Math.sqrt(1-y/(f*g));b*=t,x*=t}else l=(s===a?-1:1)*Math.sqrt(y/(f*m+g*v));var i=l*b*p/x,r=-l*x*c/b,_=u*i-d*r+.5*t,w=d*i+u*r+.5*e;let S=xs(1,0,(c-i)/b,(p-r)/x),C=xs((c-i)/b,(p-r)/x,(-c-i)/b,(-p-r)/x);0===a&&0<C?C-=2*h:1===a&&C<0&&(C+=2*h);var T=Math.ceil(Math.abs(C/h*2)),k=[],M=C/T,E=8/3*Math.sin(M/4)*Math.sin(M/4)/Math.sin(M/2);let P=S+M;for(let t=0;t<T;t++)k[t]=bs(S,P,u,d,b,x,_,w,E,n,o),n=k[t][5],o=k[t][6],S=P,P+=M;return k})(n-i,o-r,t,e,s,a);for(let t=0,e=l.length;t<e;t++)l[t][1]+=i,l[t][2]+=r,l[t][3]+=i,l[t][4]+=r,l[t][5]+=i,l[t][6]+=r;return l})(i,r,t).forEach(t=>n.push(t)),i=t[6],r=t[7];break;case"z":case"Z":i=s,r=a,e=["Z"]}o=e?(n.push(e),e[0]):""}return n},Ts=(t,e,i,r)=>Math.sqrt((i-t)**2+(r-e)**2),ks=(s,a,n,o,l,h,c,d)=>t=>{var e=t**3,i=3*t**2*(1-t),r=3*t*(1-t)**2,t=(1-t)**3;return new b(c*e+l*i+n*r+s*t,d*e+h*i+o*r+a*t)},Ms=t=>t**2,Es=t=>2*t*(1-t),Ps=t=>(1-t)**2,Os=(i,t,e)=>{let r=new b(t,e),s=0;for(let e=1;e<=100;e+=1){let t=i(e/100);s+=Ts(r.x,r.y,t.x,t.y),r=t}return s},Ds=t=>{let e,i,r=0,s=0,a=0,n=0,o=0;var l,h=[];for(l of t){let t={x:s,y:a,command:l[0],length:0};switch(l[0]){case"M":(i=t).x=n=s=l[1],i.y=o=a=l[2];break;case"L":(i=t).length=Ts(s,a,l[1],l[2]),s=l[1],a=l[2];break;case"C":e=ks(s,a,l[1],l[2],l[3],l[4],l[5],l[6]),(i=t).iterator=e,i.angleFinder=((r,s,a,n,o,l,h,c)=>t=>{var e=Ms(t),i=Es(t),t=Ps(t);return Math.atan2(3*(t*(n-s)+i*(l-n)+e*(c-l)),3*(t*(a-r)+i*(o-a)+e*(h-o)))})(s,a,l[1],l[2],l[3],l[4],l[5],l[6]),i.length=Os(e,s,a),s=l[5],a=l[6];break;case"Q":e=((r,s,a,n,o,l)=>t=>{var e=Ms(t),i=Es(t),t=Ps(t);return new b(o*e+a*i+r*t,l*e+n*i+s*t)})(s,a,l[1],l[2],l[3],l[4]),(i=t).iterator=e,i.angleFinder=((i,r,s,a,n,o)=>t=>{var e=1-t;return Math.atan2(2*(e*(a-r)+t*(o-a)),2*(e*(s-i)+t*(n-s)))})(s,a,l[1],l[2],l[3],l[4]),i.length=Os(e,s,a),s=l[3],a=l[4];break;case"Z":(i=t).destX=n,i.destY=o,i.length=Ts(s,a,n,o),s=n,a=o}r+=i.length,h.push(i)}return h.push({length:r,x:s,y:a}),h},As=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Ls=new RegExp(vs,"g"),Is=new RegExp(Ve,"gi"),js={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Fs=t=>{var e;let s=[],i=null!=(e=t.match(As))?e:[];for(let e of i){let t=e[0];if("z"===t||"Z"===t)s.push([t]);else{let i=js[t.toLowerCase()],r=[];if("a"===t||"A"===t){Ls.lastIndex=0;for(var a=null;a=Ls.exec(e);)r.push(...a.slice(1))}else r=e.match(Is)||[];for(let e=0;e<r.length;e+=i){var n=new Array(i),o=ys[t];n[0]=0<e&&o?o:t;for(let t=0;t<i;t++)n[t+1]=parseFloat(r[e+t]);s.push(n)}}}return s},Rs=(t,i)=>t.map(t=>t.map((t,e)=>0===e||void 0===i?t:R(t,i)).join(" ")).join(" ");function Bs(t,e){let i=t.style;i&&e&&("string"==typeof e?i.cssText+=";"+e:Object.entries(e).forEach(t=>{var[t,e]=t;return i.setProperty(t,e)}))}let Ns=(t,e)=>Math.floor(Math.random()*(e-t+1))+t;function zs(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};function i(){a.abort()}function r(){n&&n.removeEventListener("abort",i),a.onerror=a.ontimeout=J}let s=e.onComplete||J,a=new(q().XMLHttpRequest),n=e.signal;if(n&&n.aborted)throw new H("request");return n&&n.addEventListener("abort",i,{once:!0}),a.onreadystatechange=function(){4===a.readyState&&(r(),s(a),a.onreadystatechange=J)},a.onerror=a.ontimeout=r,a.open("get",t,!0),a.send(),a}let Hs=(t,e)=>{let i=t._findCenterFromElement();var r,s,a,n,o;t.transformMatrix&&((r=t).transformMatrix&&({scaleX:s,scaleY:a,angle:n,skewX:o}=It(r.transformMatrix),r.flipX=!1,r.flipY=!1,r.set(f,s),r.set(g,a),r.angle=n,r.skewX=o,r.skewY=0),i=i.transform(t.transformMatrix)),delete t.transformMatrix,e&&(t.scaleX*=e.scaleX,t.scaleY*=e.scaleY,t.cropX=e.cropX,t.cropY=e.cropY,i.x+=e.offsetLeft,i.y+=e.offsetTop,t.width=e.width,t.height=e.height),t.setPositionByOrigin(i,v,v)},Ws=Object.freeze({__proto__:null,addTransformToObject:we,animate:Di,animateColor:Ai,applyTransformToObject:Se,calcAngleBetweenVectors:si,calcDimensionsMatrix:Yt,calcPlaneChangeMatrix:Me,calcVectorRotation:ai,cancelAnimFrame:Tt,capValue:pi,composeMatrix:Gt,copyCanvasElement:t=>{var e,i=S(t);return null!=(e=i.getContext("2d"))&&e.drawImage(t,0,0),i},cos:yt,createCanvasElement:w,createImage:Et,createRotateMatrix:jt,createScaleMatrix:Ht,createSkewXMatrix:Vt,createSkewYMatrix:Xt,createTranslateMatrix:kt,createVector:ii,crossProduct:oi,degreesToRadians:T,dotProduct:li,ease:wi,enlivenObjectEnlivables:Bt,enlivenObjects:Rt,findScaleToCover:fs,findScaleToFit:ps,getBoundsOfCurve:_s,getOrthonormalVector:We,getPathSegmentsInfo:Ds,getPointOnPath:ws,getPointer:ve,getRandomInt:Ns,getRegularPolygonPath:(t,s)=>{var a=2*Math.PI/t;let n=-Q;t%2==0&&(n+=a/2);var o=new Array(t+1);for(let r=0;r<t;r++){let t=r*a+n,{x:e,y:i}=new b(yt(t),bt(t)).scalarMultiply(s);o[r]=[0===r?"M":"L",e,i]}return o[t]=["Z"],o},getSmoothPathFromPoints:Ss,getSvgAttributes:t=>{var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":return e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return e.concat(["offset","stop-color","stop-opacity"])}return e},getUnitVector:ni,groupSVGElements:(t,e)=>t&&1===t.length?t[0]:new us(t,e),hasStyleChanged:xr,invertTransform:k,isBetweenVectors:hi,isIdentityMatrix:Dt,isTouchEvent:ye,isTransparent:fr,joinPath:Rs,loadImage:Ft,magnitude:ri,makeBoundingBoxFromPoints:xe,makePathSimpler:Cs,matrixToSVG:ee,mergeClipPaths:(t,e)=>{let i,r=t,s=e;r.inverted&&!s.inverted&&(r=e,s=t),Pe(s,null==(i=s.group)?void 0:i.calcTransformMatrix(),r.calcTransformMatrix());e=r.inverted&&s.inverted;return e&&(r.inverted=s.inverted=!1),new us([r],{clipPath:s,inverted:e})},multiplyTransformMatrices:M,multiplyTransformMatrixArray:At,parsePath:Fs,parsePreserveAspectRatioAttribute:te,parseUnit:P,pick:Nt,projectStrokeOnPoints:br,qrDecompose:It,radiansToDegrees:Ot,removeFromArray:vt,removeTransformFromObject:(t,e)=>{e=k(e),e=M(e,t.calcOwnMatrix());Se(t,e)},removeTransformMatrixForSvgParsing:Hs,request:zs,requestAnimFrame:Ct,resetObjectTransform:Ce,rotatePoint:(t,e,i)=>t.rotate(i,e),rotateVector:ei,saveObjectTransform:Te,sendObjectToPlane:Pe,sendPointToPlane:Ee,sendVectorToPlane:ge,setStyle:Bs,sin:bt,sizeAfterTransform:ke,string:Cr,stylesFromArray:kr,stylesToArray:Tr,toDataURL:Pt,toFixed:R,transformPath:(t,a,e)=>(e&&(a=M(a,[1,0,0,1,-e.x,-e.y])),t.map(e=>{var i=[...e];for(let t=1;t<e.length-1;t+=2){var{x:r,y:s}=l({x:e[t],y:e[t+1]},a);i[t]=r,i[t+1]=s}return i})),transformPoint:l});class Vs extends ue{constructor(t){var{allowTouchScrolling:e=!1,containerClass:i=""}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=(super(t),c(this,"upper",void 0),c(this,"container",void 0),this.lower).el,r=this.createUpperCanvas(),e=(this.upper={el:r,ctx:r.getContext("2d")},this.applyCanvasStyle(t,{allowTouchScrolling:e}),this.applyCanvasStyle(r,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}}),this.createContainerElement());e.classList.add(i),t.parentNode&&t.parentNode.replaceChild(e,t),e.append(t,r),this.container=e}createUpperCanvas(){var t=this.lower.el,e=w();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){var t=G().createElement("div");return t.setAttribute("data-fabric","wrapper"),Bs(t,{position:"relative"}),de(t),t}applyCanvasStyle(t,e){var{styles:e,allowTouchScrolling:i}=e;Bs(t,j(j({},e),{},{"touch-action":i?"manipulation":y})),de(t)}setDimensions(t,e){super.setDimensions(t,e);var{el:i,ctx:r}=this.upper;oe(i,r,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),ce(this.upper.el,t),ce(this.container,t)}cleanupDOM(t){var e=this.container,i=this.lower.el,r=this.upper.el;super.cleanupDOM(t),e.removeChild(r),e.removeChild(i),e.parentNode&&e.parentNode.replaceChild(i,e)}dispose(){super.dispose(),Y().dispose(this.upper.el),delete this.upper,delete this.container}}class Xs extends fe{constructor(){super(...arguments),c(this,"targets",[]),c(this,"_hoveredTargets",[]),c(this,"_objectsToRender",void 0),c(this,"_currentTransform",null),c(this,"_groupSelector",null),c(this,"contextTopDirty",!1)}static getDefaults(){return j(j({},super.getDefaults()),Xs.ownDefaults)}get upperCanvasEl(){var t;return null==(t=this.elements.upper)?void 0:t.el}get contextTop(){var t;return null==(t=this.elements.upper)?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new Vs(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let e=this._activeObject;return!this.preserveObjectStacking&&e?this._objects.filter(t=>!t.group&&t!==e).concat(e):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),this._objectsToRender||(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){var t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;var e=this.getRetinaScaling(),t=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=t,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,i){var r=this.targetFindTolerance,s=this.pixelFindContext,e=(this.clearContext(s),s.save(),s.translate(-e+r,-i+r),s.transform(...this.viewportTransform),t.selectionBackgroundColor),i=(t.selectionBackgroundColor="",t.render(s),t.selectionBackgroundColor=e,s.restore(),Math.round(r*this.getRetinaScaling()));return fr(s,i,i,i)}_isSelectionKeyPressed(e){var t=this.selectionKey;return!!t&&(Array.isArray(t)?!!t.find(t=>!!t&&!0===e[t]):e[t])}_shouldClearSelection(t,e){var i=this.getActiveObjects(),r=this._activeObject;return!!(!e||r&&1<i.length&&-1===i.indexOf(e)&&r!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&r&&r!==e)}_shouldCenterTransform(e,i,r){if(e){let t;return i===dt||i===f||i===g||i===lt?t=this.centeredScaling||e.centeredScaling:i===nt&&(t=this.centeredRotation||e.centeredRotation),t?!r:r}}_getOriginFromCorner(t,e){t={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?t.x=_:["mr","tr","br"].includes(e)&&(t.x=x),["tl","mt","tr"].includes(e)?t.y=rt:["bl","mb","br"].includes(e)&&(t.y=h)),t}_setupCurrentTransform(t,e,i){let r,s=e.group?Ee(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:a="",control:n}=e.getActiveControl()||{},o=i&&n?null==(r=n.getActionHandler(t,e,n))?void 0:r.bind(n):Ne,l=(i=i,a&&i?(i=e.controls[a]).getActionName(t,i,e):"drag"),h=t[this.centeredKey],c=this._shouldCenterTransform(e,l,h)?{x:v,y:v}:this._getOriginFromCorner(e,a),d={target:e,action:l,actionHandler:o,actionPerformed:!1,corner:a,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:s.x-e.left,offsetY:s.y-e.top,originX:c.x,originY:c.y,ex:s.x,ey:s.y,lastX:s.x,lastY:s.y,theta:T(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:h,original:j(j({},Te(e)),{},{originX:c.x,originY:c.y})};this._currentTransform=d,this.fire("before:transform",{e:t,transform:d})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){var{x:e,y:i,deltaX:r,deltaY:s}=this._groupSelector,a=new b(e,i).transform(this.viewportTransform),e=new b(e+r,i+s).transform(this.viewportTransform),r=this.selectionLineWidth/2,i=Math.min(a.x,e.x),s=Math.min(a.y,e.y),n=Math.max(a.x,e.x),a=Math.max(a.y,e.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(i,s,n-i,a-s)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,i+=r,s+=r,n-=r,a-=r,L.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(i,s,n-i,a-s))}findTarget(r){if(!this.skipTargetFind){let e=this.getViewportPoint(r),i=this._activeObject,t=this.getActiveObjects();if(this.targets=[],i&&1<=t.length){if(i.findControl(e,ye(r)))return i;if(1<t.length&&this.searchPossibleTargets([i],e))return i;if(i===this.searchPossibleTargets([i],e)){if(this.preserveObjectStacking){let t=this.targets;this.targets=[];var s=this.searchPossibleTargets(this._objects,e);return r[this.altSelectionKey]&&s&&s!==i?(this.targets=t,i):s}return i}}return this.searchPossibleTargets(this._objects,e)}}_pointIsInObjectSelectionArea(t,e){let h=t.getCoords(),i=this.getZoom(),c=t.padding/i;if(c){let[t,e,i,r]=h,s=Math.atan2(e.y-t.y,e.x-t.x),a=yt(s)*c,n=bt(s)*c,o=a+n,l=a-n;h=[new b(t.x-l,t.y-o),new b(e.x+o,e.y-l),new b(i.x+l,i.y+o),new b(r.x-o,r.y+l)]}return A.isPointInPolygon(e,h)}_checkTarget(t,e){if(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,Ee(e,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,e.x,e.y))return!0}return!1}_searchPossibleTargets(t,e){let i=t.length;for(;i--;){var r=t[i];if(this._checkTarget(r,e)){if(_t(r)&&r.subTargetCheck){let t=this._searchPossibleTargets(r._objects,e);t&&this.targets.push(t)}return r}}}searchPossibleTargets(t,e){let i=this._searchPossibleTargets(t,e);if(i&&_t(i)&&i.interactive&&this.targets[0]){let i=this.targets;for(let e=i.length-1;0<e;e--){let t=i[e];if(!_t(t)||!t.interactive)return t}return i[0]}return i}getViewportPoint(t){return this._pointer||this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer||this.getPointer(t)}getPointer(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.upperCanvasEl,r=i.getBoundingClientRect();let s=ve(t),a=r.width||0,n=r.height||0;a&&n||(h in r&&rt in r&&(n=Math.abs(r.top-r.bottom)),_ in r&&x in r&&(a=Math.abs(r.right-r.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,e||(s=Ee(s,void 0,this.viewportTransform));t=this.getRetinaScaling(),1!==t&&(s.x/=t,s.y/=t),r=0===a||0===n?new b(1,1):new b(i.width/a,i.height/n);return s.multiply(r)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=w(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){var t=this._activeObject;return ae(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(e,i){let r=!1,t=!1,s=this.getActiveObjects(),a=[],n=[];e.forEach(t=>{s.includes(t)||(r=!0,t.fire("deselected",{e:i,target:t}),n.push(t))}),s.forEach(t=>{e.includes(t)||(r=!0,t.fire("selected",{e:i,target:t}),a.push(t))}),0<e.length&&0<s.length?(t=!0,r&&this.fire("selection:updated",{e:i,selected:a,deselected:n})):0<s.length?(t=!0,this.fire("selection:created",{e:i,selected:a})):0<e.length&&(t=!0,this.fire("selection:cleared",{e:i,deselected:n})),t&&(this._objectsToRender=void 0)}setActiveObject(t,e){var i=this.getActiveObjects(),t=this._setActiveObject(t,e);return this._fireSelectionEvents(i,e),t}_setActiveObject(t,e){var i=this._activeObject;return!(i===t||!this._discardActiveObject(e,t)&&this._activeObject||t.onSelect({e:e})||(this._activeObject=t,ae(t)&&i!==t&&t.set("canvas",this),t.setCoords(),0))}_discardActiveObject(t,e){var i=this._activeObject;return!!i&&!i.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===i&&this.endCurrentTransform(t),ae(i)&&i===this._hoveredTarget&&(this._hoveredTarget=void 0),!(this._activeObject=void 0))}discardActiveObject(t){var e=this.getActiveObjects(),i=this.getActiveObject(),i=(e.length&&this.fire("before:selection:cleared",{e:t,deselected:[i]}),this._discardActiveObject(t));return this._fireSelectionEvents(e,t),i}endCurrentTransform(t){var e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){var e=this._currentTransform,i=e.target,t={e:t,target:i,transform:e,action:e.action};i._scaling&&(i._scaling=!1),i.setCoords(),e.actionPerformed&&(this.fire("object:modified",t),i.fire(ft,t))}setViewportTransform(t){super.setViewportTransform(t);t=this._activeObject;t&&t.setCoords()}destroy(){var t=this._activeObject;ae(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){var e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,i){var r=this._realizeGroupTransformOnObject(t),e=super._toObject(t,e,i);return t.set(r),e}_realizeGroupTransformOnObject(t){var e,i=t.group;return i&&ae(i)&&this._activeObject===i?(e=Nt(t,["angle","flipX","flipY",x,f,g,ut,pt,h]),we(t,i.calcOwnMatrix()),e):{}}_setSVGObject(t,e,i){var r=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,i),e.set(r)}}c(Xs,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class Ys{constructor(e){c(this,"targets",[]),c(this,"__disposer",void 0);let t=()=>{var t=(e.getActiveObject()||{}).hiddenTextarea;t&&t.focus()},i=e.upperCanvasEl;i.addEventListener("click",t),this.__disposer=()=>i.removeEventListener("click",t)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),vt(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;null!=(e=this.target)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}function Gs(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return t.addEventListener(...i)}function qs(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return t.removeEventListener(...i)}let Us=["target","oldTarget","fireCanvas","e"],a={passive:!1},$s=(t,e)=>{var i=t.getViewportPoint(e),t=t.getScenePoint(e);return{viewportPoint:i,scenePoint:t,pointer:i,absolutePointer:t}},Ks={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class Js extends Xs{constructor(t){super(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),c(this,"_isClick",void 0),c(this,"textEditingManager",new Ys(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(t=>{this[t]=this[t].bind(this)}),this.addOrRemove(Gs,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){var i=this.upperCanvasEl,r=this._getEventPrefix();t(he(i),"resize",this._onResize),t(i,r+"down",this._onMouseDown),t(i,"".concat(r,"move"),this._onMouseMove,a),t(i,"".concat(r,"out"),this._onMouseOut),t(i,"".concat(r,"enter"),this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragstart",this._onDragStart),t(i,"dragend",this._onDragEnd),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,a)}removeListeners(){this.addOrRemove(qs,"remove");var t=this._getEventPrefix(),e=le(this.upperCanvasEl);qs(e,"".concat(t,"up"),this._onMouseUp),qs(e,"touchend",this._onTouchEnd,a),qs(e,"".concat(t,"move"),this._onMouseMove,a),qs(e,"touchmove",this._onMouseMove,a),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){let e=this._hoveredTarget,i=j({e:t},$s(this,t));this.fire("mouse:out",j(j({},i),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",j({},i)),this._hoveredTargets.forEach(t=>{this.fire("mouse:out",j(j({},i),{},{target:t})),t&&t.fire("mouseout",j({},i))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",j({e:t},$s(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;var e,i=this.getActiveObject();i&&i.onDragStart(t)?(e={e:t,target:this._dragSource=i},this.fire("dragstart",e),i.fire("dragstart",e),Gs(this.upperCanvasEl,"drag",this._onDragProgress)):be(t)}_renderDragEffects(t,e,i){let r=!1;var s=this._dropTarget,s=(s&&s!==e&&s!==i&&(s.clearContextTop(),r=!0),null!=e&&e.clearContextTop(),i===e||null!=i&&i.clearContextTop(),this.contextTop);s.save(),s.transform(...this.viewportTransform),e&&(s.save(),e.transform(s),e.renderDragSourceEffect(t),s.restore(),r=!0),i&&(s.save(),i.transform(s),i.renderDropTargetEffect(t),s.restore(),r=!0),s.restore(),r&&(this.contextTopDirty=!0)}_onDragEnd(t){var e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==y,i=e?this._activeObject:void 0,e={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:i};qs(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",e),this._dragSource&&this._dragSource.fire("dragend",e),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){t={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",t),this._dragSource&&this._dragSource.fire("drag",t)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(i){let r="dragover",{target:t,targets:s}=this.findDragTargets(i),e=this._dragSource,a={e:i,target:t,subTargets:s,dragSource:e,canDrop:!1,dropTarget:void 0},n;this.fire(r,a),this._fireEnterLeaveEvents(t,a),t&&(t.canDrop(i)&&(n=t),t.fire(r,a));for(let e=0;e<s.length;e++){let t=s[e];t.canDrop(i)&&(n=t),t.fire(r,a)}this._renderDragEffects(i,e,n),this._dropTarget=n}_onDragEnter(t){var{target:e,targets:i}=this.findDragTargets(t),t={e:t,target:e,subTargets:i,dragSource:this._dragSource};this.fire("dragenter",t),this._fireEnterLeaveEvents(e,t)}_onDragLeave(t){var e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){var{target:e,targets:i}=this.findDragTargets(t),e=this._basicEventHandler("drop:before",j({e:t,target:e,subTargets:i,dragSource:this._dragSource},$s(this,t)));e.didDrop=!1,e.dropTarget=void 0,this._basicEventHandler("drop",e),this.fire("drop:after",e)}_onContextMenu(t){var e=this.findTarget(t),i=this.targets||[],e=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:i});return this.stopContextMenu&&be(t),this._basicEventHandler("contextmenu",e),!1}_onDoubleClick(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData()}getPointerId(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){let e=!this.allowTouchScrolling;var i=this._activeObject,i=(void 0===this.mainTouchId&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(e=this.isDrawingMode||i&&this._target===i?!0:e)&&t.preventDefault(),this._resetTransformEventData(),this.upperCanvasEl),t=this._getEventPrefix(),r=le(i);Gs(r,"touchend",this._onTouchEnd,a),e&&Gs(r,"touchmove",this._onMouseMove,a),qs(i,"".concat(t,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();var t=this.upperCanvasEl,e=this._getEventPrefix(),t=(qs(t,"".concat(e,"move"),this._onMouseMove,a),le(t));Gs(t,"".concat(e,"up"),this._onMouseUp),Gs(t,"".concat(e,"move"),this._onMouseMove,a)}_onTouchEnd(i){if(!(0<i.touches.length)){this.__onMouseUp(i),this._resetTransformEventData(),delete this.mainTouchId;let t=this._getEventPrefix(),e=le(this.upperCanvasEl);qs(e,"touchend",this._onTouchEnd,a),qs(e,"touchmove",this._onMouseMove,a),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Gs(this.upperCanvasEl,"".concat(t,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();var e=this.upperCanvasEl,i=this._getEventPrefix();if(this._isMainEvent(t)){let t=le(this.upperCanvasEl);qs(t,"".concat(i,"up"),this._onMouseUp),qs(t,"".concat(i,"move"),this._onMouseMove,a),Gs(e,"".concat(i,"move"),this._onMouseMove,a)}}_onMouseMove(t){var e=this.getActiveObject();this.allowTouchScrolling||e&&e.shouldStartDragging(t)||!t.preventDefault||t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){var e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(n){var t;this._cacheTransformEventData(n),this._handleEvent(n,"up:before");let o=this._currentTransform,e=this._isClick,l=this._target,i=n.button;if(i)(this.fireMiddleClick&&1===i||this.fireRightClick&&2===i)&&this._handleEvent(n,"up"),this._resetTransformEventData();else if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(n);else if(this._isMainEvent(n)){let r,s,a=!1;if(o&&(this._finalizeCurrentTransform(n),a=o.actionPerformed),!e){let t=l===this._activeObject;this.handleSelection(n),a=a||this._shouldRender(l)||!t&&l===this._activeObject}if(l){let t=l.findControl(this.getViewportPoint(n),ye(n)),{key:e,control:i}=t||{};if(s=e,l.selectable&&l!==this._activeObject&&"up"===l.activeOn)this.setActiveObject(l,n),a=!0;else if(i){let t=i.getMouseUpHandler(n,l,i);t&&(r=this.getScenePoint(n),t.call(i,n,o,r.x,r.y))}l.isMoving=!1}if(o&&(o.target!==l||o.corner!==s)){let t=o.target&&o.target.controls[o.corner],e=t&&t.getMouseUpHandler(n,o.target,t);r=r||this.getScenePoint(n),e&&e.call(t,n,o,r.x,r.y)}this._setCursorFromEvent(n,l),this._handleEvent(n,"up"),this._groupSelector=null,this._currentTransform=null,l&&(l.__corner=void 0),a?this.requestRenderAll():e||null!=(t=this._activeObject)&&t.isEditing||this.renderTop()}}_basicEventHandler(e,i){var{target:r,subTargets:s=[]}=i;this.fire(e,i),r&&r.fire(e,i);for(let t=0;t<s.length;t++)s[t]!==r&&s[t].fire(e,i);return i}_handleEvent(t,e){var i=this._target,r=this.targets||[],s=j(j({e:t,target:i,subTargets:r},$s(this,t)),{},{transform:this._currentTransform},"up:before"===e||"up"===e?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(e),s),i&&i.fire("mouse".concat(e),s);for(let t=0;t<r.length;t++)r[t]!==i&&r[t].fire("mouse".concat(e),s)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());var e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")}_onMouseMoveInDrawingMode(t){var e;this._isCurrentlyDrawing&&(e=this.getScenePoint(t),this.freeDrawingBrush)&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e}),this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){var e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(a){this._isClick=!0,this._cacheTransformEventData(a),this._handleEvent(a,"down:before");let n=this._target,t=a.button;if(t)(this.fireMiddleClick&&1===t||this.fireRightClick&&2===t)&&this._handleEvent(a,"down"),this._resetTransformEventData();else if(this.isDrawingMode)this._onMouseDownInDrawingMode(a);else if(this._isMainEvent(a)&&!this._currentTransform){let t=this._shouldRender(n),e=!1;if(this.handleMultiSelection(a,n)?(n=this._activeObject,e=!0,t=!0):this._shouldClearSelection(a,n)&&this.discardActiveObject(a),this.selection&&(!n||!n.selectable&&!n.isEditing&&n!==this._activeObject)){let t=this.getScenePoint(a);this._groupSelector={x:t.x,y:t.y,deltaY:0,deltaX:0}}if(n){let r=n===this._activeObject,s=(n.selectable&&"down"===n.activeOn&&this.setActiveObject(n,a),n.findControl(this.getViewportPoint(a),ye(a)));if(n===this._activeObject&&(s||!e)){this._setupCurrentTransform(a,n,r);let t=s?s.control:void 0,e=this.getScenePoint(a),i=t&&t.getMouseDownHandler(a,n,t);i&&i.call(t,a,this._currentTransform,e.x,e.y)}}t&&(this._objectsToRender=void 0),this._handleEvent(a,"down"),t&&this.requestRenderAll()}}_resetTransformEventData(){this._target=void 0,this._pointer=void 0,this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=Ee(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(e){if(this._isClick=!1,this._cacheTransformEventData(e),this._handleEvent(e,"move:before"),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){let t=this._groupSelector;if(t){var i=this.getScenePoint(e);t.deltaX=i.x-t.x,t.deltaY=i.y-t.y,this.renderTop()}else if(this._currentTransform)this._transformObject(e);else{let t=this.findTarget(e);this._setCursorFromEvent(e,t),this._fireOverOutEvents(e,t)}this.textEditingManager.onMouseMove(e),this._handleEvent(e,"move"),this._resetTransformEventData()}}_fireOverOutEvents(e,t){var i=this._hoveredTarget,r=this._hoveredTargets,s=this.targets,a=Math.max(r.length,s.length);this.fireSyntheticInOutEvents("mouse",{e:e,target:t,oldTarget:i,fireCanvas:!0});for(let t=0;t<a;t++)this.fireSyntheticInOutEvents("mouse",{e:e,target:s[t],oldTarget:r[t]});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){var i=this._draggedoverTarget,r=this._hoveredTargets,s=this.targets,a=Math.max(r.length,s.length);this.fireSyntheticInOutEvents("drag",j(j({},e),{},{target:t,oldTarget:i,fireCanvas:!0}));for(let t=0;t<a;t++)this.fireSyntheticInOutEvents("drag",j(j({},e),{},{target:s[t],oldTarget:r[t]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){var{target:i,oldTarget:r,fireCanvas:s,e:a}=e,e=u(e,Us),{targetIn:n,targetOut:o,canvasIn:l,canvasOut:h}=Ks[t],t=r!==i;if(r&&t){let t=j(j({},e),{},{e:a,target:r,nextTarget:i},$s(this,a));s&&this.fire(h,t),r.fire(o,t)}if(i&&t){let t=j(j({},e),{},{e:a,target:i,previousTarget:r},$s(this,a));s&&this.fire(l,t),i.fire(n,t)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){var e=this.getScenePoint(t),i=this._currentTransform,r=i.target,r=r.group?Ee(e,void 0,r.group.calcTransformMatrix()):e;i.shiftKey=t.shiftKey,i.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,i,r),i.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,i){var{action:r,actionHandler:s,target:a}=e,s=!!s&&s(t,e,i.x,i.y);s&&a.setCoords(),"drag"===r&&s&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||s}_setCursorFromEvent(i,r){if(r){let e=r.hoverCursor||this.hoverCursor;var s=ae(this._activeObject)?this._activeObject:null,s=(!s||r.group!==s)&&r.findControl(this.getViewportPoint(i));if(s){let t=s.control;this.setCursor(t.cursorStyleHandler(i,t,r))}else r.subTargetCheck&&this.targets.concat().reverse().map(t=>{e=t.hoverCursor||e}),this.setCursor(e)}else this.setCursor(this.defaultCursor)}handleMultiSelection(i,r){let s=this._activeObject,t=ae(s);if(!(s&&this._isSelectionKeyPressed(i)&&this.selection&&r&&r.selectable)||s===r&&!t||!t&&(r.isDescendantOf(s)||s.isDescendantOf(r))||r.onSelect({e:i})||s.getActiveControl())return!1;if(t){let e=s.getObjects();if(r===s){let t=this.getViewportPoint(i);if(!(r=this.searchPossibleTargets(e,t)||this.searchPossibleTargets(this._objects,t))||!r.selectable)return!1}r.group===s?(s.remove(r),this._hoveredTarget=r,this._hoveredTargets=[...this.targets],1===s.size()&&this._setActiveObject(s.item(0),i)):(s.multiSelectAdd(r),this._hoveredTarget=s,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(e,i)}else{s.isEditing&&s.exitEditing();let t=new(d.getClass("ActiveSelection"))([],{canvas:this});t.multiSelectAdd(s,r),this._hoveredTarget=t,this._setActiveObject(t,i),this._fireSelectionEvents([s],i)}return!0}handleSelection(e){if(!this.selection||!this._groupSelector)return!1;let{x:t,y:i,deltaX:r,deltaY:s}=this._groupSelector,a=new b(t,i),n=a.add(new b(r,s)),o=a.min(n),l=a.max(n).subtract(o),h=this.collectObjects({left:o.x,top:o.y,width:l.x,height:l.y},{includeIntersecting:!this.selectionFullyContained}),c=a.eq(n)?h[0]?[h[0]]:[]:1<h.length?h.filter(t=>!t.onSelect({e:e})).reverse():h;if(1===c.length)this.setActiveObject(c[0],e);else if(1<c.length){let t=d.getClass("ActiveSelection");this.setActiveObject(new t(c,{canvas:this}),e)}return!(this._groupSelector=null)}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}let Qs={x1:0,y1:0,x2:0,y2:0},Zs=j(j({},Qs),{},{r1:0,r2:0}),ta=(t,e)=>isNaN(t)&&"number"==typeof e?e:t,ea=/^(\d+\.\d+)%|(\d+)%$/;function ia(t){return t&&ea.test(t)}function ra(t,e){t="number"==typeof t?t:"string"==typeof t?parseFloat(t)/(ia(t)?100:1):NaN;return pi(0,ta(t,e),1)}let sa=/\s*;\s*/,aa=/\s*:\s*/;function na(t,e){var i=[],r=t.getElementsByTagName("stop"),s=ra(e,1);for(let t=r.length;t--;)i.push(((t,e)=>{let s,a,i=t.getAttribute("style");if(i){let r=i.split(sa);""===r[r.length-1]&&r.pop();for(let i=r.length;i--;){let[t,e]=r[i].split(aa).map(t=>t.trim());"stop-color"===t?s=e:"stop-opacity"===t&&(a=e)}}let r=new E(s||t.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:ra(t.getAttribute("offset"),0),color:r.toRgb(),opacity:ta(parseFloat(a||t.getAttribute("stop-opacity")||""),1)*r.getAlpha()*e}})(r[t],s));return i}function oa(t){return"linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?"linear":"radial"}function la(t){return"userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage"}function ha(t,e){return t.getAttribute(e)}class ca{constructor(t){var{type:t="linear",gradientUnits:e="pixels",coords:i={},colorStops:r=[],offsetX:s=0,offsetY:a=0,gradientTransform:n,id:o}=t||{};Object.assign(this,{type:t,gradientUnits:e,coords:j(j({},"radial"===t?Zs:Qs),i),colorStops:r,offsetX:s,offsetY:a,gradientTransform:n,id:o?"".concat(o,"_").concat(Mt++):Mt++})}addColorStop(t){for(var e in t){var i=new E(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this}toObject(t){return j(j({},Nt(this,t)),{},{type:this.type,coords:j({},this.coords),colorStops:this.colorStops.map(t=>j({},t)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).additionalTransform,l=[],i=(this.gradientTransform||p).concat(),r="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox",h=this.colorStops.map(t=>j({},t)).sort((t,e)=>t.offset-e.offset),s=-this.offsetX,a=-this.offsetY;"objectBoundingBox"===r?(s/=t.width,a/=t.height):(s+=t.width/2,a+=t.height/2),t&&"function"==typeof t._renderPathCommands&&"percentage"!==this.gradientUnits&&(s-=t.pathOffset.x,a-=t.pathOffset.y),i[4]-=s,i[5]-=a;var n,c=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(r,'"'),'gradientTransform="'.concat(e?e+" ":"").concat(ee(i),'"'),""].join(" ");if("linear"===this.type){let{x1:t,y1:e,x2:i,y2:r}=this.coords;l.push("<linearGradient ",c,' x1="',t,'" y1="',e,'" x2="',i,'" y2="',r,'">\n')}else if("radial"===this.type){let{x1:t,y1:e,x2:i,y2:r,r1:s,r2:a}=this.coords,n=s>a,o=(l.push("<radialGradient ",c,' cx="',n?t:i,'" cy="',n?e:r,'" r="',n?s:a,'" fx="',n?i:t,'" fy="',n?r:e,'">\n'),n&&(h.reverse(),h.forEach(t=>{t.offset=1-t.offset})),Math.min(s,a));if(0<o){let e=o/Math.max(s,a);h.forEach(t=>{t.offset+=e*(1-t.offset)})}}return h.forEach(t=>{var{color:t,offset:e,opacity:i}=t;l.push("<stop ",'offset="',100*e+"%",'" style="stop-color:',t,void 0!==i?";stop-opacity: "+i:";",'"/>\n')}),l.push("linear"===this.type?"</linearGradient>":"</radialGradient>","\n"),l.join("")}toLive(t){let{x1:e,y1:i,x2:r,y2:s,r1:a,r2:n}=this.coords,o="linear"===this.type?t.createLinearGradient(e,i,r,s):t.createRadialGradient(e,i,a,r,s,n);return this.colorStops.forEach(t=>{var{color:t,opacity:e,offset:i}=t;o.addColorStop(i,void 0!==e?new E(t).setAlpha(e).toRgba():t)}),o}static async fromObject(t){var{colorStops:e,gradientTransform:i}=t;return new this(j(j({},t),{},{colorStops:e?e.map(t=>j({},t)):void 0,gradientTransform:i?[...i]:void 0}))}static fromElement(t,e,i){var r=la(t),s=e._findCenterFromElement();return new this(j({id:t.getAttribute("id")||void 0,type:oa(t),coords:((t,e)=>{{var o="linear"===oa(t)?{x1:ha(i=t,"x1")||0,y1:ha(i,"y1")||0,x2:ha(i,"x2")||"100%",y2:ha(i,"y2")||0}:{x1:ha(i=t,"fx")||ha(i,"cx")||"50%",y1:ha(i,"fy")||ha(i,"cy")||"50%",r1:0,x2:ha(i,"cx")||"50%",y2:ha(i,"cy")||"50%",r2:ha(i,"r")||"50%"};e=j(j({},e),{},{gradientUnits:la(t)});let r,{width:s,height:a,gradientUnits:n}=e;return Object.keys(o).reduce((t,e)=>{var i=o[e];return"Infinity"===i?r=1:"-Infinity"===i?r=0:(r="string"==typeof i?parseFloat(i):i,"string"==typeof i&&ia(i)&&(r*=.01,"pixels"===n)&&("x1"!==e&&"x2"!==e&&"r2"!==e||(r*=s),"y1"!==e&&"y2"!==e||(r*=a))),t[e]=r,t},{})}var i})(t,{width:i.viewBoxWidth||i.width,height:i.viewBoxHeight||i.height}),colorStops:na(t,i.opacity),gradientUnits:r,gradientTransform:Xr(t.getAttribute("gradientTransform")||"")},"pixels"===r?{offsetX:e.width/2-s.x,offsetY:e.height/2-s.y}:{offsetX:0,offsetY:0}))}}c(ca,"type","Gradient"),d.setClass(ca,"gradient"),d.setClass(ca,"linear"),d.setClass(ca,"radial");let da=["type","source","patternTransform"];class ua{get type(){return"pattern"}set type(t){N("warn","Setting type has no effect",t)}constructor(t){c(this,"repeat","repeat"),c(this,"offsetX",0),c(this,"offsetY",0),c(this,"crossOrigin",""),this.id=Mt++,Object.assign(this,t)}isImageSource(){return!!this.source&&"string"==typeof this.source.src}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&0!==this.source.naturalWidth&&0!==this.source.naturalHeight)?t.createPattern(this.source,this.repeat):null}toObject(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],{repeat:e,crossOrigin:i}=this;return j(j({},Nt(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:i,offsetX:R(this.offsetX,F.NUM_FRACTION_DIGITS),offsetY:R(this.offsetY,F.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){var{width:t,height:e}=t,{source:i,repeat:r,id:s}=this,a=ta(this.offsetX/t,0),n=ta(this.offsetY/e,0),t="repeat-y"===r||"no-repeat"===r?1+Math.abs(a||0):ta(i.width/t,0),r="repeat-x"===r||"no-repeat"===r?1+Math.abs(n||0):ta(i.height/e,0);return['<pattern id="SVGID_'.concat(s,'" x="').concat(a,'" y="').concat(n,'" width="').concat(t,'" height="').concat(r,'">'),'<image x="0" y="0" width="'.concat(i.width,'" height="').concat(i.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join("\n")}static async fromObject(t,e){var{source:i,patternTransform:r}=t,t=u(t,da),i=await Ft(i,j(j({},e),{},{crossOrigin:t.crossOrigin}));return new this(j(j({},t),{},{patternTransform:r&&r.slice(0),source:i}))}}c(ua,"type","Pattern"),d.setClass(ua),d.setClass(ua,"pattern");class pa{constructor(t){c(this,"color","rgb(0, 0, 0)"),c(this,"width",1),c(this,"shadow",null),c(this,"strokeLineCap","round"),c(this,"strokeLineJoin","round"),c(this,"strokeMiterLimit",10),c(this,"strokeDashArray",null),c(this,"limitedToCanvasSize",!1),this.canvas=t}_setBrushStyles(t){t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])}_saveAndTransform(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}needsFullRender(){return new E(this.color).getAlpha()<1||!!this.shadow}_setShadow(){var t,e,i;this.shadow&&this.canvas&&(i=this.canvas,t=this.shadow,e=i.contextTop,i=i.getZoom()*i.getRetinaScaling(),e.shadowColor=t.color,e.shadowBlur=t.blur*i,e.shadowOffsetX=t.offsetX*i,e.shadowOffsetY=t.offsetY*i)}_resetShadow(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}_isOutSideCanvas(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}let fa=["path","left","top"],ga=["d"];class ma extends L{constructor(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{left:i,top:r}=e,e=u(e,fa);super(),Object.assign(this,ma.ownDefaults),this.setOptions(e),this._setPath(t||[],!0),"number"==typeof i&&this.set(x,i),"number"==typeof r&&this.set(h,r)}_setPath(t,e){this.path=Cs(Array.isArray(t)?t:Fs(t)),this.setBoundingBox(e)}_findCenterFromElement(){var t=this._calcBoundsFromPath();return new b(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){var e,i=-this.pathOffset.x,r=-this.pathOffset.y;t.beginPath();for(e of this.path)switch(e[0]){case"L":t.lineTo(e[1]+i,e[2]+r);break;case"M":t.moveTo(e[1]+i,e[2]+r);break;case"C":t.bezierCurveTo(e[1]+i,e[2]+r,e[3]+i,e[4]+r,e[5]+i,e[6]+r);break;case"Q":t.quadraticCurveTo(e[1]+i,e[2]+r,e[3]+i,e[4]+r);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){return j(j({},super.toObject(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[])),{},{path:this.path.map(t=>t.slice())})}toDatalessObject(){var t=this.toObject(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]);return this.sourcePath&&(delete t.path,t.sourcePath=this.sourcePath),t}_toSVG(){var t=Rs(this.path,F.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,'" stroke-linecap="round" />\n')]}_getOffsetTransform(){var t=F.NUM_FRACTION_DIGITS;return" translate(".concat(R(-this.pathOffset.x,t),", ").concat(R(-this.pathOffset.y,t),")")}toClipPathSVG(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){var{width:e,height:i,pathOffset:r}=this._calcDimensions();this.set({width:e,height:i,pathOffset:r}),t&&this.setPositionByOrigin(r,v,v)}_calcBoundsFromPath(){var t,e=[];let i=0,r=0,s=0,a=0;for(t of this.path)switch(t[0]){case"L":s=t[1],a=t[2],e.push({x:i,y:r},{x:s,y:a});break;case"M":s=t[1],a=t[2],i=s,r=a;break;case"C":e.push(..._s(s,a,t[1],t[2],t[3],t[4],t[5],t[6])),s=t[5],a=t[6];break;case"Q":e.push(..._s(s,a,t[1],t[2],t[1],t[2],t[3],t[4])),s=t[3],a=t[4];break;case"Z":s=i,a=r}return xe(e)}_calcDimensions(){var t=this._calcBoundsFromPath();return j(j({},t),{},{pathOffset:new b(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static async fromElement(t,e,i){t=$r(t,this.ATTRIBUTE_NAMES,i),i=t.d;return new this(i,j(j(j({},u(t,ga)),e),{},{left:void 0,top:void 0}))}}c(ma,"type","Path"),c(ma,"cacheProperties",[...gi,"path","fillRule"]),c(ma,"ATTRIBUTE_NAMES",[...Mr,"d"]),d.setClass(ma),d.setSVGClass(ma);class va extends pa{constructor(t){super(t),c(this,"decimate",.4),c(this,"drawStraightLine",!1),c(this,"straightLineKey","shiftKey"),this._points=[],this._hasStraightLine=!1}needsFullRender(){return super.needsFullRender()||this._hasStraightLine}static drawSegment(t,e,i){i=e.midPointFrom(i);return t.quadraticCurveTo(e.x,e.y,i.x,i.y),i}onMouseDown(t,e){e=e.e;this.canvas._isMainEvent(e)&&(this.drawStraightLine=!!this.straightLineKey&&e[this.straightLineKey],this._prepareForDrawing(t),this._addPoint(t),this._render())}onMouseMove(t,e){let i=e.e;if(this.canvas._isMainEvent(i)&&(this.drawStraightLine=!!this.straightLineKey&&i[this.straightLineKey],!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._addPoint(t)&&1<this._points.length)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{let t=this._points,e=t.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=va.drawSegment(i,t[e-2],t[e-1]),i.stroke(),i.restore()}}onMouseUp(t){t=t.e;return!this.canvas._isMainEvent(t)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)}_prepareForDrawing(t){this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)}_addPoint(t){return!(1<this._points.length&&t.eq(this._points[this._points.length-1])||(this.drawStraightLine&&1<this._points.length&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(t),0))}_reset(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1}_render(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.canvas.contextTop,i=this._points[0],r=this._points[1];if(this._saveAndTransform(e),e.beginPath(),2===this._points.length&&i.x===r.x&&i.y===r.y){let t=this.width/1e3;i.x-=t,r.x+=t}e.moveTo(i.x,i.y);for(let t=1;t<this._points.length;t++)va.drawSegment(e,i,r),i=this._points[t],r=this._points[t+1];e.lineTo(i.x,i.y),e.stroke(),e.restore()}convertPointsToSVGPath(t){var e=this.width/1e3;return Ss(t,e)}createPath(t){t=new ma(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new ui(this.shadow)),t}decimatePoints(e,t){if(e.length<=2)return e;let i=e[0];var r=this.canvas.getZoom(),s=Math.pow(t/r,2),a=e.length-1,n=[i];for(let t=1;t<a-1;t++)s<=Math.pow(i.x-e[t].x,2)+Math.pow(i.y-e[t].y,2)&&(i=e[t],n.push(i));return n.push(e[a]),n}_finalizeAndAddPath(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t,e=this.convertPointsToSVGPath(this._points);t=e,"M 0 0 Q 0 0 0 0 L 0 0"===Rs(t)?this.canvas.requestRenderAll():(t=this.createPath(e),this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t}))}}let ya=["left","top","radius"],ba=["radius","startAngle","endAngle","counterClockwise"];class xa extends L{static getDefaults(){return j(j({},super.getDefaults()),xa.ownDefaults)}constructor(t){super(),Object.assign(this,xa.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),"radius"===t&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,T(this.startAngle),T(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(f)}getRadiusY(){return this.get("radius")*this.get(g)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...ba,...t])}_toSVG(){var t,e,i,r,s,a,n=(this.endAngle-this.startAngle)%360;return 0==n?["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),'" />\n']:(t=this.radius,i=T(this.startAngle),s=T(this.endAngle),e=yt(i)*t,i=bt(i)*t,r=yt(s)*t,s=bt(s)*t,n=180<n?1:0,a=this.counterClockwise?0:1,['<path d="M '.concat(e," ").concat(i," A ").concat(t," ").concat(t," 0 ").concat(n," ").concat(a," ").concat(r," ").concat(s,'" '),"COMMON_PARTS"," />\n"])}static async fromElement(t,e,i){var t=$r(t,this.ATTRIBUTE_NAMES,i),{left:i=0,top:r=0,radius:s=0}=t;return new this(j(j({},u(t,ya)),{},{radius:s,left:i-s,top:r-s}))}static fromObject(t){return super._fromObject(t)}}c(xa,"type","Circle"),c(xa,"cacheProperties",[...gi,...ba]),c(xa,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),c(xa,"ATTRIBUTE_NAMES",["cx","cy","r",...Mr]),d.setClass(xa),d.setSVGClass(xa);let _a=["x1","y1","x2","y2"],wa=["x1","y1","x2","y2"],Sa=["x1","x2","y1","y2"];class Ca extends L{constructor(){var[t,e,i,r]=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{left:t,top:i}=(super(),Object.assign(this,Ca.ownDefaults),this.setOptions(s),this.x1=t,this.x2=i,this.y1=e,this.y2=r,this._setWidthHeight(),s);"number"==typeof t&&this.set(x,t),"number"==typeof i&&this.set(h,i)}_setWidthHeight(){var{x1:t,y1:e,x2:i,y2:r}=this,{left:t,top:e,width:i,height:r}=(this.width=Math.abs(i-t),this.height=Math.abs(r-e),xe([{x:t,y:e},{x:i,y:r}])),t=new b(t+i/2,e+r/2);this.setPositionByOrigin(t,v,v)}_set(t,e){return super._set(t,e),Sa.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();var e,i=this.calcLinePoints(),i=(t.moveTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineWidth=this.strokeWidth,t.strokeStyle);O(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=null!=(e=this.stroke)?e:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i}_findCenterFromElement(){return new b((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){return j(j({},super.toObject(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[])),this.calcLinePoints())}_getNonTransformedDimensions(){var t=super._getNonTransformedDimensions();return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height)&&(t.x-=this.strokeWidth),t}calcLinePoints(){var{x1:t,x2:e,y1:i,y2:r,width:s,height:a}=this,t=t<=e?-1:1,e=i<=r?-1:1;return{x1:t*s/2,x2:t*-s/2,y1:e*a/2,y2:e*-a/2}}_toSVG(){var{x1:t,x2:e,y1:i,y2:r}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(i,'" x2="').concat(e,'" y2="').concat(r,'" />\n')]}static async fromElement(t,e,i){var t=$r(t,this.ATTRIBUTE_NAMES,i),{x1:i=0,y1:r=0,x2:s=0,y2:a=0}=t;return new this([i,r,s,a],u(t,_a))}static fromObject(t){var{x1:e,y1:i,x2:r,y2:s}=t,t=u(t,wa);return this._fromObject(j(j({},t),{},{points:[e,i,r,s]}),{extraParam:"points"})}}c(Ca,"type","Line"),c(Ca,"cacheProperties",[...gi,...Sa]),c(Ca,"ATTRIBUTE_NAMES",Mr.concat(Sa)),d.setClass(Ca),d.setSVGClass(Ca);class Ta extends L{static getDefaults(){return j(j({},super.getDefaults()),Ta.ownDefaults)}constructor(t){super(),Object.assign(this,Ta.ownDefaults),this.setOptions(t)}_render(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}}c(Ta,"type","Triangle"),c(Ta,"ownDefaults",{width:100,height:100}),d.setClass(Ta),d.setSVGClass(Ta);let ka=["rx","ry"];class Ma extends L{static getDefaults(){return j(j({},super.getDefaults()),Ma.ownDefaults)}constructor(t){super(),Object.assign(this,Ma.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(f)}getRy(){return this.get("ry")*this.get(g)}toObject(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return super.toObject([...ka,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,'" />\n')]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,Z,!1),t.restore(),this._renderPaintInOrder(t)}static async fromElement(t,e,i){t=$r(t,this.ATTRIBUTE_NAMES,i);return t.left=(t.left||0)-t.rx,t.top=(t.top||0)-t.ry,new this(t)}}function Ea(t){if(!t)return[];var e=t.replace(/,/g," ").trim().split(/\s+/),i=[];for(let t=0;t<e.length;t+=2)i.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return i}c(Ma,"type","Ellipse"),c(Ma,"cacheProperties",[...gi,...ka]),c(Ma,"ownDefaults",{rx:0,ry:0}),c(Ma,"ATTRIBUTE_NAMES",[...Mr,"cx","cy","rx","ry"]),d.setClass(Ma),d.setSVGClass(Ma);let Pa=["left","top"],Oa={exactBoundingBox:!1};class Da extends L{static getDefaults(){return j(j({},super.getDefaults()),Da.ownDefaults)}constructor(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{left:t,top:e}=(super(),c(this,"strokeDiff",void 0),Object.assign(this,Da.ownDefaults),this.setOptions(e),this.points=t,e);this.initialized=!0,this.setBoundingBox(!0),"number"==typeof t&&this.set(x,t),"number"==typeof e&&this.set(h,e)}isOpen(){return!0}_projectStrokeOnPoints(t){return br(this.points,t,this.isOpen())}_calcDimensions(t){t=j({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});var e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(t=>t.projectedPoint):this.points;if(0===e.length)return{left:0,top:0,width:0,height:0,pathOffset:new b,strokeOffset:new b,strokeDiff:new b};let i=xe(e),r=Yt(j(j({},t),{},{scaleX:1,scaleY:1})),s=xe(this.points.map(t=>l(t,r,!0))),a=new b(this.scaleX,this.scaleY),n=i.left+i.width/2,o=i.top+i.height/2;return this.exactBoundingBox&&(n-=o*Math.tan(T(this.skewX)),o-=n*Math.tan(T(this.skewY))),j(j({},i),{},{pathOffset:new b(n,o),strokeOffset:new b(s.left,s.top).subtract(new b(i.left,i.top)).multiply(a),strokeDiff:new b(i.width,i.height).subtract(new b(s.width,s.height)).multiply(a)})}_findCenterFromElement(){var t=xe(this.points);return new b(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){var{left:e,top:i,width:r,height:s,pathOffset:a,strokeOffset:n,strokeDiff:o}=this._calcDimensions();this.set({width:r,height:s,pathOffset:a,strokeOffset:n,strokeDiff:o}),t&&this.setPositionByOrigin(new b(e+r/2,i+s/2),v,v)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new b(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){var t,e,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(this.exactBoundingBox){let s;if(Object.keys(a).some(t=>this.strokeUniform||this.constructor.layoutProperties.includes(t))){let t,e,{width:i,height:r}=this._calcDimensions(a);s=new b(null!=(t=a.width)?t:i,null!=(e=a.height)?e:r)}else s=new b(null!=(t=a.width)?t:this.width,null!=(e=a.height)?e:this.height);return s.multiply(new b(a.scaleX||this.scaleX,a.scaleY||this.scaleY))}return super._getTransformedDimensions(a)}_set(t,e){var i=this.initialized&&this[t]!==e,e=super._set(t,e);return this.exactBoundingBox&&i&&((t===f||t===g)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),e}toObject(){return j(j({},super.toObject(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[])),{},{points:this.points.map(t=>{var{x:t,y:e}=t;return{x:t,y:e}})})}_toSVG(){var i=[],r=this.pathOffset.x,s=this.pathOffset.y,a=F.NUM_FRACTION_DIGITS;for(let t=0,e=this.points.length;t<e;t++)i.push(R(this.points[t].x-r,a),",",R(this.points[t].y-s,a)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(i.join(""),'" />\n')]}_render(i){let t=this.points.length,r=this.pathOffset.x,s=this.pathOffset.y;if(t&&!isNaN(this.points[t-1].y)){i.beginPath(),i.moveTo(this.points[0].x-r,this.points[0].y-s);for(let e=0;e<t;e++){let t=this.points[e];i.lineTo(t.x-r,t.y-s)}this.isOpen()||i.closePath(),this._renderPaintInOrder(i)}}complexity(){return this.points.length}static async fromElement(t,e,i){return new this(Ea(t.getAttribute("points")),j(j({},u($r(t,this.ATTRIBUTE_NAMES,i),Pa)),e))}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}}c(Da,"ownDefaults",Oa),c(Da,"type","Polyline"),c(Da,"layoutProperties",[ut,pt,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),c(Da,"cacheProperties",[...gi,"points"]),c(Da,"ATTRIBUTE_NAMES",[...Mr]),d.setClass(Da),d.setSVGClass(Da);class Aa extends Da{isOpen(){return!1}}c(Aa,"ownDefaults",Oa),c(Aa,"type","Polygon"),d.setClass(Aa),d.setSVGClass(Aa);let La=["fontSize","fontWeight","fontFamily","fontStyle"],Ia=["underline","overline","linethrough"],ja=[...La,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],Fa=[...ja,...Ia,"textBackgroundColor","direction"],Ra=[...La,...Ia,m,"strokeWidth",C,"deltaY","textBackgroundColor"],Ba={_reNewline:st,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:x,fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:x,pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},Na="justify",za="justify-left",Ha="justify-right",Wa="justify-center";class Va extends L{isEmptyStyles(t){if(this.styles&&(void 0===t||this.styles[t])){var e=void 0===t?this.styles:{line:this.styles[t]};for(let t in e)for(var i in e[t])for(var r in e[t][i])return!1}return!0}styleHas(e,t){if(this.styles&&(void 0===t||this.styles[t])){var i=void 0===t?this.styles:{0:this.styles[t]};for(let t in i)for(var r in i[t])if(void 0!==i[t][r][e])return!0}return!1}cleanStyle(e){if(!this.styles)return!1;var i=this.styles;let r,s,a=0,n=!0,o=0;for(let t in i){for(var l in r=0,i[t]){var h=i[t][l]||{};a++,void 0!==h[e]?(s?h[e]!==s&&(n=!1):s=h[e],h[e]===this[e]&&delete h[e]):n=!1,0!==Object.keys(h).length?r++:delete i[t][l]}0===r&&delete i[t]}for(let t=0;t<this._textLines.length;t++)o+=this._textLines[t].length;n&&a===o&&(this[e]=s,this.removeStyle(e))}removeStyle(r){if(this.styles){var s=this.styles;let t,e,i;for(e in s){for(i in t=s[e])delete t[i][r],0===Object.keys(t[i]).length&&delete t[i];0===Object.keys(t).length&&delete s[e]}}}_extendStyles(t,e){var{lineIndex:t,charIndex:i}=this.get2DCursorLocation(t),e=(this._getLineStyle(t)||this._setLineStyle(t),qt(j(j({},this._getStyleDeclaration(t,i)),e),t=>void 0!==t));this._setStyleDeclaration(t,i,e)}getSelectionStyles(e,i,r){var s=[];for(let t=e;t<(i||e);t++)s.push(this.getStyleAtPosition(t,r));return s}getStyleAtPosition(t,e){var{lineIndex:t,charIndex:i}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(t,i):this._getStyleDeclaration(t,i)}setSelectionStyles(e,i,r){for(let t=i;t<(r||i);t++)this._extendStyles(t,e);this._forceClearCache=!0}_getStyleDeclaration(t,e){var t=this.styles&&this.styles[t];return t&&null!=(t=t[e])?t:{}}getCompleteStyleDeclaration(t,e){return j(j({},Nt(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,i){this.styles[t][e]=i}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}}c(Va,"_styleProperties",Ra);let Xa=/  +/g,Ya=/"/g;function Ga(t,e,i,r,s){return"\t\t".concat(function(t,e,i){let{left:r,top:s,width:a,height:n}=e,o=2<arguments.length&&void 0!==i?i:F.NUM_FRACTION_DIGITS;var e=Zt(C,t,!1),[i,t,l,h]=[r,s,a,n].map(t=>R(t,o));return"<rect ".concat(e,' x="').concat(i,'" y="').concat(t,'" width="').concat(l,'" height="').concat(h,'"></rect>')}(t,{left:e,top:i,width:r,height:s}),"\n")}let qa=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],Ua;class B extends Va{static getDefaults(){return j(j({},super.getDefaults()),B.ownDefaults)}constructor(t,e){super(),c(this,"__charBounds",[]),Object.assign(this,B.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){var t=this.path;t&&(t.segmentsInfo=Ds(t.path))}_splitText(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(Na)&&this.enlargeSpaces()}enlargeSpaces(){let i,r,s,a,n,o,l;for(let e=0,t=this._textLines.length;e<t;e++)if((this.textAlign===Na||e!==t-1&&!this.isEndOfWrapping(e))&&(a=0,n=this._textLines[e],(r=this.getLineWidth(e))<this.width)&&(l=this.textLines[e].match(this._reSpacesAndTabs))){s=l.length,i=(this.width-r)/s;for(let t=0;t<=n.length;t++)o=this.__charBounds[e][t],this._reSpaceAndTab.test(n[t])?(o.width+=i,o.kernedWidth+=i,o.left+=a,a+=i):o.left+=a}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){var i=e?this._unwrappedTextLines:this._textLines;let r;for(r=0;r<i.length;r++){if(t<=i[r].length)return{lineIndex:r,charIndex:t};t-=i[r].length+this.missingNewlineOffset(r,e)}return{lineIndex:r-1,charIndex:i[r-1].length<t?i[r-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){var t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){var e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===m?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,i){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case v:t.textBaseline="middle";break;case"ascender":t.textBaseline=h;break;case"descender":t.textBaseline=rt}t.font=this._getFontDeclaration(e,i)}calcTextWidth(){let i=this.getLineWidth(0);for(let t=1,e=this._textLines.length;t<e;t++){var r=this.getLineWidth(t);r>i&&(i=r)}return i}_renderTextLine(t,e,i,r,s,a){this._renderChars(t,e,i,r,s,a)}_renderTextLinesBackground(l){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){var t=l.fillStyle,h=this._getLeftOffset();let o=this._getTopOffset();for(let n=0,t=this._textLines.length;n<t;n++){var c=this.getHeightOfLine(n);if(this.textBackgroundColor||this.styleHas("textBackgroundColor",n)){var d=this._textLines[n].length,u=this._getLineLeftOffset(n);let e,i,r=0,s=0,a=this.getValueOfPropertyAt(n,0,"textBackgroundColor");for(let t=0;t<d;t++){var p=this.__charBounds[n][t];i=this.getValueOfPropertyAt(n,t,"textBackgroundColor"),this.path?(l.save(),l.translate(p.renderLeft,p.renderTop),l.rotate(p.angle),(l.fillStyle=i)&&l.fillRect(-p.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),p.width,c/this.lineHeight),l.restore()):i!==a?(e=h+u+s,"rtl"===this.direction&&(e=this.width-e-r),(l.fillStyle=a)&&l.fillRect(e,o,r,c/this.lineHeight),s=p.left,r=p.width,a=i):r+=p.kernedWidth}i&&!this.path&&(e=h+u+s,"rtl"===this.direction&&(e=this.width-e-r),l.fillStyle=i,l.fillRect(e,o,r,c/this.lineHeight))}o+=c}l.fillStyle=t,this._removeShadow(l)}}_measureChar(e,i,r,t){var s,a=$.getFontCache(i),n=this._getFontDeclaration(i),o=r+e,n=r&&n===this._getFontDeclaration(t),t=i.fontSize/this.CACHE_FONT_SIZE;let l,h,c,d;if(r&&void 0!==a[r]&&(c=a[r]),void 0!==a[e]&&(d=l=a[e]),n&&void 0!==a[o]&&(h=a[o],d=h-c),void 0===l||void 0===c||void 0===h){Ua||(s=S({width:0,height:0}),Ua=s.getContext("2d"));let t=Ua;this._setTextStyles(t,i,!0),void 0===l&&(d=l=t.measureText(e).width,a[e]=l),void 0===c&&n&&r&&(c=t.measureText(r).width,a[r]=c),n&&void 0===h&&(h=t.measureText(o).width,a[o]=h,d=h-c)}return{width:l*t,kernedWidth:d*t}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){t=this._measureLine(t);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t}_measureLine(i){let r,s,a=0,n=this.pathSide===_,t=this.path,o=this._textLines[i],l=o.length,h=new Array(l);this.__charBounds[i]=h;for(let e=0;e<l;e++){let t=o[e];s=this._getGraphemeBox(t,i,e,r),h[e]=s,a+=s.kernedWidth,r=t}if(h[l]={left:s?s.left+s.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},t&&t.segmentsInfo){let e=0,i=t.segmentsInfo[t.segmentsInfo.length-1].length;switch(this.textAlign){case x:e=n?i-a:0;break;case v:e=(i-a)/2;break;case _:e=n?0:i-a}e+=this.pathStartOffset*(n?-1:1);for(let t=n?l-1:0;n?0<=t:t<l;n?t--:t++)s=h[t],e>i?e%=i:e<0&&(e+=i),this._setGraphemeOnPath(e,s),e+=s.kernedWidth}return{width:a,numOfSpaces:0}}_setGraphemeOnPath(t,e){var t=t+e.kernedWidth/2,i=this.path,t=ws(i.path,t,i.segmentsInfo);e.renderLeft=t.x-i.pathOffset.x,e.renderTop=t.y-i.pathOffset.y,e.angle=t.angle+(this.pathSide===_?Math.PI:0)}_getGraphemeBox(t,e,i,r,s){var a=this.getCompleteStyleDeclaration(e,i),n=r?this.getCompleteStyleDeclaration(e,i-1):{},r=this._measureChar(t,a,r,n);let o,l=r.kernedWidth,h=r.width;0!==this.charSpacing&&(o=this._getWidthOfCharSpacing(),h+=o,l+=o);n={width:h,left:0,height:a.fontSize,kernedWidth:l,deltaY:a.deltaY};if(0<i&&!s){let t=this.__charBounds[e][i-1];n.left=t.left+t.width+r.kernedWidth-r.width}return n}getHeightOfLine(i){if(this.__lineHeights[i])return this.__lineHeights[i];let r=this.getHeightOfChar(i,0);for(let t=1,e=this._textLines[i].length;t<e;t++)r=Math.max(this.getHeightOfChar(i,t),r);return this.__lineHeights[i]=r*this.lineHeight*this._fontSizeMult}calcTextHeight(){let i,r=0;for(let t=0,e=this._textLines.length;t<e;t++)i=this.getHeightOfLine(t),r+=t===e-1?i/this.lineHeight:i;return r}_getLeftOffset(){return"ltr"===this.direction?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(i,r){i.save();let s=0;var a=this._getLeftOffset(),n=this._getTopOffset();for(let t=0,e=this._textLines.length;t<e;t++){var o=this.getHeightOfLine(t),l=o/this.lineHeight,h=this._getLineLeftOffset(t);this._renderTextLine(r,i,this._textLines[t],a+h,n+s+l,t),s+=o}i.restore()}_renderTextFill(t){(this.fill||this.styleHas(C))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(i,r,s,a,n,o){var t=this.getHeightOfLine(o),l=this.textAlign.includes(Na),h=this.path,e=!l&&0===this.charSpacing&&this.isEmptyStyles(o)&&!h,c="ltr"===this.direction,d="ltr"===this.direction?1:-1,u=r.direction;let p,f,g,m,v,y="",b=0;if(r.save(),u!==this.direction&&(r.canvas.setAttribute("dir",c?"ltr":"rtl"),r.direction=c?"ltr":"rtl",r.textAlign=c?x:_),n-=t*this._fontSizeFraction/this.lineHeight,e)this._renderChar(i,r,o,0,s.join(""),a,n);else for(let t=0,e=s.length-1;t<=e;t++)m=t===e||this.charSpacing||h,y+=s[t],g=this.__charBounds[o][t],0===b?(a+=d*(g.kernedWidth-g.width),b+=g.width):b+=g.kernedWidth,(m=l&&!m&&this._reSpaceAndTab.test(s[t])?!0:m)||(p=p||this.getCompleteStyleDeclaration(o,t),f=this.getCompleteStyleDeclaration(o,t+1),m=xr(p,f,!1)),m&&(h?(r.save(),r.translate(g.renderLeft,g.renderTop),r.rotate(g.angle),this._renderChar(i,r,o,t,y,-b/2,0),r.restore()):(v=a,this._renderChar(i,r,o,t,y,v,n)),y="",p=f,a+=d*b,b=0);r.restore()}_applyPatternGradientTransformText(t){var e=this.width+this.strokeWidth,i=this.height+this.strokeWidth,r=S({width:e,height:i}),s=r.getContext("2d");return r.width=e,r.height=i,s.beginPath(),s.moveTo(0,0),s.lineTo(e,0),s.lineTo(e,i),s.lineTo(0,i),s.closePath(),s.translate(e/2,i/2),s.fillStyle=t.toLive(s),this._applyPatternGradientTransform(s,t),s.fill(),s.createPattern(r,"no-repeat")}handleFiller(t,e,i){var r,s;return O(i)?"percentage"===i.gradientUnits||i.gradientTransform||i.patternTransform?(r=-this.width/2,s=-this.height/2,t.translate(r,s),t[e]=this._applyPatternGradientTransformText(i),{offsetX:r,offsetY:s}):(t[e]=i.toLive(t),this._applyPatternGradientTransform(t,i)):(t[e]=i,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){var{stroke:e,strokeWidth:i}=e;return t.lineWidth=i,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e)}_setFillStyles(t,e){e=e.fill;return this.handleFiller(t,"fillStyle",e)}_renderChar(t,e,i,r,s,a,n){var o=this._getStyleDeclaration(i,r),i=this.getCompleteStyleDeclaration(i,r),r="fillText"===t&&i.fill,t="strokeText"===t&&i.stroke&&i.strokeWidth;if(t||r){if(e.save(),e.font=this._getFontDeclaration(i),o.textBackgroundColor&&this._removeShadow(e),o.deltaY&&(n+=o.deltaY),r){let t=this._setFillStyles(e,i);e.fillText(s,a-t.offsetX,n-t.offsetY)}if(t){let t=this._setStrokeStyles(e,i);e.strokeText(s,a-t.offsetX,n-t.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,i){var r=this.get2DCursorLocation(t,!0),s=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),r=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),r={fontSize:s*i.size,deltaY:r+s*i.baseline};this.setSelectionStyles(r,t,e)}_getLineLeftOffset(t){var e=this.getLineWidth(t),e=this.width-e,i=this.textAlign,r=this.direction,t=this.isEndOfWrapping(t);let s=0;return i===Na||i===Wa&&!t||i===Ha&&!t||i===za&&!t?0:(i===v&&(s=e/2),i===_&&(s=e),i===Wa&&(s=e/2),i===Ha&&(s=e),"rtl"===r&&(i===_||i===Na||i===Ha?s=0:i===x||i===za?s=-e:i!==v&&i!==Wa||(s=-e/2)),s)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){var e;return void 0!==this.__lineWidths[t]?this.__lineWidths[t]:(e=this.measureLine(t).width,this.__lineWidths[t]=e)}_getWidthOfCharSpacing(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,i){return null!=(t=this._getStyleDeclaration(t,e)[i])?t:this[i]}_renderTextDecoration(g,m){if(this[m]||this.styleHas(m)){let e=this._getTopOffset(),d=this._getLeftOffset(),u=this.path,p=this._getWidthOfCharSpacing(),f=this.offsets[m];for(let c=0,t=this._textLines.length;c<t;c++){var v=this.getHeightOfLine(c);if(this[m]||this.styleHas(m,c)){var y=this._textLines[c],b=v/this.lineHeight,x=this._getLineLeftOffset(c);let i,r,s=0,a=0,n=this.getValueOfPropertyAt(c,0,m),o=this.getValueOfPropertyAt(c,0,C);var _=e+b*(1-this._fontSizeFraction);let l=this.getHeightOfChar(c,0),h=this.getValueOfPropertyAt(c,0,"deltaY");for(let t=0,e=y.length;t<e;t++){let e=this.__charBounds[c][t];i=this.getValueOfPropertyAt(c,t,m),r=this.getValueOfPropertyAt(c,t,C);var w=this.getHeightOfChar(c,t),S=this.getValueOfPropertyAt(c,t,"deltaY");if(u&&i&&r)g.save(),g.fillStyle=o,g.translate(e.renderLeft,e.renderTop),g.rotate(e.angle),g.fillRect(-e.kernedWidth/2,f*w+S,e.kernedWidth,this.fontSize/15),g.restore();else if((i!==n||r!==o||w!==l||S!==h)&&0<a){let t=d+x+s;"rtl"===this.direction&&(t=this.width-t-a),n&&o&&(g.fillStyle=o,g.fillRect(t,_+f*l+h,a,this.fontSize/15)),s=e.left,a=e.width,n=i,o=r,l=w,h=S}else a+=e.kernedWidth}let t=d+x+s;"rtl"===this.direction&&(t=this.width-t-a),g.fillStyle=r,i&&r&&g.fillRect(t,_+f*l+h,a-p,this.fontSize/15)}e+=v}this._removeShadow(g)}}_getFontDeclaration(){var{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:i=this.fontWeight,fontSize:r=this.fontSize}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=1<arguments.length?arguments[1]:void 0,t=t.includes("'")||t.includes('"')||t.includes(",")||B.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,i,"".concat(s?this.CACHE_FONT_SIZE:r,"px"),t].join(" ")}render(t){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t))}graphemeSplit(t){return Sr(t)}_splitTextIntoLines(t){var e=t.split(this._reNewline),i=new Array(e.length),r=["\n"];let s=[];for(let t=0;t<e.length;t++)i[t]=this.graphemeSplit(e[t]),s=s.concat(i[t],r);return s.pop(),{_unwrappedLines:i,lines:e,graphemeText:s,graphemeLines:i}}toObject(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return j(j({},super.toObject([...Fa,...t])),{},{styles:Tr(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(e,t){var i=this.constructor.textLayoutProperties;super.set(e,t);let r=!1,s=!1;if("object"==typeof e)for(let t in e)"path"===t&&this.setPathInfo(),r=r||i.includes(t),s=s||"path"===t;else r=i.includes(e),s="path"===e;return s&&this.setPathInfo(),r&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(t,e,i){var i=$r(t,B.ATTRIBUTE_NAMES,i),e=j(j({},e),i),{textAnchor:i=x,textDecoration:r="",dx:s=0,dy:a=0,top:n=0,left:o=0,fontSize:l=et,strokeWidth:h=1}=e,e=u(e,qa),t=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),j({left:o+s,top:n+a,underline:r.includes("underline"),overline:r.includes("overline"),linethrough:r.includes("line-through"),strokeWidth:0,fontSize:l},e)),o=t.getScaledHeight()/t.height,s=((t.height+t.strokeWidth)*t.lineHeight-t.height)*o,n=t.getScaledHeight()+s;let c=0;return i===v&&(c=t.getScaledWidth()/2),i===_&&(c=t.getScaledWidth()),t.set({left:t.left-c,top:t.top-(n-t.fontSize*(.07+t._fontSizeFraction))/t.lineHeight,strokeWidth:h}),t}static fromObject(t){return this._fromObject(j(j({},t),{},{styles:kr(t.styles||{},t.text)}),{extraParam:"text"})}}c(B,"textLayoutProperties",ja),c(B,"cacheProperties",[...gi,...Fa]),c(B,"ownDefaults",Ba),c(B,"type","Text"),c(B,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),c(B,"ATTRIBUTE_NAMES",Mr.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),pr(B,[class extends ze{_toSVG(){var t=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(t){var{textBgRects:t,textSpans:e}=t,i=this.getSvgTextDecoration(this);return[t.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(Ya,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",i?'text-decoration="'.concat(i,'" '):"","rtl"===this.direction?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),"</text>\n"]}_getSVGTextAndBg(t,i){var r=[],s=[];let a,n=t;this.backgroundColor&&s.push(...Ga(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let t=0,e=this._textLines.length;t<e;t++)a=this._getLineLeftOffset(t),"rtl"===this.direction&&(a+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",t))&&this._setSVGTextLineBg(s,t,i+a,n),this._setSVGTextLineText(r,t,i+a,n),n+=this.getHeightOfLine(t);return{textSpans:r,textBgRects:s}}_createTextCharSpan(t,e,i,r){var s=this.getSvgSpanStyles(e,t!==t.trim()||!!t.match(Xa)),s=s?'style="'.concat(s,'"'):"",e=e.deltaY,e=e?' dy="'.concat(R(e,F.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(R(i,F.NUM_FRACTION_DIGITS),'" y="').concat(R(r,F.NUM_FRACTION_DIGITS),'" ').concat(e).concat(s,">").concat(wr(t),"</tspan>")}_setSVGTextLineText(i,r,s,a){var t=this.getHeightOfLine(r),n=this.textAlign.includes(Na),o=this._textLines[r];let l,h,c,d,u,p="",f=0;a+=t*(1-this._fontSizeFraction)/this.lineHeight;for(let t=0,e=o.length-1;t<=e;t++)u=t===e||this.charSpacing,p+=o[t],c=this.__charBounds[r][t],0===f?(s+=c.kernedWidth-c.width,f+=c.width):f+=c.kernedWidth,(u=n&&!u&&this._reSpaceAndTab.test(o[t])?!0:u)||(l=l||this.getCompleteStyleDeclaration(r,t),h=this.getCompleteStyleDeclaration(r,t+1),u=xr(l,h,!0)),u&&(d=this._getStyleDeclaration(r,t),i.push(this._createTextCharSpan(p,d,s,a)),p="",l=h,"rtl"===this.direction?s-=f:s+=f,f=0)}_setSVGTextLineBg(s,a,n,o){let t=this._textLines[a],l=this.getHeightOfLine(a)/this.lineHeight,h,c=0,d=0,u=this.getValueOfPropertyAt(a,0,"textBackgroundColor");for(let r=0;r<t.length;r++){let{left:t,width:e,kernedWidth:i}=this.__charBounds[a][r];(h=this.getValueOfPropertyAt(a,r,"textBackgroundColor"))!==u?(u&&s.push(...Ga(u,n+d,o,c,l)),d=t,c=e,u=h):c+=i}h&&s.push(...Ga(u,n+d,o,c,l))}_getSVGLineTopOffset(t){let e,i=0;for(e=0;e<t;e++)i+=this.getHeightOfLine(e);var r=this.getHeightOfLine(e);return{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(t){return"".concat(super.getSvgStyles(t)," white-space: pre;")}getSvgSpanStyles(t,e){var{fontFamily:i,strokeWidth:r,stroke:s,fill:a,fontSize:n,fontStyle:o,fontWeight:l,deltaY:h}=t,t=this.getSvgTextDecoration(t);return[s?Zt(m,s):"",r?"stroke-width: ".concat(r,"; "):"",i?"font-family: ".concat(i.includes("'")||i.includes('"')?i:"'".concat(i,"'"),"; "):"",n?"font-size: ".concat(n,"px; "):"",o?"font-style: ".concat(o,"; "):"",l?"font-weight: ".concat(l,"; "):"",t&&"text-decoration: ".concat(t,"; "),a?Zt(C,a):"",h?"baseline-shift: ".concat(-h,"; "):"",e?"white-space: pre; ":""].join("")}getSvgTextDecoration(e){return["overline","underline","line-through"].filter(t=>e[t.replace("-","")]).join(" ")}}]),d.setClass(B),d.setSVGClass(B);class $a{constructor(t){c(this,"target",void 0),c(this,"__mouseDownInPlace",!1),c(this,"__dragStartFired",!1),c(this,"__isDraggingOver",!1),c(this,"__dragStartSelection",void 0),c(this,"__dragImageDisposer",void 0),c(this,"_dispose",void 0),this.target=t;let e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(t=>t()),this._dispose=void 0}}isPointerOverSelection(t){var e=this.target,t=e.getSelectionStartFromPointer(t);return e.isEditing&&t>=e.selectionStart&&t<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){var e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var{selectionStart:e,selectionEnd:i}=e,r=this.target,s=r.canvas,a=new b(r.flipX?-1:1,r.flipY?-1:1),n=r._getCursorBoundaries(e),n=new b(n.left+n.leftOffset,n.top+n.topOffset).multiply(a).transform(r.calcTransformMatrix()),a=s.getScenePoint(t).subtract(n),o=r.getCanvasRetinaScaling(),l=r.getBoundingRect(),n=n.subtract(new b(l.left,l.top)),l=s.viewportTransform,n=n.add(a).transform(l,!0),a=r.backgroundColor,l=_r(r.styles),h=(r.backgroundColor="",{stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"});r.setSelectionStyles(h,0,e),r.setSelectionStyles(h,i,r.text.length),r.dirty=!0;let c=r.toCanvasElement({enableRetinaScaling:s.enableRetinaScaling,viewportTransform:!0});r.backgroundColor=a,r.styles=l,r.dirty=!0,Bs(c,{position:"fixed",left:"".concat(-c.width,"px"),border:y,width:"".concat(c.width/o,"px"),height:"".concat(c.height/o,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{c.remove()},le(t.target||this.target.hiddenTextarea).body.appendChild(c),null!=(e=t.dataTransfer)&&e.setDragImage(c,n.x,n.y)}onDragStart(r){this.__dragStartFired=!0;let s=this.target,t=this.isActive();if(t&&r.dataTransfer){let t=this.__dragStartSelection={selectionStart:s.selectionStart,selectionEnd:s.selectionEnd},e=s._text.slice(t.selectionStart,t.selectionEnd).join(""),i=j({text:s.text,value:e},t);r.dataTransfer.setData("text/plain",e),r.dataTransfer.setData("application/fabric",JSON.stringify({value:e,styles:s.getSelectionStyles(t.selectionStart,t.selectionEnd,!0)})),r.dataTransfer.effectAllowed="copyMove",this.setDragImage(r,i)}return s.abortCursorAnimation(),t}canDrop(t){var e;return!(!this.target.editable||this.target.getActiveControl()||t.defaultPrevented)&&(!this.isActive()||!this.__dragStartSelection||(t=this.target.getSelectionStartFromPointer(t))<(e=this.__dragStartSelection).selectionStart||t>e.selectionEnd)}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){t=t.e,t=this.targetCanDrop(t);!this.__isDraggingOver&&t&&(this.__isDraggingOver=!0)}dragOverHandler(t){var e=t.e,i=this.targetCanDrop(e);!this.__isDraggingOver&&i?this.__isDraggingOver=!0:this.__isDraggingOver&&!i&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(e){var t;let s=e.e,i=s.defaultPrevented,a=(this.__isDraggingOver=!1,s.preventDefault(),null==(t=s.dataTransfer)?void 0:t.getData("text/plain"));if(a&&!i){let i=this.target,t=i.canvas,r=i.getSelectionStartFromPointer(s);var n=(s.dataTransfer.types.includes("application/fabric")?JSON.parse(s.dataTransfer.getData("application/fabric")):{}).styles,o=a[Math.max(0,a.length-1)];if(this.__dragStartSelection){let t=this.__dragStartSelection.selectionStart,e=this.__dragStartSelection.selectionEnd;r>t&&r<=e?r=t:r>e&&(r-=e-t),i.removeChars(t,e),delete this.__dragStartSelection}i._reNewline.test(o)&&(i._reNewline.test(i._text[r])||r===i._text.length)&&(a=a.trimEnd()),e.didDrop=!0,(e.dropTarget=i).insertChars(a,n,r),t.setActiveObject(i),i.enterEditing(s),i.selectionStart=Math.min(r+0,i._text.length),i.selectionEnd=Math.min(i.selectionStart+a.length,i._text.length),i.hiddenTextarea.value=i.text,i._updateTextarea(),i.hiddenTextarea.focus(),i.fire(ct,{index:r+0,action:"drop"}),t.fire("text:changed",{target:i}),t.contextTopDirty=!0,t.requestRenderAll()}}dragEndHandler(t){var n=t.e;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){let t,e=this.target,i=this.target.canvas,{selectionStart:r,selectionEnd:s}=this.__dragStartSelection,a=(null==(t=n.dataTransfer)?void 0:t.dropEffect)||y;a===y?(e.selectionStart=r,e.selectionEnd=s,e._updateTextarea(),e.hiddenTextarea.focus()):(e.clearContextTop(),"move"===a&&(e.removeChars(r,s),e.selectionStart=e.selectionEnd=r,e.hiddenTextarea&&(e.hiddenTextarea.value=e.text),e._updateTextarea(),e.fire(ct,{index:r,action:"dragend"}),i.fire("text:changed",{target:e}),i.requestRenderAll()),e.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}let Ka=/[ \n\.,;!\?\-]/;class Ja extends B{constructor(){super(...arguments),c(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){var{toValue:t,duration:e,delay:i,onComplete:r}=t;return Di({startValue:this._currentCursorOpacity,endValue:t,duration:e,delay:i,onComplete:r,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:t=>{this._currentCursorOpacity=t,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;null!=(t=this._currentTickCompleteState)&&t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let e=!1;[this._currentTickState,this._currentTickCompleteState].forEach(t=>{t&&!t.isDone()&&(e=!0,t.abort())}),this._currentCursorOpacity=1,e&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&-1<i;)e++,i--;return t-e}findWordBoundaryRight(t){let e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}findLineBoundaryLeft(t){let e=0,i=t-1;for(;!/\n/.test(this._text[i])&&-1<i;)e++,i--;return t-e}findLineBoundaryRight(t){let e=0,i=t;for(;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e}searchWordBoundary(t,e){var i=this._text;let r=0<t&&this._reSpace.test(i[t])&&(-1===e||!st.test(i[t-1]))?t-1:t,s=i[r];for(;0<r&&r<i.length&&!Ka.test(s);)r+=e,s=i[r];return-1===e&&Ka.test(s)&&r++,r}selectWord(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),t=Math.max(e,this.searchWordBoundary(t,1));this.selectionStart=e,this.selectionEnd=t,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),t=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=t,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas)&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll())}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){var e,i;!this.getActiveControl()&&(e=this.hiddenTextarea,le(e).activeElement!==e&&e.focus(),e=this.getSelectionStartFromPointer(t),t=this.selectionStart,i=this.selectionEnd,e===this.__selectionStartOnMouseDown&&t!==i||t!==e&&i!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===t&&this.selectionEnd===i||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,i){var r=i.slice(0,t),r=this.graphemeSplit(r).length;return t===e?{selectionStart:r,selectionEnd:r}:(i=i.slice(t,e),{selectionStart:r,selectionEnd:r+this.graphemeSplit(i).length})}fromGraphemeToStringSelection(t,e,i){var r=i.slice(0,t).join("").length;return t===e?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+i.slice(t,e).join("").length}}_updateTextarea(){var t;this.cursorOffsetCache={},this.hiddenTextarea&&(this.inCompositionMode||(t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text),this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd),this.updateTextareaPosition())}updateFromTextArea(){var t;this.hiddenTextarea&&(this.cursorOffsetCache={},t=this.hiddenTextarea,this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords(),t=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value),this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition())}updateTextareaPosition(){var t;this.selectionStart===this.selectionEnd&&(t=this._calcTextareaPosition(),this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top)}_calcTextareaPosition(){var t,e,i,r,s,a,n,o;return this.canvas?(o=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(o),e=(o=this.get2DCursorLocation(o)).lineIndex,e=this.getValueOfPropertyAt(e,o.charIndex,"fontSize")*this.lineHeight,o=t.leftOffset,s=this.getCanvasRetinaScaling(),a=(r=(i=this.canvas.upperCanvasEl).width/s)-e,n=(s=i.height/s)-e,(o=new b(t.left+o,t.top+t.topOffset+e).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new b(i.clientWidth/r,i.clientHeight/s))).x<0&&(o.x=0),a<o.x&&(o.x=a),o.y<0&&(o.y=0),n<o.y&&(o.y=n),o.x+=this.canvas._offset.left,o.y+=this.canvas._offset.top,{left:"".concat(o.x,"px"),top:"".concat(o.y,"px"),fontSize:"".concat(e,"px"),charHeight:e}):{left:"1px",top:"1px"}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){var t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode)&&t.parentNode.removeChild(t),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){var t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),t&&this.fire(ft),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t)&&this.canvas.fire("object:modified",{target:this}),this}_removeExtraneousStyles(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){let{lineIndex:s,charIndex:a}=this.get2DCursorLocation(t,!0),{lineIndex:i,charIndex:n}=this.get2DCursorLocation(e,!0);if(s!==i){if(this.styles[s])for(let t=a;t<this._unwrappedTextLines[s].length;t++)delete this.styles[s][t];if(this.styles[i])for(let e=n;e<this._unwrappedTextLines[i].length;e++){let t=this.styles[i][e];t&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+e-n]=t)}for(let t=s+1;t<=i;t++)delete this.styles[t];this.shiftLineStyles(i,s-i)}else if(this.styles[s]){let i=this.styles[s],r=n-a;for(let t=a;t<n;t++)delete i[t];for(let e in this.styles[s]){let t=parseInt(e,10);t>=n&&(i[t-r]=i[e],delete i[e])}}}shiftLineStyles(t,e){var i,r=Object.assign({},this.styles);for(i in this.styles){var s=parseInt(i,10);t<s&&(this.styles[s+e]=r[s],r[s-e]||delete this.styles[s])}}insertNewlineStyleObject(i,r,t,e){var s={},a=this._unwrappedTextLines[i].length,n=a===r;let o=!1;this.shiftLineStyles(i,t=t||1);var l=this.styles[i]?this.styles[i][0===r?r:r-1]:void 0;for(let e in this.styles[i]){let t=parseInt(e,10);t>=r&&(o=!0,s[t-r]=this.styles[i][e],n&&0===r||delete this.styles[i][e])}let h=!1;for(o&&!n&&(this.styles[i+t]=s,h=!0),(h||r<a)&&t--;0<t;)e&&e[t-1]?this.styles[i+t]={0:j({},e[t-1])}:l?this.styles[i+t]={0:j({},l)}:delete this.styles[i+t],t--;this._forceClearCache=!0}insertCharStyleObject(t,i,r,e){this.styles||(this.styles={});var s=this.styles[t],a=s?j({},s):{};r=r||1;for(let e in a){let t=parseInt(e,10);t>=i&&(s[t+r]=a[t],a[t-r]||delete s[t])}if(this._forceClearCache=!0,e)for(;r--;)Object.keys(e[r]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][i+r]=j({},e[r]));else if(s)for(var n=s[i?i-1:1];n&&r--;)this.styles[t][i+r]=j({},n)}insertNewStyleBlock(e,t,i){var r=this.get2DCursorLocation(t,!0),s=[0];let a,n=0;for(let t=0;t<e.length;t++)"\n"===e[t]?s[++n]=0:s[n]++;for(0<s[0]&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,s[0],i),i=i&&i.slice(s[0]+1)),n&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+s[0],n),a=1;a<n;a++)0<s[a]?this.insertCharStyleObject(r.lineIndex+a,0,s[a],i):i&&this.styles[r.lineIndex+a]&&i[0]&&(this.styles[r.lineIndex+a][0]=i[0]),i=i&&i.slice(s[a]+1);0<s[a]&&this.insertCharStyleObject(r.lineIndex+a,0,s[a],i)}removeChars(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:i,t=(i<r&&this.removeStyleFromTo(i,r),this.graphemeSplit(t));this.insertNewStyleBlock(t,i,e),this._text=[...this._text.slice(0,i),...t,...this._text.slice(r)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,i){i<=t?(e===t?this._selectionDirection=x:this._selectionDirection===_&&(this._selectionDirection=x,this.selectionEnd=t),this.selectionStart=i):t<i&&i<e?this._selectionDirection===_?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection=_:this._selectionDirection===x&&(this._selectionDirection=_,this.selectionStart=e),this.selectionEnd=i)}}class Qa extends Ja{initHiddenTextarea(){let t=this.canvas&&le(this.canvas.getElement())||G(),i=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(t=>{var[t,e]=t;return i.setAttribute(t,e)});var{top:e,left:r,fontSize:s}=this._calcTextareaPosition();i.style.cssText="position: absolute; top: ".concat(e,"; left: ").concat(r,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(s,";"),(this.hiddenTextareaContainer||t.body).appendChild(i),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(t=>{var[t,e]=t;return i.addEventListener(t,this[e].bind(this))}),this.hiddenTextarea=i}blur(){this.abortCursorAnimation()}onKeyDown(t){if(this.isEditing){var e="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),33<=t.keyCode&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas)&&this.canvas.requestRenderAll()}onInput(t){var a=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){t=()=>{this.updateFromTextArea(),this.fire(ct),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(""===this.hiddenTextarea.value)this.styles={};else{var n=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,o=this._text.length,l=n.length,h=this.selectionStart,c=this.selectionEnd,d=h!==c;let e,t,i,r,s=l-o;var u=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),p=h>u.selectionStart,l=(d?(t=this._text.slice(h,c),s+=c-h):l<o&&(t=p?this._text.slice(c+s,c):this._text.slice(h,h-s)),n.slice(u.selectionEnd-s,u.selectionEnd));if(t&&t.length&&(l.length&&(e=this.getSelectionStyles(h,h+1,!1),e=l.map(()=>e[0])),r=d?(i=h,c):p?(i=c-t.length,c):(i=c)+t.length,this.removeStyleFromTo(i,r)),l.length){let t=Y().copyPasteData;a&&l.join("")===t.copiedText&&!F.disableStyleCopyPaste&&(e=t.copiedTextStyle),this.insertNewStyleBlock(l,h,e)}}t()}}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){var t=t.target,{selectionStart:t,selectionEnd:e}=t;this.compositionStart=t,this.compositionEnd=e,this.updateTextareaPosition()}copy(){var t;this.selectionStart!==this.selectionEnd&&(t=Y().copyPasteData,t.copiedText=this.getSelectedText(),F.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let i,r=this._getLineLeftOffset(t);return 0<e&&(i=this.__charBounds[t][e-1],r+=i.left+i.width),r}getDownCursorOffset(t,e){var e=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(e),r=i.lineIndex;return r===this._textLines.length-1||t.metaKey||34===t.keyCode?this._text.length-e:(e=this._getWidthBeforeCursor(r,t=i.charIndex),i=this._getIndexOnLine(r+1,e),this._textLines[r].slice(t).length+i+1+this.missingNewlineOffset(r))}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){var e=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(e),r=i.lineIndex;return 0===r||t.metaKey||33===t.keyCode?-e:(e=this._getWidthBeforeCursor(r,t=i.charIndex),i=this._getIndexOnLine(r-1,e),e=this._textLines[r].slice(0,t),t=this.missingNewlineOffset(r-1),-this._textLines[r-1].length+i-e.length+(1-t))}_getIndexOnLine(e,s){let i=this._textLines[e],a,n,o=this._getLineLeftOffset(e),l=0;for(let r=0,t=i.length;r<t;r++)if(a=this.__charBounds[e][r].width,(o+=a)>s){n=!0;let t=o-a,e=o,i=Math.abs(t-s);l=Math.abs(e-s)<i?r:r-1;break}return l=n?l:i.length-1}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){t=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===_);if(e.shiftKey?this.moveCursorWithShift(t):this.moveCursorWithoutShift(t),0!==t){let t=this.text.length;this.selectionStart=pi(0,this.selectionStart,t),this.selectionEnd=pi(0,this.selectionEnd,t),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){var e=this._selectionDirection===x?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t}moveCursorLeft(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)}_move(t,e,i){let r;if(t.altKey)r=this["findWordBoundary".concat(i)](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===i?-1:1,!0;r=this["findLineBoundary".concat(i)](this[e])}return void 0!==r&&this[e]!==r&&(this[e]=r,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=x,this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===_&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection=x,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){t="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[t](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===x&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=_,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=_,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}}let Za=t=>!!t.button;class tn extends Qa{constructor(){super(...arguments),c(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new $a(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}onMouseDown(t){var e;this.canvas&&(this.__newClickTime=+new Date,e=t.pointer,this.isTripleClick(e)&&(this.fire("tripleclick",t),be(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastSelected=this.selected&&!this.getActiveControl())}isTripleClick(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y}doubleClickHandler(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))}tripleClickHandler(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))}_mouseDownHandler(t){t=t.e;!this.canvas||!this.editable||Za(t)||this.getActiveControl()||this.draggableTextDelegate.start(t)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))}_mouseDownHandlerBefore(t){t=t.e;this.canvas&&this.editable&&!Za(t)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(t){var{e:t,transform:e}=t,i=this.draggableTextDelegate.end(t);if(this.canvas){this.canvas.textEditingManager.unregister(this);let t=this.canvas._activeObject;if(t&&t!==this)return}!this.editable||this.group&&!this.group.interactive||e&&e.actionPerformed||Za(t)||i||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(t){var e=this.getSelectionStartFromPointer(t),i=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,r,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){var i=this.canvas.getScenePoint(t).transform(k(this.calcTransformMatrix())).add(new b(-this._getLeftOffset(),-this._getTopOffset()));let e=0,r=0,s=0;for(let t=0;t<this._textLines.length&&e<=i.y;t++)e+=this.getHeightOfLine(t),0<(s=t)&&(r+=this._textLines[t-1].length+this.missingNewlineOffset(t-1));let a=Math.abs(this._getLineLeftOffset(s));var n=this._textLines[s].length,o=this.__charBounds[s];for(let e=0;e<n;e++){let t=a+o[e].kernedWidth;if(i.x<=t){Math.abs(i.x-t)<=Math.abs(i.x-a)&&r++;break}a=t,r++}return Math.min(this.flipX?n-r:r,this._text.length)}}var en="moveCursorUp",rn="moveCursorDown",sn="moveCursorLeft",an="moveCursorRight",nn="exitEditing",nn=j({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:nn,27:nn,33:en,34:rn,35:an,36:sn,37:sn,38:en,39:an,40:rn},keysMapRtl:{9:nn,27:nn,33:en,34:rn,35:sn,36:an,37:an,38:en,39:sn,40:rn},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class on extends tn{static getDefaults(){return j(j({},super.getDefaults()),on.ownDefaults)}get type(){var t=super.type;return"itext"===t?"i-text":t}constructor(t,e){super(t,j(j({},on.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):("canvas"===t&&(this.canvas instanceof Js&&this.canvas.textEditingManager.remove(this),e instanceof Js)&&e.textEditingManager.add(this),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionStart||0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selectionEnd;return super.getSelectionStyles(t,e,2<arguments.length?arguments[2]:void 0)}setSelectionStyles(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selectionStart||0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,i)}get2DCursorLocation(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionStart;return super.get2DCursorLocation(t,1<arguments.length?arguments[1]:void 0)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){var e=this.isEditing,t=(this.isEditing=!1,super.toCanvasElement(t));return this.isEditing=e,t}renderCursorOrSelection(){var t,e;this.isEditing&&(t=this.clearContextTop(!0))&&(e=this._getCursorBoundaries(),this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(t,e):this.renderCursor(t,e),this.canvas.contextTopDirty=!0,t.restore())}_getCursorBoundaries(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionStart,e=1<arguments.length?arguments[1]:void 0,i=this._getLeftOffset(),r=this._getTopOffset(),t=this._getCursorBoundariesOffsets(t,e);return{left:i,top:r,leftOffset:t.left,topOffset:t.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,i=0;var{charIndex:t,lineIndex:r}=this.get2DCursorLocation(t);for(let t=0;t<r;t++)e+=this.getHeightOfLine(t);var s=this._getLineLeftOffset(r),a=this.__charBounds[r][t],a=(a&&(i=a.left),0!==this.charSpacing&&t===this._textLines[r].length&&(i-=this._getWidthOfCharSpacing()),{top:e,left:s+(0<i?i:0)});return"rtl"===this.direction&&(this.textAlign===_||this.textAlign===Na||this.textAlign===Ha?a.left*=-1:this.textAlign!==x&&this.textAlign!==za&&this.textAlign!==v&&this.textAlign!==Wa||(a.left=s-(0<i?i:0))),a}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}getCursorRenderingData(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionStart,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getCursorBoundaries(t),t=this.get2DCursorLocation(t),i=t.lineIndex,t=0<t.charIndex?t.charIndex-1:0,r=this.getValueOfPropertyAt(i,t,"fontSize"),s=this.getObjectScaling().x*this.canvas.getZoom(),s=this.cursorWidth/s,a=this.getValueOfPropertyAt(i,t,"deltaY"),n=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-r*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(i,t,"fill"),opacity:this._currentCursorOpacity,left:e.left+e.leftOffset-s/2,top:n+e.top+a,width:s,height:r}}_renderCursor(t,e,i){var{color:i,opacity:e,left:r,top:s,width:a,height:n}=this.getCursorRenderingData(i,e);t.fillStyle=i,t.globalAlpha=e,t.fillRect(r,s,a,n)}renderSelection(t,e){var i={selectionStart:(this.inCompositionMode?this.hiddenTextarea:this).selectionStart,selectionEnd:(this.inCompositionMode?this.hiddenTextarea:this).selectionEnd};this._renderSelection(t,i,e)}renderDragSourceEffect(){var t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){t=this.getSelectionStartFromPointer(t);this.renderCursorAt(t)}_renderSelection(h,t,c){let e=t.selectionStart,i=t.selectionEnd,d=this.textAlign.includes(Na),r=this.get2DCursorLocation(e),s=this.get2DCursorLocation(i),u=r.lineIndex,p=s.lineIndex,f=r.charIndex<0?0:r.charIndex,g=s.charIndex<0?0:s.charIndex;for(let l=u;l<=p;l++){let t=this._getLineLeftOffset(l)||0,e=this.getHeightOfLine(l),i,r=0,s=0;if(l===u&&(r=this.__charBounds[u][f].left),l>=u&&l<p)s=d&&!this.isEndOfWrapping(l)?this.width:this.getLineWidth(l)||5;else if(l===p)if(0===g)s=this.__charBounds[p][g].left;else{let t=this._getWidthOfCharSpacing();s=this.__charBounds[p][g-1].left+this.__charBounds[p][g-1].width-t}i=e,(this.lineHeight<1||l===p&&1<this.lineHeight)&&(e/=this.lineHeight);let a=c.left+t+r,n=e,o=0;var m=s-r;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",n=1,o=e):h.fillStyle=this.selectionColor,"rtl"===this.direction&&(this.textAlign===_||this.textAlign===Na||this.textAlign===Ha?a=this.width-a-m:this.textAlign!==x&&this.textAlign!==za&&this.textAlign!==v&&this.textAlign!==Wa||(a=c.left+t-s)),h.fillRect(a,c.top+c.topOffset+o,m,n),c.topOffset+=i}}getCurrentCharFontSize(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,C)}_getCurrentCharIndex(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=0<t.charIndex?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}c(on,"ownDefaults",nn),c(on,"type","IText"),d.setClass(on),d.setClass(on,"i-text");class ln extends on{static getDefaults(){return j(j({},super.getDefaults()),ln.ownDefaults)}constructor(t,e){super(t,j(j({},ln.ownDefaults),e))}static createControls(){return{controls:dr()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(Na)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(e){let i=0,r=0,s=0;var a={};for(let t=0;t<e.graphemeLines.length;t++)"\n"===e.graphemeText[s]&&0<t?(r=0,s++,i++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[s])&&0<t&&(r++,s++),a[t]={line:i,offset:r},s+=e.graphemeLines[t].length,r+=e.graphemeLines[t].length;return a}styleHas(t,e){if(this._styleMap&&!this.isWrapping){let t=this._styleMap[e];t&&(e=t.line)}return super.styleHas(t,e)}isEmptyStyles(n){if(this.styles){let r,s=0,t=n+1,a=!1,e=this._styleMap[n],i=this._styleMap[n+1];e&&(n=e.line,s=e.offset),i&&(t=i.line,a=t===n,r=i.offset);var o=void 0===n?this.styles:{line:this.styles[n]};for(let i in o)for(let e in o[i]){let t=parseInt(e,10);if(t>=s&&(!a||t<r))for(let t in o[i][e])return!1}}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[t];if(!i)return{};t=i.line,e=i.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,i){t=this._styleMap[t];super._setStyleDeclaration(t.line,t.offset+e,i)}_deleteStyleDeclaration(t,e){t=this._styleMap[t];super._deleteStyleDeclaration(t.line,t.offset+e)}_getLineStyle(t){t=this._styleMap[t];return!!this.styles[t.line]}_setLineStyle(t){t=this._styleMap[t];super._setLineStyle(t.line)}_wrapText(t,e){this.isWrapping=!0;var i=this.getGraphemeDataForRender(t),r=[];for(let t=0;t<i.wordsData.length;t++)r.push(...this._wrapLine(t,e,i));return this.isWrapping=!1,r}getGraphemeDataForRender(t){let s=this.splitByGrapheme,a=s?"":" ",n=0;return{wordsData:t.map((t,i)=>{let r=0;t=s?this.graphemeSplit(t):this.wordSplit(t);return 0===t.length?[{word:[],width:0}]:t.map(t=>{var t=s?[t]:this.graphemeSplit(t),e=this._measureWord(t,i,r);return n=Math.max(e,n),r+=t.length+a.length,{word:t,width:e}})}),largestWordWidth:n}}_measureWord(i,r){let s,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=0;for(let t=0,e=i.length;t<e;t++)n+=this._getGraphemeBox(i[t],r,t+a,s,!0).kernedWidth,s=i[t];return n}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(i,t,e){var{largestWordWidth:e,wordsData:r}=e,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,a=this._getWidthOfCharSpacing(),n=this.splitByGrapheme,o=[],l=n?"":" ";let h=0,c=[],d=0,u=0,p=!0;t-=s;var f=Math.max(t,e,this.dynamicMinWidth),g=r[i];let m;for(d=0,m=0;m<g.length;m++){let{word:t,width:e}=g[m];d+=t.length,(h+=u+e-a)>f&&!p?(o.push(c),c=[],h=e,p=!0):h+=a,p||n||c.push(l),c=c.concat(t),u=n?0:this._measureWord([l],i,d),d++,p=!1}return m&&o.push(c),e+s>this.dynamicMinWidth&&(this.dynamicMinWidth=e-a+s),o}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return!this.splitByGrapheme||e||this.isEndOfWrapping(t)?1:0}_splitTextIntoLines(t){var t=super._splitTextIntoLines(t),e=this._wrapText(t.lines,this.width),i=new Array(e.length);for(let t=0;t<e.length;t++)i[t]=e[t].join("");return t.lines=i,t.graphemeLines=e,t}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){var t,e,i=new Map;for(t in this._styleMap){var r=parseInt(t,10);this._textLines[r]&&(r=this._styleMap[t].line,i.set("".concat(r),!0))}for(e in this.styles)i.has(e)||delete this.styles[e]}toObject(){return super.toObject(["minWidth","splitByGrapheme",...0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]])}}c(ln,"type","Textbox"),c(ln,"textLayoutProperties",[...on.textLayoutProperties,"width"]),c(ln,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),d.setClass(ln);class hn extends ss{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(r,s){let t=r.target,{clipPath:e,group:i}=t;if(e&&this.shouldPerformLayout(r)){var{width:a,height:n}=xe(rs(t,e)),a=new b(a,n);if(e.absolutePositioned)return{center:Ee(e.getRelativeCenterPoint(),void 0,i?i.calcTransformMatrix():void 0),size:a};{let i=e.getRelativeCenterPoint().transform(t.calcOwnMatrix(),!0);if(this.shouldPerformLayout(r)){let{center:t=new b,correction:e=new b}=this.calcBoundingBox(s,r)||{};return{center:t.add(i),correction:e.subtract(i),size:a}}return{center:t.getRelativeCenterPoint().add(i),size:a}}}}}c(hn,"type","clip-path"),d.setClass(hn);class cn extends ss{getInitialSize(t,e){t=t.target,e=e.size;return new b(t.width||e.x,t.height||e.y)}}c(cn,"type","fixed"),d.setClass(cn);class dn extends hs{subscribeTargets(t){let e=t.target;t.targets.reduce((t,e)=>(e.parent&&t.add(e.parent),t),new Set).forEach(t=>{t.layoutManager.subscribeTargets({target:t,targets:[e]})})}unsubscribeTargets(t){let i=t.target,r=i.getObjects();t.targets.reduce((t,e)=>(e.parent&&t.add(e.parent),t),new Set).forEach(e=>{r.some(t=>t.parent===e)||e.layoutManager.unsubscribeTargets({target:e,targets:[i]})})}}class un extends us{static getDefaults(){return j(j({},super.getDefaults()),un.ownDefaults)}constructor(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{left:e,top:i,layoutManager:r}=(super(),Object.assign(this,un.ownDefaults),this.setOptions(e),e);this.groupInit(t,{left:e,top:i,layoutManager:null!=r?r:new dn})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];"selection-order"===this.multiSelectionStacking?this.add(...e):e.forEach(e=>{var t=this._objects.findIndex(t=>t.isInFrontOf(e)),t=-1===t?this.size():t;this.insertAt(t,e)})}canEnterGroup(e){return this.getObjects().some(t=>t.isDescendantOf(e)||e.isDescendantOf(t))?(N("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(e)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);let i=new Set;e.forEach(t=>{t=t.parent;t&&i.add(t)}),t===es?i.forEach(t=>{t._onAfterObjectsChange(ts,e)}):i.forEach(t=>{t._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(e,t,i){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;var r=j(j({hasControls:!1},i),{},{forActiveSelection:!0});for(let t=0;t<this._objects.length;t++)this._objects[t]._renderControls(e,r);super._renderControls(e,t),e.restore()}}c(un,"type","ActiveSelection"),c(un,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),d.setClass(un),d.setClass(un,"activeSelection");class pn{constructor(){c(this,"resources",{})}applyFilters(t,i,r,s,a){var n=a.getContext("2d");if(n){n.drawImage(i,0,0,r,s);let e={sourceWidth:r,sourceHeight:s,imageData:n.getImageData(0,0,r,s),originalEl:i,originalImageData:n.getImageData(0,0,r,s),canvasEl:a,ctx:n,filterBackend:this};t.forEach(t=>{t.applyTo(e)});i=e.imageData;return i.width===r&&i.height===s||(a.width=i.width,a.height=i.height),n.putImageData(i,0,0),e}}}class fn{constructor(){var{tileSize:t=F.textureSize}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};c(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),c(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){t=S({width:t,height:e}),e=t.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});e&&(e.clearColor(0,0,0,0),this.canvas=t,this.gl=e)}applyFilters(r,s,a,n,o,l){var h=this.gl,c=o.getContext("2d");if(h&&c){let t,e=(l&&(t=this.getCachedTexture(l,s)),{originalWidth:s.width||s.originalWidth||0,originalHeight:s.height||s.originalHeight||0,sourceWidth:a,sourceHeight:n,destinationWidth:a,destinationHeight:n,context:h,sourceTexture:this.createTexture(h,a,n,t?void 0:s),targetTexture:this.createTexture(h,a,n),originalTexture:t||this.createTexture(h,a,n,t?void 0:s),passes:r.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:o}),i=h.createFramebuffer();return h.bindFramebuffer(h.FRAMEBUFFER,i),r.forEach(t=>{t&&t.applyTo(e)}),l=e,n=(a=l.targetCanvas).width,s=l.destinationWidth,l=l.destinationHeight,n===s&&a.height===l||(a.width=s,a.height=l),this.copyGLTo2D(h,e),h.bindTexture(h.TEXTURE_2D,null),h.deleteTexture(e.sourceTexture),h.deleteTexture(e.targetTexture),h.deleteFramebuffer(i),c.setTransform(1,0,0,1,0,0),e}}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,i,r,s){var{NEAREST:a,TEXTURE_2D:n,RGBA:o,UNSIGNED_BYTE:l,CLAMP_TO_EDGE:h,TEXTURE_MAG_FILTER:c,TEXTURE_MIN_FILTER:d,TEXTURE_WRAP_S:u,TEXTURE_WRAP_T:p}=t,f=t.createTexture();return t.bindTexture(n,f),t.texParameteri(n,c,s||a),t.texParameteri(n,d,s||a),t.texParameteri(n,u,h),t.texParameteri(n,p,h),r?t.texImage2D(n,0,o,o,l,r):t.texImage2D(n,0,o,e,i,0,o,l,null),f}getCachedTexture(t,e,i){var r=this.textureCache;return r[t]||((e=this.createTexture(this.gl,e.width,e.height,e,i))&&(r[t]=e),e)}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){var i,t=t.canvas,e=e.targetCanvas,r=e.getContext("2d");r&&(r.translate(0,e.height),r.scale(1,-1),i=t.height-e.height,r.drawImage(t,0,i,e.width,e.height,0,0,e.width,e.height))}copyGLTo2DPutImageData(t,e){var i,r=e.targetCanvas.getContext("2d"),s=e.destinationWidth,e=e.destinationHeight,a=s*e*4;r&&(i=new Uint8Array(this.imageBuffer,0,a),a=new Uint8ClampedArray(this.imageBuffer,0,a),t.readPixels(0,0,s,e,t.RGBA,t.UNSIGNED_BYTE,i),t=new ImageData(a,s,e),r.putImageData(t,0,0))}captureGPUInfo(){var t,e,i,r;return this.gpuInfo||(t={renderer:"",vendor:""},(r=this.gl)&&((e=r.getExtension("WEBGL_debug_renderer_info"))&&(i=r.getParameter(e.UNMASKED_RENDERER_WEBGL),r=r.getParameter(e.UNMASKED_VENDOR_WEBGL),i&&(t.renderer=i.toLowerCase()),r)&&(t.vendor=r.toLowerCase()),this.gpuInfo=t),t)}}let gn;function mn(){var t=Y().WebGLProbe;return t.queryWebGL(w()),F.enableGLFiltering&&t.isSupported(F.textureSize)?new fn({tileSize:F.textureSize}):new pn}function vn(){return gn=gn||0<arguments.length&&void 0!==arguments[0]&&!arguments[0]?gn:mn()}let yn=["filters","resizeFilter","src","crossOrigin","type"],bn=["cropX","cropY"];class n extends L{static getDefaults(){return j(j({},super.getDefaults()),n.ownDefaults)}constructor(t,e){super(),c(this,"_lastScaleX",1),c(this,"_lastScaleY",1),c(this,"_filterScalingX",1),c(this,"_filterScalingY",1),this.filters=[],Object.assign(this,n.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(Mt++),this.setElement("string"==typeof t?(this.canvas&&le(this.canvas.getElement())||G()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(e),t.classList.add(n.CSS_CANVAS),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){var e=vn(!1);e instanceof fn&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{var e=this[t];e&&Y().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){var t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){var e,i;this.stroke&&0!==this.strokeWidth&&(e=this.width/2,i=this.height/2,t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath())}toObject(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];let e=[];return this.filters.forEach(t=>{t&&e.push(t.toObject())}),j(j({},super.toObject([...bn,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let t=[],e=this._element,i=-this.width/2,r=-this.height/2,s=[],a=[],n="",o="";if(!e)return[];if(this.hasCrop()){let t=Mt++;s.push('<clipPath id="imageCrop_'+t+'">\n','\t<rect x="'+i+'" y="'+r+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),n=' clip-path="url(#imageCrop_'+t+')" '}if(this.imageSmoothing||(o=' image-rendering="optimizeSpeed"'),t.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(i-this.cropX,'" y="').concat(r-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(o).concat(n,"></image>\n")),this.stroke||this.strokeDashArray){let t=this.fill;this.fill=null,a=['\t<rect x="'.concat(i,'" y="').concat(r,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),'" />\n')],this.fill=t}return s=this.paintFirst!==C?s.concat(a,t):s.concat(t,a)}getSrc(t){t=t?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src")||"":t.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:i}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Ft(t,{crossOrigin:e,signal:i}).then(t=>{void 0!==e&&this.set({crossOrigin:e}),this.setElement(t)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){var t,e,i=this.resizeFilter,r=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),a=s.x,s=s.y,n=this._filteredEl||this._originalElement;this.group&&this.set("dirty",!0),!i||r<a&&r<s?(this._element=n,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=a,this._lastScaleY=s):(r=S(n),{width:t,height:e}=n,this._element=r,this._lastScaleX=i.scaleX=a,this._lastScaleY=i.scaleY=s,vn().applyFilters([i],n,t,e,this._element),this._filterScalingX=r.width/this._originalElement.width,this._filterScalingY=r.height/this._originalElement.height)}applyFilters(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.filters||[];if(t=t.filter(t=>t&&!t.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),0===t.length)this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,this._filterScalingY=1;else{var e=this._originalElement,i=e.naturalWidth||e.width,e=e.naturalHeight||e.height;if(this._element===this._originalElement){let t=S({width:i,height:e});this._element=t,this._filteredEl=t}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,e),this._lastScaleX=1,this._lastScaleY=1);vn().applyFilters(t,this._originalElement,i,e,this._element),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){var e,i,r,s,a,n,o,l,h,c,d,u,p,f,g=this._element;g&&(e=this._filterScalingX,i=this._filterScalingY,p=this.width,r=this.height,s=Math.max(this.cropX,0),a=Math.max(this.cropY,0),f=g.naturalWidth||g.width,n=g.naturalHeight||g.height,o=s*e,l=a*i,h=Math.min(p*e,f-o),c=Math.min(r*i,n-l),d=-p/2,u=-r/2,p=Math.min(p,f/e-s),f=Math.min(r,n/i-a),g)&&t.drawImage(g,o,l,h,c,d,u,p,f)}_needsResize(){var t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){var{width:t,height:e}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=this.getOriginalSize();this.width=t||i.width,this.height=e||i.height}parsePreserveAspectRatioAttribute(){var t=te(this.preserveAspectRatio||""),e=this.width,i=this.height,r={width:e,height:i};let s,a=this._element.width,n=this._element.height,o=1,l=1,h=0,c=0,d=0,u=0;return!t||t.alignX===y&&t.alignY===y?(o=e/a,l=i/n):("meet"===t.meetOrSlice&&(o=l=ps(this._element,r),s=(e-a*o)/2,"Min"===t.alignX&&(h=-s),"Max"===t.alignX&&(h=s),s=(i-n*l)/2,"Min"===t.alignY&&(c=-s),"Max"===t.alignY)&&(c=s),"slice"===t.meetOrSlice&&(o=l=fs(this._element,r),s=a-e/o,"Mid"===t.alignX&&(d=s/2),"Max"===t.alignX&&(d=s),s=n-i/l,"Mid"===t.alignY&&(u=s/2),"Max"===t.alignY&&(u=s),a=e/o,n=i/l)),{width:a,height:n,scaleX:o,scaleY:l,offsetLeft:h,offsetTop:c,cropX:d,cropY:u}}static fromObject(t,e){let{filters:i,resizeFilter:r,src:s,crossOrigin:a}=t,n=u(t,yn);return Promise.all([Ft(s,j(j({},e),{},{crossOrigin:a})),i&&Rt(i,e),r&&Rt([r],e),Bt(n,e)]).then(t=>{var[t,e=[],[i]=[],r={}]=t;return new this(t,j(j({},n),{},{src:s,filters:e,resizeFilter:i},r))})}static fromURL(t){let{crossOrigin:e=null,signal:i}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0;return Ft(t,{crossOrigin:e,signal:i}).then(t=>new this(t,r))}static async fromElement(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=$r(t,this.ATTRIBUTE_NAMES,2<arguments.length?arguments[2]:void 0);return this.fromURL(t["xlink:href"],e,t).catch(t=>(N("log","Unable to parse Image",t),null))}}function xn(t){if(!Ke.test(t.nodeName))return{};var e=t.getAttribute("viewBox");let i,r,s=1,a=1,n,o;var l=t.getAttribute("width"),h=t.getAttribute("height"),c=t.getAttribute("x")||0,d=t.getAttribute("y")||0,u=!(e&&Qe.test(e)),p=!l||!h||"100%"===l||"100%"===h;let f="",g=0,m=0;if(u&&(c||d)&&t.parentNode&&"#document"!==t.parentNode.nodeName&&(f=" translate("+P(c||"0")+" "+P(d||"0")+") ",i=(t.getAttribute("transform")||"")+f,t.setAttribute("transform",i),t.removeAttribute("x"),t.removeAttribute("y")),u&&p)return{width:0,height:0};var v={width:0,height:0};if(u)v.width=P(l),v.height=P(h);else{u=e.match(Qe),e=(n=-parseFloat(u[1]),o=-parseFloat(u[2]),parseFloat(u[3])),u=parseFloat(u[4]),p=(v.minX=n,v.minY=o,v.viewBoxWidth=e,v.viewBoxHeight=u,p?(v.width=e,v.height=u):(v.width=P(l),v.height=P(h),s=v.width/e,a=v.height/u),te(t.getAttribute("preserveAspectRatio")||""));if(p.alignX!==y&&("meet"===p.meetOrSlice&&(a=s=s>a?a:s),"slice"===p.meetOrSlice&&(a=s=s>a?s:a),g=v.width-e*s,m=v.height-u*s,"Mid"===p.alignX&&(g/=2),"Mid"===p.alignY&&(m/=2),"Min"===p.alignX&&(g=0),"Min"===p.alignY)&&(m=0),1!==s||1!==a||0!=n||0!=o||0!==c||0!==d){if((c||d)&&"#document"!==t.parentNode.nodeName&&(f=" translate("+P(c||"0")+" "+P(d||"0")+") "),i=f+" matrix("+s+" 0 0 "+a+" "+(n*s+g)+" "+(o*a+m)+") ","svg"===t.nodeName){for(r=t.ownerDocument.createElementNS(Xe,"g");t.firstChild;)r.appendChild(t.firstChild);t.appendChild(r)}else(r=t).removeAttribute("x"),r.removeAttribute("y"),i=r.getAttribute("transform")+i;r.setAttribute("transform",i)}}return v}c(n,"type","Image"),c(n,"cacheProperties",[...gi,...bn]),c(n,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),c(n,"CSS_CANVAS","canvas-img"),c(n,"ATTRIBUTE_NAMES",[...Mr,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),d.setClass(n),d.setSVGClass(n);let _n=t=>t.tagName.replace("svg:",""),wn=He(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);function Sn(t,e){let i,r,s,a,n=[];for(s=0,a=e.length;s<a;s++)i=e[s],r=t.getElementsByTagNameNS("http://www.w3.org/2000/svg",i),n=n.concat(Array.from(r));return n}let Cn=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Tn="xlink:href";let kn=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"];function Mn(t){var e=t.getElementsByTagName("style");let a,i,n={};for(a=0,i=e.length;a<i;a++){let t=(e[a].textContent||"").replace(/\/\*[\s\S]*?\*\//g,"");""!==t.trim()&&t.split("}").filter((t,e,i)=>1<i.length&&t.trim()).forEach(e=>{if(!(1<(e.match(/{/g)||[]).length&&e.trim().startsWith("@"))){let t=e.split("{"),r={},s=t[1].trim().split(";").filter(function(t){return t.trim()});for(a=0,i=s.length;a<i;a++){let t=s[a].split(":"),e=t[0].trim(),i=t[1].trim();r[e]=i}(e=t[0].trim()).split(",").forEach(t=>{""!==(t=t.replace(/^svg/i,"").trim())&&(n[t]=j(j({},n[t]||{}),r))})}})}return n}let En=t=>d.getSVGClass(_n(t).toLowerCase());class Pn{constructor(t,e,i,r,s){this.elements=t,this.options=e,this.reviver=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=r,this.clipPaths=s,this.gradientDefs=(t=>{var e=Sn(t,kn),i={};let r=e.length;for(;r--;){var s=e[r],a=(s.getAttribute("xlink:href")&&function t(e,i){let r,s=(null==(r=i.getAttribute(Tn))?void 0:r.slice(1))||"",a=e.getElementById(s);if(a&&a.getAttribute(Tn)&&t(e,a),a&&(Cn.forEach(t=>{var e=a.getAttribute(t);!i.hasAttribute(t)&&e&&i.setAttribute(t,e)}),!i.children.length)){let t=a.cloneNode(!0);for(;t.firstChild;)i.appendChild(t.firstChild)}i.removeAttribute(Tn)}(t,s),s.getAttribute("id"));a&&(i[a]=s)}return i})(r),this.cssRules=Mn(r)}parse(){return Promise.all(this.elements.map(t=>this.createObject(t)))}async createObject(t){var e=En(t);return e?(e=await e.fromElement(t,this.options,this.cssRules),this.resolveGradient(e,t,C),this.resolveGradient(e,t,m),e instanceof n&&e._originalElement?Hs(e,e.parsePreserveAspectRatioAttribute()):Hs(e),await this.resolveClipPath(e,t),this.reviver&&this.reviver(t,e),e):null}extractPropertyDefinition(t,e,i){var t=t[e],e=this.regexUrl;if(e.test(t))return e.lastIndex=0,t=e.exec(t)[1],e.lastIndex=0,i[t]}resolveGradient(t,e,i){var r=this.extractPropertyDefinition(t,i,this.gradientDefs);r&&(e=e.getAttribute(i+"-opacity"),r=ca.fromElement(r,t,j(j({},this.options),{},{opacity:e})),t.set(i,r))}async resolveClipPath(e,i,r){var s=this.extractPropertyDefinition(e,"clipPath",this.clipPaths);if(s){var a=k(e.calcTransformMatrix()),n=s[0].parentElement;let t=i;for(;!r&&t.parentElement&&t.getAttribute("clip-path")!==e.clipPath;)t=t.parentElement;t.parentElement.appendChild(n);var i=Xr("".concat(t.getAttribute("transform")||""," ").concat(n.getAttribute("originalTransform")||"")),i=(n.setAttribute("transform","matrix(".concat(i.join(","),")")),await Promise.all(s.map(t=>En(t).fromElement(t,this.options,this.cssRules).then(t=>(Hs(t),t.fillRule=t.clipRule,delete t.clipRule,t))))),s=1===i.length?i[0]:new us(i),i=M(a,s.calcTransformMatrix()),{scaleX:a,scaleY:n,angle:i,skewX:o,translateX:l,translateY:h}=(s.clipPath&&await this.resolveClipPath(s,t,n.getAttribute("clip-path")?t:void 0),It(i));s.set({flipX:!1,flipY:!1}),s.set({scaleX:a,scaleY:n,angle:i,skewX:o,skewY:0}),s.setPositionByOrigin(new b(l,h),v,v),e.clipPath=s}else delete e.clipPath}}let On=t=>$e.test(_n(t)),Dn=()=>({objects:[],elements:[],options:{},allElements:[]});async function An(t,e){var{crossOrigin:i,signal:r}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(r&&r.aborted)return N("log",new H("parseSVGDocument")),Dn();var s=t.documentElement,a=((t=>{let e=Sn(t,["use","svg:use"]),a=["x","y","xlink:href","href","transform"];for(var r of e){let e=r.attributes,i={};for(let t of e)t.value&&(i[t.name]=t.value);var n=(i["xlink:href"]||i.href||"").slice(1);if(""===n)return;n=t.getElementById(n);if(null===n)return;let s=n.cloneNode(!0);var o={};for(let t of s.attributes)t.value&&(o[t.name]=t.value);var{x:n=0,y:l=0,transform:h=""}=i,h="".concat(h," ").concat(o.transform||""," translate(").concat(n,", ").concat(l,")");if(xn(s),/^svg$/i.test(s.nodeName)){let i=s.ownerDocument.createElementNS(Xe,"g");Object.entries(o).forEach(t=>{var[t,e]=t;return i.setAttributeNS(Xe,t,e)}),i.append(...s.childNodes),s=i}for(let t of e)if(t){let{name:e,value:r}=t;if(!a.includes(e))if("style"===e){let i={},t=(Gr(r,i),Object.entries(o).forEach(t=>{var[t,e]=t;i[t]=e}),Gr(o.style||"",i),Object.entries(i).map(t=>t.join(":")).join(";"));s.setAttribute(e,t)}else o[e]||s.setAttribute(e,r)}s.setAttribute("transform",h),s.setAttribute("instantiated_by_use","1"),s.removeAttribute("id"),r.parentNode.replaceChild(s,r)}})(t),Array.from(s.getElementsByTagName("*"))),s=j(j({},xn(s)),{},{crossOrigin:i,signal:r}),i=a.filter(e=>(xn(e),On(e)&&!(()=>{let t=e;for(;t=t&&t.parentElement;)if(t&&t.nodeName&&wn.test(_n(t))&&!t.getAttribute("instantiated_by_use"))return 1})()));if(!i||!i.length)return j(j({},Dn()),{},{options:s,allElements:a});let n={};return a.filter(t=>"clipPath"===_n(t)).forEach(t=>{t.setAttribute("originalTransform",t.getAttribute("transform")||"");var e=t.getAttribute("id");n[e]=Array.from(t.getElementsByTagName("*")).filter(t=>On(t))}),{objects:await new Pn(i,s,e,t,n).parse(),elements:i,options:s,allElements:a}}let Ln=ht,In=a=>function(t,e,i){var{points:r,pathOffset:s}=i;return new b(r[a]).subtract(s).transform(M(i.getViewportTransform(),i.calcTransformMatrix()))},jn=(t,e,i,r)=>{var{target:e,pointIndex:s}=e,i=Ee(new b(i,r),void 0,e.calcOwnMatrix());return e.points[s]=i.add(e.pathOffset),e.setDimensions(),!0},Fn=(o,l)=>function(t,e,i,r){var s=e.target,a=new b(s.points[(0<o?o:s.points.length)-1]),n=a.subtract(s.pathOffset).transform(s.calcOwnMatrix()),t=l(t,j(j({},e),{},{pointIndex:o}),i,r),e=a.subtract(s.pathOffset).transform(s.calcOwnMatrix()).subtract(n);return s.left-=e.x,s.top-=e.y,t},Rn=t=>Fi(Ln,Fn(t,jn)),Bn=(t,e,i)=>{var{path:r,pathOffset:s}=t,r=r[e];return new b(r[i]-s.x,r[i+1]-s.y).transform(M(t.getViewportTransform(),t.calcTransformMatrix()))};function Nn(t,e,i){var{commandIndex:r,pointIndex:s}=this;return Bn(i,r,s)}function zn(t,e,i,r){var s=e.target,{commandIndex:a,pointIndex:n}=this,s=((t,e,i,r,s)=>{var{path:a,pathOffset:n}=t,o=a[(0<r?r:a.length)-1],o=new b(o[s],o[s+1]),l=o.subtract(n).transform(t.calcOwnMatrix()),e=Ee(new b(e,i),void 0,t.calcOwnMatrix()),i=(a[r][s]=e.x+n.x,a[r][s+1]=e.y+n.y,t.setDimensions(),o.subtract(t.pathOffset).transform(t.calcOwnMatrix()).subtract(l));return t.left-=i.x,t.top-=i.y,t.set("dirty",!0),!0})(s,i,r,a,n);return Oe(this.actionName,j(j({},Fe(t,e,i,r)),{},{commandIndex:a,pointIndex:n})),s}class Hn extends s{constructor(t){super(t)}render(t,e,i,r,s){r=j(j({},r),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(t,e,i,r,s)}}class Wn extends Hn{constructor(t){super(t)}render(e,i,r,t,s){var a=s.path,{commandIndex:n,pointIndex:o,connectToCommandIndex:l,connectToPointIndex:h}=this,[a]=(e.save(),e.strokeStyle=this.controlStroke,this.connectionDashArray&&e.setLineDash(this.connectionDashArray),a[n]),l=Bn(s,l,h);if("Q"===a){let t=Bn(s,n,o+2);e.moveTo(t.x,t.y),e.lineTo(i,r)}else e.moveTo(i,r);e.lineTo(l.x,l.y),e.stroke(),e.restore(),super.render(e,i,r,t,s)}}let Vn=(t,e,i,r,s,a)=>new(i?Wn:Hn)(j(j({commandIndex:t,pointIndex:e,actionName:"modifyPath",positionHandler:Nn,actionHandler:zn,connectToCommandIndex:s,connectToPointIndex:a},r),i?r.controlPointStyle:r.pointStyle)),Xn=Object.freeze({__proto__:null,changeWidth:Bi,createObjectDefaultControls:hr,createPathControls:function(t){let s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a={},n="M";return t.path.forEach((t,e)=>{var i,r=t[0];switch("Z"!==r&&(a["c_".concat(e,"_").concat(r)]=Vn(e,t.length-2,!1,s)),r){case"C":a["c_".concat(e,"_C_CP_1")]=Vn(e,1,!0,s,e-1,"C"===(i=n)?5:"Q"===i?3:1),a["c_".concat(e,"_C_CP_2")]=Vn(e,3,!0,s,e,5);break;case"Q":a["c_".concat(e,"_Q_CP_1")]=Vn(e,1,!0,s,e,3)}n=r}),a},createPolyActionHandler:Rn,createPolyControls:function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={};for(let t=0;t<("number"==typeof e?e:e.points.length);t++)r["p".concat(t)]=new s(j({actionName:Ln,positionHandler:In(t),actionHandler:Rn(t)},i));return r},createPolyPositionHandler:In,createResizeControls:cr,createTextboxDefaultControls:dr,dragHandler:Ne,factoryPolyActionHandler:Fn,getLocalPoint:Be,polyActionHandler:jn,renderCircleControl:Ni,renderSquareControl:zi,rotationStyleHandler:Hi,rotationWithSnapping:Wi,scaleCursorStyleHandler:Gi,scaleOrSkewActionName:ar,scaleSkewCursorStyleHandler:nr,scalingEqually:Ui,scalingX:$i,scalingXOrSkewingY:or,scalingY:Ki,scalingYOrSkewingX:lr,skewCursorStyleHandler:tr,skewHandlerX:ir,skewHandlerY:rr,wrapWithFireEvent:Fi,wrapWithFixedAnchor:Ri}),Yn=t=>void 0!==t.webgl,Gn="precision highp float",qn="\n    ".concat(Gn,";\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vTexCoord);\n    }"),Un=["type"],$n=["type"],Kn=new RegExp(Gn,"g");class e{get type(){return this.constructor.type}constructor(){var t=u(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Un);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return qn}getVertexSource(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    void main() {\n      vTexCoord = aPosition;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }"}createProgram(t){let e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getFragmentSource(),i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.getVertexSource();var{WebGLProbe:{GLPrecision:r="highp"}}=Y(),r=("highp"!==r&&(e=e.replace(Kn,Gn.replace("highp",r))),t.createShader(t.VERTEX_SHADER)),s=t.createShader(t.FRAGMENT_SHADER),a=t.createProgram();if(!r||!s||!a)throw new z("Vertex, fragment shader or program creation error");if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new z("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(r)));if(t.shaderSource(s,e),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS))throw new z("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(s)));if(t.attachShader(a,r),t.attachShader(a,s),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS))return(r=this.getUniformLocations(t,a)||{}).uStepW=t.getUniformLocation(a,"uStepW"),r.uStepH=t.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:this.getAttributeLocations(t,a),uniformLocations:r};throw new z('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(a)))}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(e,i){var r=this.constructor.uniformLocations,s={};for(let t=0;t<r.length;t++)s[r[t]]=e.getUniformLocation(i,r[t]);return s}sendAttributeData(t,e,i){var e=e.aPosition,r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.enableVertexAttribArray(e),t.vertexAttribPointer(e,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)}_setupFrameBuffer(t){var e,i,r=t.context;1<t.passes?(e=t.destinationWidth,i=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===i||(r.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(r,e,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())}_swapTextures(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){Yn(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){var e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){var e=t.context,i=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){var e,i;t.helpLayer||({sourceWidth:i,sourceHeight:e}=t,i=S({width:i,height:e}),t.helpLayer=i)}toObject(){var t=Object.keys(this.constructor.defaults||{});return j({type:this.type},t.reduce((t,e)=>(t[e]=this[e],t),{}))}toJSON(){return this.toObject()}static async fromObject(t,e){return new this(u(t,$n))}}c(e,"type","BaseFilter"),c(e,"uniformLocations",[]);let Jn={multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",difference:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"\n    if (uColor.r < 0.5) {\n      gl_FragColor.r *= 2.0 * uColor.r;\n    } else {\n      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n    }\n    if (uColor.g < 0.5) {\n      gl_FragColor.g *= 2.0 * uColor.g;\n    } else {\n      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n    }\n    if (uColor.b < 0.5) {\n      gl_FragColor.b *= 2.0 * uColor.b;\n    } else {\n      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n    }\n    ",tint:"\n    gl_FragColor.rgb *= (1.0 - uColor.a);\n    gl_FragColor.rgb += uColor.rgb;\n    "};class Qn extends e{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec4 uColor;\n      varying vec2 vTexCoord;\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        gl_FragColor = color;\n        if (color.a > 0.0) {\n          ".concat(Jn[this.mode],"\n        }\n      }\n      ")}applyTo2d(t){var{data:s}=t.imageData;let e=new E(this.color).getSource(),a=e[0]*this.alpha,n=e[1]*this.alpha,o=e[2]*this.alpha,l=1-this.alpha;for(let r=0;r<s.length;r+=4){let t=s[r],e=s[r+1],i=s[r+2];switch(this.mode){case"multiply":s[r]=t*a/255,s[r+1]=e*n/255,s[r+2]=i*o/255;break;case"screen":s[r]=255-(255-t)*(255-a)/255,s[r+1]=255-(255-e)*(255-n)/255,s[r+2]=255-(255-i)*(255-o)/255;break;case"add":s[r]=t+a,s[r+1]=e+n,s[r+2]=i+o;break;case"difference":s[r]=Math.abs(t-a),s[r+1]=Math.abs(e-n),s[r+2]=Math.abs(i-o);break;case"subtract":s[r]=t-a,s[r+1]=e-n,s[r+2]=i-o;break;case"darken":s[r]=Math.min(t,a),s[r+1]=Math.min(e,n),s[r+2]=Math.min(i,o);break;case"lighten":s[r]=Math.max(t,a),s[r+1]=Math.max(e,n),s[r+2]=Math.max(i,o);break;case"overlay":s[r]=a<128?2*t*a/255:255-2*(255-t)*(255-a)/255,s[r+1]=n<128?2*e*n/255:255-2*(255-e)*(255-n)/255,s[r+2]=o<128?2*i*o/255:255-2*(255-i)*(255-o)/255;break;case"exclusion":s[r]=a+t-2*a*t/255,s[r+1]=n+e-2*n*e/255,s[r+2]=o+i-2*o*i/255;break;case"tint":s[r]=a+t*l,s[r+1]=n+e*l,s[r+2]=o+i*l}}}sendUniformData(t,e){var i=new E(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(e.uColor,i)}}c(Qn,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),c(Qn,"type","BlendColor"),c(Qn,"uniformLocations",["uColor"]),d.setClass(Qn);let Zn={multiply:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.rgba *= color2.rgba;\n      gl_FragColor = color;\n    }\n    ",mask:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uImage;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 color2 = texture2D(uImage, vTexCoord2);\n      color.a = color2.a;\n      gl_FragColor = color;\n    }\n    "},to=["type","image"];class eo extends e{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return Zn[this.mode]}getVertexSource(){return"\n    attribute vec2 aPosition;\n    varying vec2 vTexCoord;\n    varying vec2 vTexCoord2;\n    uniform mat3 uTransformMatrix;\n    void main() {\n      vTexCoord = aPosition;\n      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }\n    "}applyToWebGL(t){var e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){var t=this.image,{width:e,height:i}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]}applyTo2d(t){let{imageData:{data:h,width:e,height:i},filterBackend:{resources:r}}=t,s=this.image,a=(r.blendImage||(r.blendImage=w()),r.blendImage),n=a.getContext("2d");a.width!==e||a.height!==i?(a.width=e,a.height=i):n.clearRect(0,0,e,i),n.setTransform(s.scaleX,0,0,s.scaleY,s.left,s.top),n.drawImage(s.getElement(),0,0,e,i);var c=n.getImageData(0,0,e,i).data;for(let l=0;l<h.length;l+=4){let t=h[l],e=h[l+1],i=h[l+2],r=h[l+3],s=c[l],a=c[l+1],n=c[l+2],o=c[l+3];switch(this.mode){case"multiply":h[l]=t*s/255,h[l+1]=e*a/255,h[l+2]=i*n/255,h[l+3]=r*o/255;break;case"mask":h[l+3]=o}}}sendUniformData(t,e){var i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)}toObject(){return j(j({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(t,e){let i=t.image,r=u(t,to);return n.fromObject(i,e).then(t=>new this(j(j({},r),{},{image:t})))}}c(eo,"type","BlendImage"),c(eo,"defaults",{mode:"multiply",alpha:1}),c(eo,"uniformLocations",["uTransformMatrix","uImage"]),d.setClass(eo);class io extends e{getFragmentSource(){return"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec2 uDelta;\n    varying vec2 vTexCoord;\n    const float nSamples = 15.0;\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\n    float random(vec3 scale) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n    }\n    void main() {\n      vec4 color = vec4(0.0);\n      float total = 0.0;\n      float offset = random(v3offset);\n      for (float t = -nSamples; t <= nSamples; t++) {\n        float percent = (t + offset - 0.5) / nSamples;\n        float weight = 1.0 - abs(percent);\n        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\n        total += weight;\n      }\n      gl_FragColor = color / total;\n    }\n  "}applyTo(t){Yn(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){t.imageData=this.simpleBlur(t)}simpleBlur(t){var{ctx:t,imageData:e,filterBackend:{resources:i}}=t,{width:r,height:s}=e,a=(i.blurLayer1||(i.blurLayer1=w(),i.blurLayer2=w()),i.blurLayer1),n=i.blurLayer2,o=(a.width===r&&a.height===s||(n.width=a.width=r,n.height=a.height=s),a.getContext("2d")),l=n.getContext("2d"),h=.06*this.blur*.5;let c,d,u,p;for(o.putImageData(e,0,0),l.clearRect(0,0,r,s),p=-15;p<=15;p++)c=(Math.random()-.5)/4,d=p/15,u=h*d*r+c,l.globalAlpha=1-Math.abs(d),l.drawImage(a,u,c),o.drawImage(n,0,0),l.globalAlpha=1,l.clearRect(0,0,n.width,n.height);for(p=-15;p<=15;p++)c=(Math.random()-.5)/4,d=p/15,u=h*d*s+c,l.globalAlpha=1-Math.abs(d),l.drawImage(a,c,u),o.drawImage(n,0,0),l.globalAlpha=1,l.clearRect(0,0,n.width,n.height);t.drawImage(a,0,0);i=t.getImageData(0,0,a.width,a.height);return o.globalAlpha=1,o.clearRect(0,0,a.width,a.height),i}sendUniformData(t,e){var i=this.chooseRightDelta();t.uniform2fv(e.uDelta,i)}isNeutralState(){return 0===this.blur}chooseRightDelta(){let t=1;var e=[0,0],i=(this.horizontal?1<this.aspectRatio&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),t*this.blur*.12);return this.horizontal?e[0]=i:e[1]=i,e}}c(io,"type","Blur"),c(io,"defaults",{blur:0}),c(io,"uniformLocations",["uDelta"]),d.setClass(io);class ro extends e{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBrightness;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += uBrightness;\n    gl_FragColor = color;\n  }\n"}applyTo2d(t){var{data:e}=t.imageData,i=Math.round(255*this.brightness);for(let t=0;t<e.length;t+=4)e[t]=e[t]+i,e[t+1]=e[t+1]+i,e[t+2]=e[t+2]+i}isNeutralState(){return 0===this.brightness}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}}c(ro,"type","Brightness"),c(ro,"defaults",{brightness:0}),c(ro,"uniformLocations",["uBrightness"]),d.setClass(ro);class so extends e{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  varying vec2 vTexCoord;\n  uniform mat4 uColorMatrix;\n  uniform vec4 uConstants;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color *= uColorMatrix;\n    color += uConstants;\n    gl_FragColor = color;\n  }"}applyTo2d(t){let i=t.imageData.data,r=this.matrix,s=this.colorsOnly;for(let e=0;e<i.length;e+=4){var a=i[e],n=i[e+1],o=i[e+2];if(s)i[e]=a*r[0]+n*r[1]+o*r[2]+255*r[4],i[e+1]=a*r[5]+n*r[6]+o*r[7]+255*r[9],i[e+2]=a*r[10]+n*r[11]+o*r[12]+255*r[14];else{let t=i[e+3];i[e]=a*r[0]+n*r[1]+o*r[2]+t*r[3]+255*r[4],i[e+1]=a*r[5]+n*r[6]+o*r[7]+t*r[8]+255*r[9],i[e+2]=a*r[10]+n*r[11]+o*r[12]+t*r[13]+255*r[14],i[e+3]=a*r[15]+n*r[16]+o*r[17]+t*r[18]+255*r[19]}}}sendUniformData(t,e){var i=this.matrix,r=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],i=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,r),t.uniform4fv(e.uConstants,i)}toObject(){return j(j({},super.toObject()),{},{matrix:[...this.matrix]})}}function ao(t,e){c(i=class extends so{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",t),c(i,"defaults",{colorsOnly:!1,matrix:e});var i,e=i;return d.setClass(e,t),e}c(so,"type","ColorMatrix"),c(so,"defaults",{matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0}),c(so,"uniformLocations",["uColorMatrix","uConstants"]),d.setClass(so);var an=ao("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]),en=ao("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]),sn=ao("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]),rn=ao("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]),nn=ao("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]),no=ao("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]),oo=ao("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class lo extends e{constructor(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(e){Yn(e)&&(e.passes+=this.subFilters.length-1),this.subFilters.forEach(t=>{t.applyTo(e)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(t=>d.getClass(t.type).fromObject(t,e))).then(t=>new this({subFilters:t}))}}c(lo,"type","Composed"),d.setClass(lo);class ho extends e{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uContrast;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\n    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\n    gl_FragColor = color;\n  }"}isNeutralState(){return 0===this.contrast}applyTo2d(t){var e=t.imageData.data,t=Math.floor(255*this.contrast),i=259*(t+255)/(255*(259-t));for(let t=0;t<e.length;t+=4)e[t]=i*(e[t]-128)+128,e[t+1]=i*(e[t+1]-128)+128,e[t+2]=i*(e[t+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}}c(ho,"type","Contrast"),c(ho,"defaults",{contrast:0}),c(ho,"uniformLocations",["uContrast"]),d.setClass(ho);let co={Convolute_3_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_3_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[9];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 3.0; h+=1.0) {\n        for (float w = 0.0; w < 3.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_5_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_5_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[25];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 5.0; h+=1.0) {\n        for (float w = 0.0; w < 5.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_7_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_7_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[49];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 7.0; h+=1.0) {\n        for (float w = 0.0; w < 7.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    ",Convolute_9_1:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 0);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      gl_FragColor = color;\n    }\n    ",Convolute_9_0:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uMatrix[81];\n    uniform float uStepW;\n    uniform float uStepH;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = vec4(0, 0, 0, 1);\n      for (float h = 0.0; h < 9.0; h+=1.0) {\n        for (float w = 0.0; w < 9.0; w+=1.0) {\n          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\n          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n        }\n      }\n      float alpha = texture2D(uTexture, vTexCoord).a;\n      gl_FragColor = color;\n      gl_FragColor.a = alpha;\n    }\n    "};class uo extends e{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return co[this.getCacheKey()]}applyTo2d(t){var e=t.imageData,i=e.data,r=this.matrix,s=Math.round(Math.sqrt(r.length)),a=Math.floor(s/2),n=e.width,o=e.height,e=t.ctx.createImageData(n,o),l=e.data,h=this.opaque?1:0;let c,d,u,p,f,g,m,v,y,b,x,_,w;for(x=0;x<o;x++)for(b=0;b<n;b++){for(f=4*(x*n+b),c=0,d=0,u=0,p=0,w=0;w<s;w++)for(_=0;_<s;_++)m=x+w-a,g=b+_-a,m<0||o<=m||g<0||n<=g||(v=4*(m*n+g),y=r[w*s+_],c+=i[v]*y,d+=i[1+v]*y,u+=i[2+v]*y,h)||(p+=i[3+v]*y);l[f]=c,l[1+f]=d,l[2+f]=u,l[3+f]=h?i[3+f]:p}t.imageData=e}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return j(j({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}c(uo,"type","Convolute"),c(uo,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),c(uo,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),d.setClass(uo);class po extends e{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform vec3 uGamma;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    vec3 correction = (1.0 / uGamma);\n    color.r = pow(color.r, correction.r);\n    color.g = pow(color.g, correction.g);\n    color.b = pow(color.b, correction.b);\n    gl_FragColor = color;\n    gl_FragColor.rgb *= color.a;\n  }\n"}constructor(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){var e=t.imageData.data,t=this.gamma,i=1/t[0],r=1/t[1],s=1/t[2],a=(this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)}),this.rgbValues);for(let t=0;t<256;t++)a.r[t]=255*Math.pow(t/255,i),a.g[t]=255*Math.pow(t/255,r),a.b[t]=255*Math.pow(t/255,s);for(let t=0;t<e.length;t+=4)e[t]=a.r[e[t]],e[t+1]=a.g[e[t+1]],e[t+2]=a.b[e[t+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){var t=this.gamma;return 1===t[0]&&1===t[1]&&1===t[2]}toObject(){return{type:"Gamma",gamma:this.gamma.concat()}}}c(po,"type","Gamma"),c(po,"defaults",{gamma:[1,1,1]}),c(po,"uniformLocations",["uGamma"]),d.setClass(po);let fo={average:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float average = (color.r + color.b + color.g) / 3.0;\n      gl_FragColor = vec4(average, average, average, color.a);\n    }\n    ",lightness:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    ",luminosity:"\n    precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uMode;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 col = texture2D(uTexture, vTexCoord);\n      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\n      gl_FragColor = vec4(average, average, average, col.a);\n    }\n    "};class go extends e{applyTo2d(t){var{data:i}=t.imageData;for(let t,e=0;e<i.length;e+=4){switch(this.mode){case"average":t=(i[e]+i[e+1]+i[e+2])/3;break;case"lightness":t=(Math.min(i[e],i[e+1],i[e+2])+Math.max(i[e],i[e+1],i[e+2]))/2;break;case"luminosity":t=.21*i[e]+.72*i[e+1]+.07*i[e+2]}i[e]=t,i[e+1]=t,i[e+2]=t}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return fo[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}}c(go,"type","Grayscale"),c(go,"defaults",{mode:"average"}),c(go,"uniformLocations",["uMode"]),d.setClass(go);class mo extends so{calculateMatrix(){var t=this.rotation*Math.PI,e=yt(t),t=bt(t),t=Math.sqrt(1/3)*t,i=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+i/3,this.matrix[1]=1/3*i-t,this.matrix[2]=1/3*i+t,this.matrix[5]=1/3*i+t,this.matrix[6]=e+1/3*i,this.matrix[7]=1/3*i-t,this.matrix[10]=1/3*i-t,this.matrix[11]=1/3*i+t,this.matrix[12]=e+1/3*i}isNeutralState(){return 0===this.rotation}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}c(mo,"type","HueRotation"),c(mo,"defaults",{rotation:0}),d.setClass(mo);class vo extends e{applyTo2d(t){var{data:e}=t.imageData;for(let t=0;t<e.length;t+=4)e[t]=255-e[t],e[t+1]=255-e[t+1],e[t+2]=255-e[t+2],this.alpha&&(e[t+3]=255-e[t+3])}getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform int uInvert;\n  uniform int uAlpha;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    if (uInvert == 1) {\n      if (uAlpha == 1) {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);\n      } else {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n      }\n    } else {\n      gl_FragColor = color;\n    }\n  }\n"}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}}c(vo,"type","Invert"),c(vo,"defaults",{alpha:!1,invert:!0}),c(vo,"uniformLocations",["uInvert","uAlpha"]),d.setClass(vo);class yo extends e{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uStepH;\n  uniform float uNoise;\n  uniform float uSeed;\n  varying vec2 vTexCoord;\n  float rand(vec2 co, float seed, float vScale) {\n    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n  }\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\n    gl_FragColor = color;\n  }\n"}applyTo2d(t){var{data:e}=t.imageData,i=this.noise;for(let t=0;t<e.length;t+=4){var r=(.5-Math.random())*i;e[t]+=r,e[t+1]+=r,e[t+2]+=r}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return 0===this.noise}}c(yo,"type","Noise"),c(yo,"defaults",{noise:0}),c(yo,"uniformLocations",["uNoise","uSeed"]),d.setClass(yo);class bo extends e{applyTo2d(t){let{data:r,width:s,height:a}=t.imageData;for(let e=0;e<a;e+=this.blocksize)for(let t=0;t<s;t+=this.blocksize){var i=4*e*s+4*t,n=r[i],o=r[1+i],l=r[2+i],h=r[3+i];for(let i=e;i<Math.min(e+this.blocksize,a);i++)for(let e=t;e<Math.min(t+this.blocksize,s);e++){let t=4*i*s+4*e;r[t]=n,r[1+t]=o,r[2+t]=l,r[3+t]=h}}}isNeutralState(){return 1===this.blocksize}getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uBlocksize;\n  uniform float uStepW;\n  uniform float uStepH;\n  varying vec2 vTexCoord;\n  void main() {\n    float blockW = uBlocksize * uStepW;\n    float blockH = uBlocksize * uStepH;\n    int posX = int(vTexCoord.x / blockW);\n    int posY = int(vTexCoord.y / blockH);\n    float fposX = float(posX);\n    float fposY = float(posY);\n    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\n    vec4 color = texture2D(uTexture, squareCoords);\n    gl_FragColor = color;\n  }\n"}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}c(bo,"type","Pixelate"),c(bo,"defaults",{blocksize:4}),c(bo,"uniformLocations",["uBlocksize"]),d.setClass(bo);class xo extends e{getFragmentSource(){return"\nprecision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\n  gl_FragColor = texture2D(uTexture, vTexCoord);\n  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\n    gl_FragColor.a = 0.0;\n  }\n}\n"}applyTo2d(t){var{data:s}=t.imageData;let e=255*this.distance,i=new E(this.color).getSource(),a=[i[0]-e,i[1]-e,i[2]-e],n=[i[0]+e,i[1]+e,i[2]+e];for(let r=0;r<s.length;r+=4){let t=s[r],e=s[r+1],i=s[r+2];t>a[0]&&e>a[1]&&a[2]<i&&t<n[0]&&e<n[1]&&i<n[2]&&(s[r+3]=0)}}sendUniformData(t,e){var i=new E(this.color).getSource(),r=this.distance,s=[0+i[0]/255-r,0+i[1]/255-r,0+i[2]/255-r,1],i=[i[0]/255+r,i[1]/255+r,i[2]/255+r,1];t.uniform4fv(e.uLow,s),t.uniform4fv(e.uHigh,i)}}c(xo,"type","RemoveColor"),c(xo,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),c(xo,"uniformLocations",["uLow","uHigh"]),d.setClass(xo);class _o extends e{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){var t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){var t=this.getFilterWindow();return this.generateShader(t)}getTaps(){var e=this.lanczosCreate(this.lanczosLobes),i=this.tempScale,r=this.getFilterWindow(),s=new Array(r);for(let t=1;t<=r;t++)s[t-1]=e(t*i);return s}generateShader(e){var i=new Array(e);for(let t=1;t<=e;t++)i[t-1]="".concat(t,".0 * uDelta");return"\n      precision highp float;\n      uniform sampler2D uTexture;\n      uniform vec2 uDelta;\n      varying vec2 vTexCoord;\n      uniform float uTaps[".concat(e,"];\n      void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n        float sum = 1.0;\n        ").concat(i.map((t,e)=>"\n              color += texture2D(uTexture, vTexCoord + ".concat(t,") * uTaps[").concat(e,"] + texture2D(uTexture, vTexCoord - ").concat(t,") * uTaps[").concat(e,"];\n              sum += 2.0 * uTaps[").concat(e,"];\n            ")).join("\n"),"\n        gl_FragColor = color / sum;\n      }\n    ")}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){Yn(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return 1===this.scaleX&&1===this.scaleY}lanczosCreate(i){return t=>{var e;return i<=t||t<=-i?0:t<1.1920929e-7&&-1.1920929e-7<t?1:(e=(t*=Math.PI)/i,Math.sin(t)/t*Math.sin(e)/e)}}applyTo2d(t){var e=t.imageData,i=this.scaleX,r=this.scaleY,s=(this.rcpScaleX=1/i,this.rcpScaleY=1/r,e.width),e=e.height,i=Math.round(s*i),r=Math.round(e*r),s="sliceHack"===this.resizeType?this.sliceByTwo(t,s,e,i,r):"hermite"===this.resizeType?this.hermiteFastResize(t,s,e,i,r):"bilinear"===this.resizeType?this.bilinearFiltering(t,s,e,i,r):"lanczos"===this.resizeType?this.lanczosResize(t,s,e,i,r):new ImageData(i,r);t.imageData=s}sliceByTwo(t,e,i,r,s){var a=t.imageData;let n=!1,o=!1,l=.5*e,h=.5*i;t=t.filterBackend.resources;let c=0,d=0;var u=e;let p=0;t.sliceByTwo||(t.sliceByTwo=w());var f=t.sliceByTwo,g=((f.width<1.5*e||f.height<i)&&(f.width=1.5*e,f.height=i),f.getContext("2d"));for(g.clearRect(0,0,1.5*e,i),g.putImageData(a,0,0),r=Math.floor(r),s=Math.floor(s);!n||!o;)e=l,i=h,r<Math.floor(.5*l)?l=Math.floor(.5*l):(l=r,n=!0),s<Math.floor(.5*h)?h=Math.floor(.5*h):(h=s,o=!0),g.drawImage(f,c,d,e,i,u,p,l,h),c=u,d=p,p+=h;return g.getImageData(c,d,r,s)}lanczosResize(t,p,f,g,m){let v=t.imageData.data,y=t.ctx.createImageData(g,m),b=y.data,x=this.lanczosCreate(this.lanczosLobes),_=this.rcpScaleX,w=this.rcpScaleY,S=2/this.rcpScaleX,C=2/this.rcpScaleY,T=Math.ceil(_*this.lanczosLobes/2),k=Math.ceil(w*this.lanczosLobes/2),M={},E={x:0,y:0},P={x:0,y:0};return function t(e){let i,r,s,a,n,o,l,h,c,d,u;for(E.x=(e+.5)*_,P.x=Math.floor(E.x),i=0;i<m;i++){for(E.y=(i+.5)*w,P.y=Math.floor(E.y),n=0,o=0,l=0,h=0,c=0,r=P.x-T;r<=P.x+T;r++)if(!(r<0||r>=p)){d=Math.floor(1e3*Math.abs(r-E.x)),M[d]||(M[d]={});for(let t=P.y-k;t<=P.y+k;t++)t<0||t>=f||(u=Math.floor(1e3*Math.abs(t-E.y)),M[d][u]||(M[d][u]=x(Math.sqrt(Math.pow(d*S,2)+Math.pow(u*C,2))/1e3)),0<(s=M[d][u])&&(a=4*(t*p+r),n+=s,o+=s*v[a],l+=s*v[a+1],h+=s*v[a+2],c+=s*v[a+3]))}a=4*(i*g+e),b[a]=o/n,b[a+1]=l/n,b[a+2]=h/n,b[a+3]=c/n}return++e<g?t(e):y}(0)}bilinearFiltering(t,e,i,r,s){let a,n,o,l,h,c,d,u,p,f,g,m,v=0;var y=this.rcpScaleX,b=this.rcpScaleY,x=4*(e-1),_=t.imageData.data,t=t.ctx.createImageData(r,s),w=t.data;for(d=0;d<s;d++)for(u=0;u<r;u++)for(h=Math.floor(y*u),c=Math.floor(b*d),p=y*u-h,f=b*d-c,m=4*(c*e+h),g=0;g<4;g++)a=_[m+g],n=_[4+m+g],o=_[m+x+g],l=_[m+x+4+g],w[v++]=a*(1-p)*(1-f)+n*p*(1-f)+o*f*(1-p)+l*p*f;return t}hermiteFastResize(t,p,e,i,r){let f=this.rcpScaleX,g=this.rcpScaleY,m=Math.ceil(f/2),v=Math.ceil(g/2),y=t.imageData.data,s=t.ctx.createImageData(i,r),b=s.data;for(let e=0;e<r;e++)for(let u=0;u<i;u++){let t=4*(u+e*i),a=0,n=0,o=0,l=0,h=0,c=0,d=0;var x=(e+.5)*g;for(let s=Math.floor(e*g);s<(e+1)*g;s++){let t=Math.abs(x-(s+.5))/v,i=(u+.5)*f,r=t*t;for(let e=Math.floor(u*f);e<(u+1)*f;e++){var _=Math.abs(i-(e+.5))/m;let t=Math.sqrt(r+_*_);1<t&&t<-1||0<(a=2*t*t*t-3*t*t+1)&&(_=4*(e+s*p),d+=a*y[3+_],o+=a,y[3+_]<255&&(a=a*y[3+_]/250),l+=a*y[_],h+=a*y[1+_],c+=a*y[2+_],n+=a)}}b[t]=l/n,b[1+t]=h/n,b[2+t]=c/n,b[3+t]=d/o}return s}}c(_o,"type","Resize"),c(_o,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),c(_o,"uniformLocations",["uDelta","uTaps"]),d.setClass(_o);class wo extends e{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uSaturation;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float rgMax = max(color.r, color.g);\n    float rgbMax = max(rgMax, color.b);\n    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\n    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\n    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\n    gl_FragColor = color;\n  }\n"}applyTo2d(t){var{data:e}=t.imageData,i=-this.saturation;for(let t=0;t<e.length;t+=4){var r=Math.max(e[t],e[t+1],e[t+2]);e[t]+=r!==e[t]?(r-e[t])*i:0,e[t+1]+=r!==e[t+1]?(r-e[t+1])*i:0,e[t+2]+=r!==e[t+2]?(r-e[t+2])*i:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return 0===this.saturation}}c(wo,"type","Saturation"),c(wo,"defaults",{saturation:0}),c(wo,"uniformLocations",["uSaturation"]),d.setClass(wo);class So extends e{getFragmentSource(){return"\n  precision highp float;\n  uniform sampler2D uTexture;\n  uniform float uVibrance;\n  varying vec2 vTexCoord;\n  void main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    float max = max(color.r, max(color.g, color.b));\n    float avg = (color.r + color.g + color.b) / 3.0;\n    float amt = (abs(max - avg) * 2.0) * uVibrance;\n    color.r += max != color.r ? (max - color.r) * amt : 0.00;\n    color.g += max != color.g ? (max - color.g) * amt : 0.00;\n    color.b += max != color.b ? (max - color.b) * amt : 0.00;\n    gl_FragColor = color;\n  }\n"}applyTo2d(t){var e=t.imageData.data,i=-this.vibrance;for(let t=0;t<e.length;t+=4){var r=Math.max(e[t],e[t+1],e[t+2]),s=(e[t]+e[t+1]+e[t+2])/3,s=2*Math.abs(r-s)/255*i;e[t]+=r!==e[t]?(r-e[t])*s:0,e[t+1]+=r!==e[t+1]?(r-e[t+1])*s:0,e[t+2]+=r!==e[t+2]?(r-e[t+2])*s:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return 0===this.vibrance}}c(So,"type","Vibrance"),c(So,"defaults",{vibrance:0}),c(So,"uniformLocations",["uVibrance"]),d.setClass(So);oo=Object.freeze({__proto__:null,BaseFilter:e,BlackWhite:oo,BlendColor:Qn,BlendImage:eo,Blur:io,Brightness:ro,Brownie:an,ColorMatrix:so,Composed:lo,Contrast:ho,Convolute:uo,Gamma:po,Grayscale:go,HueRotation:mo,Invert:vo,Kodachrome:sn,Noise:yo,Pixelate:bo,Polaroid:nn,RemoveColor:xo,Resize:_o,Saturation:wo,Sepia:no,Technicolor:rn,Vibrance:So,Vintage:en});I.ActiveSelection=un,I.BaseBrush=pa,I.BaseFabricObject=pe,I.Canvas=Js,I.Canvas2dFilterBackend=pn,I.CanvasDOMManager=Vs,I.Circle=xa,I.CircleBrush=class extends pa{constructor(t){super(t),c(this,"width",10),this.points=[]}drawDot(t){var t=this.addPoint(t),e=this.canvas.contextTop;this._saveAndTransform(e),this.dot(e,t),e.restore()}dot(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()}onMouseDown(t){this.points=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)}_render(){var e=this.canvas.contextTop,i=this.points;this._saveAndTransform(e);for(let t=0;t<i.length;t++)this.dot(e,i[t]);e.restore()}onMouseMove(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))}onMouseUp(){var t=this.canvas.renderOnAddRemove,r=(this.canvas.renderOnAddRemove=!1,[]);for(let i=0;i<this.points.length;i++){let t=this.points[i],e=new xa({radius:t.radius,left:t.x,top:t.y,originX:v,originY:v,fill:t.fill});this.shadow&&(e.shadow=new ui(this.shadow)),r.push(e)}let e=new us(r,{canvas:this.canvas});this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.fire("path:created",{path:e}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()}addPoint(t){var{x:t,y:e}=t,t={x:t,y:e,radius:Ns(Math.max(0,this.width-20),this.width+20)/2,fill:new E(this.color).setAlpha(Ns(0,100)/100).toRgba()};return this.points.push(t),t}},I.ClipPathLayout=hn,I.Color=E,I.Control=s,I.Ellipse=Ma,I.FabricImage=n,I.FabricObject=L,I.FabricText=B,I.FitContentLayout=as,I.FixedLayout=cn,I.Gradient=ca,I.Group=us,I.IText=on,I.Image=n,I.InteractiveFabricObject=ur,I.Intersection=A,I.LayoutManager=hs,I.LayoutStrategy=ss,I.Line=Ca,I.Object=L,I.Observable=mt,I.Path=ma,I.Pattern=ua,I.PatternBrush=class extends va{constructor(t){super(t)}getPatternSrc(){var t=w(),e=t.getContext("2d");return t.width=t.height=25,e&&(e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill()),t}getPattern(t){return t.createPattern(this.source||this.getPatternSrc(),"repeat")}_setBrushStyles(t){super._setBrushStyles(t);var e=this.getPattern(t);e&&(t.strokeStyle=e)}createPath(t){var t=super.createPath(t),e=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new ua({source:this.source||this.getPatternSrc(),offsetX:-e.x,offsetY:-e.y}),t}},I.PencilBrush=va,I.Point=b,I.Polygon=Aa,I.Polyline=Da,I.Rect=Qr,I.Shadow=ui,I.SprayBrush=class extends pa{constructor(t){super(t),c(this,"width",10),c(this,"density",20),c(this,"dotWidth",1),c(this,"dotWidthVariance",1),c(this,"randomOpacity",!1),c(this,"optimizeOverlapping",!0),this.sprayChunks=[],this.sprayChunk=[]}onMouseDown(t){this.sprayChunks=[],this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.renderChunck(this.sprayChunk)}onMouseMove(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.renderChunck(this.sprayChunk))}onMouseUp(){var t=this.canvas.renderOnAddRemove,i=(this.canvas.renderOnAddRemove=!1,[]);for(let t=0;t<this.sprayChunks.length;t++){let e=this.sprayChunks[t];for(let t=0;t<e.length;t++){var r=e[t],r=new Qr({width:r.width,height:r.width,left:r.x+1,top:r.y+1,originX:v,originY:v,fill:this.color});i.push(r)}}let e=new us(this.optimizeOverlapping?(i=>{var r={},s=[];for(let t,e=0;e<i.length;e++)r[t="".concat(i[e].left).concat(i[e].top)]||(r[t]=!0,s.push(i[e]));return s})(i):i,{objectCaching:!0,subTargetCheck:!1,interactive:!1});this.shadow&&e.set("shadow",new ui(this.shadow)),this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.fire("path:created",{path:e}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()}renderChunck(e){var i=this.canvas.contextTop;i.fillStyle=this.color,this._saveAndTransform(i);for(let t=0;t<e.length;t++){var r=e[t];i.globalAlpha=r.opacity,i.fillRect(r.x,r.y,r.width,r.width)}i.restore()}_render(){var t=this.canvas.contextTop;t.fillStyle=this.color,this._saveAndTransform(t);for(let t=0;t<this.sprayChunks.length;t++)this.renderChunck(this.sprayChunks[t]);t.restore()}addSprayChunk(e){this.sprayChunk=[];var i=this.width/2;for(let t=0;t<this.density;t++)this.sprayChunk.push({x:Ns(e.x-i,e.x+i),y:Ns(e.y-i,e.y+i),width:this.dotWidthVariance?Ns(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth,opacity:this.randomOpacity?Ns(0,100)/100:1});this.sprayChunks.push(this.sprayChunk)}},I.StaticCanvas=fe,I.StaticCanvasDOMManager=ue,I.Text=B,I.Textbox=ln,I.Triangle=Ta,I.WebGLFilterBackend=fn,I.cache=$,I.classRegistry=d,I.config=F,I.controlsUtils=Xn,I.createCollectionMixin=wt,I.filters=oo,I.getCSSRules=Mn,I.getEnv=Y,I.getFabricDocument=G,I.getFabricWindow=q,I.getFilterBackend=vn,I.iMatrix=p,I.initFilterBackend=mn,I.isPutImageFaster=(t,e)=>{var i=S({width:t,height:e}),r=w().getContext("webgl"),s={imageBuffer:new ArrayBuffer(t*e*4)},t={destinationWidth:t,destinationHeight:e,targetCanvas:i},e=q().performance.now(),i=(fn.prototype.copyGLTo2D.call(s,r,t),q().performance.now()-e);return e=q().performance.now(),fn.prototype.copyGLTo2DPutImageData.call(s,r,t),i>q().performance.now()-e},I.isWebGLPipelineState=Yn,I.loadSVGFromString=function(t,e,i){return An((new(q().DOMParser)).parseFromString(t.trim(),"text/xml"),e,i)},I.loadSVGFromURL=function(t,e){let r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return new Promise((e,i)=>{zs(t.replace(/^\n\s*/,"").trim(),{onComplete:t=>{t=t.responseXML;t&&e(t),i()},signal:r.signal})}).then(t=>An(t,e,r)).catch(()=>Dn())},I.parseAttributes=$r,I.parseFontDeclaration=Yr,I.parsePointsAttribute=Ea,I.parseSVGDocument=An,I.parseStyleAttribute=qr,I.parseTransformAttribute=Xr,I.runningAnimations=gt,I.setEnv=t=>{X=t},I.setFilterBackend=function(t){gn=t},I.util=Ws,I.version=K});var pJS=function(t,e){var i=document.querySelector("#"+t+" > .particles-js-canvas-el"),d=(this.pJS={canvas:{el:i,w:i.offsetWidth,h:i.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}},this.pJS);e&&Object.deepExtend(d,e),d.tmp.obj={size_value:d.particles.size.value,size_anim_speed:d.particles.size.anim.speed,move_speed:d.particles.move.speed,line_linked_distance:d.particles.line_linked.distance,line_linked_width:d.particles.line_linked.width,mode_grab_distance:d.interactivity.modes.grab.distance,mode_bubble_distance:d.interactivity.modes.bubble.distance,mode_bubble_size:d.interactivity.modes.bubble.size,mode_repulse_distance:d.interactivity.modes.repulse.distance},d.fn.retinaInit=function(){d.retina_detect&&1<window.devicePixelRatio?(d.canvas.pxratio=window.devicePixelRatio,d.tmp.retina=!0):(d.canvas.pxratio=1,d.tmp.retina=!1),d.canvas.w=d.canvas.el.offsetWidth*d.canvas.pxratio,d.canvas.h=d.canvas.el.offsetHeight*d.canvas.pxratio,d.particles.size.value=d.tmp.obj.size_value*d.canvas.pxratio,d.particles.size.anim.speed=d.tmp.obj.size_anim_speed*d.canvas.pxratio,d.particles.move.speed=d.tmp.obj.move_speed*d.canvas.pxratio,d.particles.line_linked.distance=d.tmp.obj.line_linked_distance*d.canvas.pxratio,d.interactivity.modes.grab.distance=d.tmp.obj.mode_grab_distance*d.canvas.pxratio,d.interactivity.modes.bubble.distance=d.tmp.obj.mode_bubble_distance*d.canvas.pxratio,d.particles.line_linked.width=d.tmp.obj.line_linked_width*d.canvas.pxratio,d.interactivity.modes.bubble.size=d.tmp.obj.mode_bubble_size*d.canvas.pxratio,d.interactivity.modes.repulse.distance=d.tmp.obj.mode_repulse_distance*d.canvas.pxratio},d.fn.canvasInit=function(){d.canvas.ctx=d.canvas.el.getContext("2d")},d.fn.canvasSize=function(){d.canvas.el.width=d.canvas.w,d.canvas.el.height=d.canvas.h,d&&d.interactivity.events.resize&&window.addEventListener("resize",function(){d.canvas.w=d.canvas.el.offsetWidth,d.canvas.h=d.canvas.el.offsetHeight,d.tmp.retina&&(d.canvas.w*=d.canvas.pxratio,d.canvas.h*=d.canvas.pxratio),d.canvas.el.width=d.canvas.w,d.canvas.el.height=d.canvas.h,d.particles.move.enable||(d.fn.particlesEmpty(),d.fn.particlesCreate(),d.fn.particlesDraw(),d.fn.vendors.densityAutoParticles()),d.fn.vendors.densityAutoParticles()})},d.fn.canvasPaint=function(){d.canvas.ctx.fillRect(0,0,d.canvas.w,d.canvas.h)},d.fn.canvasClear=function(){d.canvas.ctx.clearRect(0,0,d.canvas.w,d.canvas.h)},d.fn.particle=function(t,e,i){this.radius=(d.particles.size.random?Math.random():1)*d.particles.size.value,d.particles.size.anim.enable&&(this.size_status=!1,this.vs=d.particles.size.anim.speed/100,d.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=i?i.x:Math.random()*d.canvas.w,this.y=i?i.y:Math.random()*d.canvas.h,this.x>d.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>d.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),d.particles.move.bounce&&d.fn.vendors.checkOverlap(this,i),this.color={},"object"==typeof t.value?t.value instanceof Array?(i=t.value[Math.floor(Math.random()*d.particles.color.value.length)],this.color.rgb=hexToRgb(i)):(null!=t.value.r&&null!=t.value.g&&null!=t.value.b&&(this.color.rgb={r:t.value.r,g:t.value.g,b:t.value.b}),null!=t.value.h&&null!=t.value.s&&null!=t.value.l&&(this.color.hsl={h:t.value.h,s:t.value.s,l:t.value.l})):"random"==t.value?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:"string"==typeof t.value&&(this.color=t,this.color.rgb=hexToRgb(this.color.value)),this.opacity=(d.particles.opacity.random?Math.random():1)*d.particles.opacity.value,d.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=d.particles.opacity.anim.speed/100,d.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var r={};switch(d.particles.move.direction){case"top":r={x:0,y:-1};break;case"top-right":r={x:.5,y:-.5};break;case"right":r={x:1,y:-0};break;case"bottom-right":r={x:.5,y:.5};break;case"bottom":r={x:0,y:1};break;case"bottom-left":r={x:-.5,y:1};break;case"left":r={x:-1,y:0};break;case"top-left":r={x:-.5,y:-.5};break;default:r={x:0,y:0}}d.particles.move.straight?(this.vx=r.x,this.vy=r.y,d.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=r.x+Math.random()-.5,this.vy=r.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;i=d.particles.shape.type;"object"==typeof i?i instanceof Array&&(t=i[Math.floor(Math.random()*i.length)],this.shape=t):this.shape=i,"image"==this.shape&&(t=d.particles.shape,this.img={src:t.image.src,ratio:t.image.width/t.image.height},this.img.ratio||(this.img.ratio=1),"svg"==d.tmp.img_type)&&null!=d.tmp.source_svg&&(d.fn.vendors.createSvgImg(this),d.tmp.pushing)&&(this.img.loaded=!1)},d.fn.particle.prototype.draw=function(){var t,e,i,r=this;switch(t=null!=r.radius_bubble?r.radius_bubble:r.radius,e=null!=r.opacity_bubble?r.opacity_bubble:r.opacity,e=r.color.rgb?"rgba("+r.color.rgb.r+","+r.color.rgb.g+","+r.color.rgb.b+","+e+")":"hsla("+r.color.hsl.h+","+r.color.hsl.s+"%,"+r.color.hsl.l+"%,"+e+")",d.canvas.ctx.fillStyle=e,d.canvas.ctx.beginPath(),r.shape){case"circle":d.canvas.ctx.arc(r.x,r.y,t,0,2*Math.PI,!1);break;case"edge":d.canvas.ctx.rect(r.x-t,r.y-t,2*t,2*t);break;case"triangle":d.fn.vendors.drawShape(d.canvas.ctx,r.x-t,r.y+t/1.66,2*t,3,2);break;case"polygon":d.fn.vendors.drawShape(d.canvas.ctx,r.x-t/(d.particles.shape.polygon.nb_sides/3.5),r.y-t/.76,2.66*t/(d.particles.shape.polygon.nb_sides/3),d.particles.shape.polygon.nb_sides,1);break;case"star":d.fn.vendors.drawShape(d.canvas.ctx,r.x-2*t/(d.particles.shape.polygon.nb_sides/4),r.y-t/1.52,2*t*2.66/(d.particles.shape.polygon.nb_sides/3),d.particles.shape.polygon.nb_sides,2);break;case"image":(i="svg"==d.tmp.img_type?r.img.obj:d.tmp.img_obj)&&d.canvas.ctx.drawImage(i,r.x-t,r.y-t,2*t,2*t/r.img.ratio)}d.canvas.ctx.closePath(),0<d.particles.shape.stroke.width&&(d.canvas.ctx.strokeStyle=d.particles.shape.stroke.color,d.canvas.ctx.lineWidth=d.particles.shape.stroke.width,d.canvas.ctx.stroke()),d.canvas.ctx.fill()},d.fn.particlesCreate=function(){for(var t=0;t<d.particles.number.value;t++)d.particles.array.push(new d.fn.particle(d.particles.color,d.particles.opacity.value))},d.fn.particlesUpdate=function(){for(var t=0;t<d.particles.array.length;t++){var e,i=d.particles.array[t];if(d.particles.move.enable&&(e=d.particles.move.speed/2,i.x+=i.vx*e,i.y+=i.vy*e),d.particles.opacity.anim.enable&&(1==i.opacity_status?(i.opacity>=d.particles.opacity.value&&(i.opacity_status=!1),i.opacity+=i.vo):(i.opacity<=d.particles.opacity.anim.opacity_min&&(i.opacity_status=!0),i.opacity-=i.vo),i.opacity<0)&&(i.opacity=0),d.particles.size.anim.enable&&(1==i.size_status?(i.radius>=d.particles.size.value&&(i.size_status=!1),i.radius+=i.vs):(i.radius<=d.particles.size.anim.size_min&&(i.size_status=!0),i.radius-=i.vs),i.radius<0)&&(i.radius=0),e="bounce"==d.particles.move.out_mode?{x_left:i.radius,x_right:d.canvas.w,y_top:i.radius,y_bottom:d.canvas.h}:{x_left:-i.radius,x_right:d.canvas.w+i.radius,y_top:-i.radius,y_bottom:d.canvas.h+i.radius},"bounce"===(i.x-i.radius>d.canvas.w?(i.x=e.x_left,i.y=Math.random()*d.canvas.h):i.x+i.radius<0&&(i.x=e.x_right,i.y=Math.random()*d.canvas.h),i.y-i.radius>d.canvas.h?(i.y=e.y_top,i.x=Math.random()*d.canvas.w):i.y+i.radius<0&&(i.y=e.y_bottom,i.x=Math.random()*d.canvas.w),d.particles.move.out_mode)&&((i.x+i.radius>d.canvas.w||i.x-i.radius<0)&&(i.vx=-i.vx),i.y+i.radius>d.canvas.h||i.y-i.radius<0)&&(i.vy=-i.vy),isInArray("grab",d.interactivity.events.onhover.mode)&&d.fn.modes.grabParticle(i),(isInArray("bubble",d.interactivity.events.onhover.mode)||isInArray("bubble",d.interactivity.events.onclick.mode))&&d.fn.modes.bubbleParticle(i),(isInArray("repulse",d.interactivity.events.onhover.mode)||isInArray("repulse",d.interactivity.events.onclick.mode))&&d.fn.modes.repulseParticle(i),d.particles.line_linked.enable||d.particles.move.attract.enable)for(var r=t+1;r<d.particles.array.length;r++){var s=d.particles.array[r];d.particles.line_linked.enable&&d.fn.interact.linkParticles(i,s),d.particles.move.attract.enable&&d.fn.interact.attractParticles(i,s),d.particles.move.bounce&&d.fn.interact.bounceParticles(i,s)}}},d.fn.particlesDraw=function(){d.canvas.ctx.clearRect(0,0,d.canvas.w,d.canvas.h),d.fn.particlesUpdate();for(var t=0;t<d.particles.array.length;t++)d.particles.array[t].draw()},d.fn.particlesEmpty=function(){d.particles.array=[]},d.fn.particlesRefresh=function(){cancelRequestAnimFrame(d.fn.checkAnimFrame),cancelRequestAnimFrame(d.fn.drawAnimFrame),d.tmp.source_svg=void 0,d.tmp.img_obj=void 0,d.tmp.count_svg=0,d.fn.particlesEmpty(),d.fn.canvasClear(),d.fn.vendors.start()},d.fn.interact.linkParticles=function(t,e){var i=t.x-e.x,r=t.y-e.y,i=Math.sqrt(i*i+r*r);i<=d.particles.line_linked.distance&&0<(r=d.particles.line_linked.opacity-i/(1/d.particles.line_linked.opacity)/d.particles.line_linked.distance)&&(i=d.particles.line_linked.color_rgb_line,d.canvas.ctx.strokeStyle="rgba("+i.r+","+i.g+","+i.b+","+r+")",d.canvas.ctx.lineWidth=d.particles.line_linked.width,d.canvas.ctx.beginPath(),d.canvas.ctx.moveTo(t.x,t.y),d.canvas.ctx.lineTo(e.x,e.y),d.canvas.ctx.stroke(),d.canvas.ctx.closePath())},d.fn.interact.attractParticles=function(t,e){var i=t.x-e.x,r=t.y-e.y;Math.sqrt(i*i+r*r)<=d.particles.line_linked.distance&&(i=i/(1e3*d.particles.move.attract.rotateX),r=r/(1e3*d.particles.move.attract.rotateY),t.vx-=i,t.vy-=r,e.vx+=i,e.vy+=r)},d.fn.interact.bounceParticles=function(t,e){var i=t.x-e.x,r=t.y-e.y;Math.sqrt(i*i+r*r)<=t.radius+e.radius&&(t.vx=-t.vx,t.vy=-t.vy,e.vx=-e.vx,e.vy=-e.vy)},d.fn.modes.pushParticles=function(t,e){d.tmp.pushing=!0;for(var i=0;i<t;i++)d.particles.array.push(new d.fn.particle(d.particles.color,d.particles.opacity.value,{x:e?e.pos_x:Math.random()*d.canvas.w,y:e?e.pos_y:Math.random()*d.canvas.h})),i==t-1&&(d.particles.move.enable||d.fn.particlesDraw(),d.tmp.pushing=!1)},d.fn.modes.removeParticles=function(t){d.particles.array.splice(0,t),d.particles.move.enable||d.fn.particlesDraw()},d.fn.modes.bubbleParticle=function(n){function t(){n.opacity_bubble=n.opacity,n.radius_bubble=n.radius}function e(t,e,i,r,s){var a;t!=e&&(d.tmp.bubble_duration_end?null!=i&&(a=t+(t-(r-c*(r-t)/d.interactivity.modes.bubble.duration)),"size"==s&&(n.radius_bubble=a),"opacity"==s)&&(n.opacity_bubble=a):h<=d.interactivity.modes.bubble.distance?(null!=i?i:r)!=t&&(a=r-c*(r-t)/d.interactivity.modes.bubble.duration,"size"==s&&(n.radius_bubble=a),"opacity"==s)&&(n.opacity_bubble=a):("size"==s&&(n.radius_bubble=void 0),"opacity"==s&&(n.opacity_bubble=void 0)))}var i,r,s,a,o,l,h,c;d.interactivity.events.onhover.enable&&isInArray("bubble",d.interactivity.events.onhover.mode)?(o=n.x-d.interactivity.mouse.pos_x,l=n.y-d.interactivity.mouse.pos_y,i=1-(h=Math.sqrt(o*o+l*l))/d.interactivity.modes.bubble.distance,h<=d.interactivity.modes.bubble.distance?0<=i&&"mousemove"==d.interactivity.status&&(d.interactivity.modes.bubble.size!=d.particles.size.value&&(d.interactivity.modes.bubble.size>d.particles.size.value?0<=(s=n.radius+d.interactivity.modes.bubble.size*i)&&(n.radius_bubble=s):(r=n.radius-d.interactivity.modes.bubble.size,n.radius_bubble=0<(s=n.radius-r*i)?s:0)),d.interactivity.modes.bubble.opacity!=d.particles.opacity.value)&&(d.interactivity.modes.bubble.opacity>d.particles.opacity.value?(a=d.interactivity.modes.bubble.opacity*i)>n.opacity&&a<=d.interactivity.modes.bubble.opacity&&(n.opacity_bubble=a):(a=n.opacity-(d.particles.opacity.value-d.interactivity.modes.bubble.opacity)*i)<n.opacity&&a>=d.interactivity.modes.bubble.opacity&&(n.opacity_bubble=a)):t(),"mouseleave"==d.interactivity.status&&t()):d.interactivity.events.onclick.enable&&isInArray("bubble",d.interactivity.events.onclick.mode)&&(d.tmp.bubble_clicking&&(o=n.x-d.interactivity.mouse.click_pos_x,l=n.y-d.interactivity.mouse.click_pos_y,h=Math.sqrt(o*o+l*l),(c=((new Date).getTime()-d.interactivity.mouse.click_time)/1e3)>d.interactivity.modes.bubble.duration&&(d.tmp.bubble_duration_end=!0),c>2*d.interactivity.modes.bubble.duration)&&(d.tmp.bubble_clicking=!1,d.tmp.bubble_duration_end=!1),d.tmp.bubble_clicking)&&(e(d.interactivity.modes.bubble.size,d.particles.size.value,n.radius_bubble,n.radius,"size"),e(d.interactivity.modes.bubble.opacity,d.particles.opacity.value,n.opacity_bubble,n.opacity,"opacity"))},d.fn.modes.repulseParticle=function(t){var e,i,r,s,a;d.interactivity.events.onhover.enable&&isInArray("repulse",d.interactivity.events.onhover.mode)&&"mousemove"==d.interactivity.status?(i=t.x-d.interactivity.mouse.pos_x,e=t.y-d.interactivity.mouse.pos_y,a=i/(i=Math.sqrt(i*i+e*e)),e=e/i,i=clamp(1/(s=d.interactivity.modes.repulse.distance)*(-1*Math.pow(i/s,2)+1)*s*100,0,50),a={x:t.x+a*i,y:t.y+e*i},"bounce"==d.particles.move.out_mode?(0<a.x-t.radius&&a.x+t.radius<d.canvas.w&&(t.x=a.x),0<a.y-t.radius&&a.y+t.radius<d.canvas.h&&(t.y=a.y)):(t.x=a.x,t.y=a.y)):d.interactivity.events.onclick.enable&&isInArray("repulse",d.interactivity.events.onclick.mode)&&(d.tmp.repulse_finish||(d.tmp.repulse_count++,d.tmp.repulse_count==d.particles.array.length&&(d.tmp.repulse_finish=!0)),d.tmp.repulse_clicking?(s=Math.pow(d.interactivity.modes.repulse.distance/6,3),e=d.interactivity.mouse.click_pos_x-t.x,i=d.interactivity.mouse.click_pos_y-t.y,r=-s/(a=e*e+i*i)*1,a<=s&&(a=Math.atan2(i,e),t.vx=r*Math.cos(a),t.vy=r*Math.sin(a),"bounce"==d.particles.move.out_mode)&&(a=t.x+t.vx,s=t.y+t.vy,(a+t.radius>d.canvas.w||a-t.radius<0)&&(t.vx=-t.vx),s+t.radius>d.canvas.h||s-t.radius<0)&&(t.vy=-t.vy)):0==d.tmp.repulse_clicking&&(t.vx=t.vx_i,t.vy=t.vy_i))},d.fn.modes.grabParticle=function(t){var e,i;d.interactivity.events.onhover.enable&&"mousemove"==d.interactivity.status&&(i=t.x-d.interactivity.mouse.pos_x,e=t.y-d.interactivity.mouse.pos_y,(i=Math.sqrt(i*i+e*e))<=d.interactivity.modes.grab.distance)&&0<(e=d.interactivity.modes.grab.line_linked.opacity-i/(1/d.interactivity.modes.grab.line_linked.opacity)/d.interactivity.modes.grab.distance)&&(i=d.particles.line_linked.color_rgb_line,d.canvas.ctx.strokeStyle="rgba("+i.r+","+i.g+","+i.b+","+e+")",d.canvas.ctx.lineWidth=d.particles.line_linked.width,d.canvas.ctx.beginPath(),d.canvas.ctx.moveTo(t.x,t.y),d.canvas.ctx.lineTo(d.interactivity.mouse.pos_x,d.interactivity.mouse.pos_y),d.canvas.ctx.stroke(),d.canvas.ctx.closePath())},d.fn.vendors.eventsListeners=function(){"window"==d.interactivity.detect_on?d.interactivity.el=window:d.interactivity.el=d.canvas.el,(d.interactivity.events.onhover.enable||d.interactivity.events.onclick.enable)&&(d.interactivity.el.addEventListener("mousemove",function(t){var e;t=d.interactivity.el==window?(e=t.clientX,t.clientY):(e=t.offsetX||t.clientX,t.offsetY||t.clientY),d.interactivity.mouse.pos_x=e,d.interactivity.mouse.pos_y=t,d.tmp.retina&&(d.interactivity.mouse.pos_x*=d.canvas.pxratio,d.interactivity.mouse.pos_y*=d.canvas.pxratio),d.interactivity.status="mousemove"}),d.interactivity.el.addEventListener("mouseleave",function(t){d.interactivity.mouse.pos_x=null,d.interactivity.mouse.pos_y=null,d.interactivity.status="mouseleave"})),d.interactivity.events.onclick.enable&&d.interactivity.el.addEventListener("click",function(){if(d.interactivity.mouse.click_pos_x=d.interactivity.mouse.pos_x,d.interactivity.mouse.click_pos_y=d.interactivity.mouse.pos_y,d.interactivity.mouse.click_time=(new Date).getTime(),d.interactivity.events.onclick.enable)switch(d.interactivity.events.onclick.mode){case"push":d.particles.move.enable||1==d.interactivity.modes.push.particles_nb?d.fn.modes.pushParticles(d.interactivity.modes.push.particles_nb,d.interactivity.mouse):1<d.interactivity.modes.push.particles_nb&&d.fn.modes.pushParticles(d.interactivity.modes.push.particles_nb);break;case"remove":d.fn.modes.removeParticles(d.interactivity.modes.remove.particles_nb);break;case"bubble":d.tmp.bubble_clicking=!0;break;case"repulse":d.tmp.repulse_clicking=!0,d.tmp.repulse_count=0,d.tmp.repulse_finish=!1,setTimeout(function(){d.tmp.repulse_clicking=!1},1e3*d.interactivity.modes.repulse.duration)}})},d.fn.vendors.densityAutoParticles=function(){var t;d.particles.number.density.enable&&(t=d.canvas.el.width*d.canvas.el.height/1e3,d.tmp.retina&&(t/=2*d.canvas.pxratio),t=t*d.particles.number.value/d.particles.number.density.value_area,(t=d.particles.array.length-t)<0?d.fn.modes.pushParticles(Math.abs(t)):d.fn.modes.removeParticles(t))},d.fn.vendors.checkOverlap=function(t,e){for(var i=0;i<d.particles.array.length;i++){var r=d.particles.array[i],s=t.x-r.x,a=t.y-r.y;Math.sqrt(s*s+a*a)<=t.radius+r.radius&&(t.x=e?e.x:Math.random()*d.canvas.w,t.y=e?e.y:Math.random()*d.canvas.h,d.fn.vendors.checkOverlap(t))}},d.fn.vendors.createSvgImg=function(s){var t=d.tmp.source_svg.replace(/#([0-9A-F]{3,6})/gi,function(t,e,i,r){return s.color.rgb?"rgba("+s.color.rgb.r+","+s.color.rgb.g+","+s.color.rgb.b+","+s.opacity+")":"hsla("+s.color.hsl.h+","+s.color.hsl.s+"%,"+s.color.hsl.l+"%,"+s.opacity+")"}),t=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),e=window.URL||window.webkitURL||window,i=e.createObjectURL(t),r=new Image;r.addEventListener("load",function(){s.img.obj=r,s.img.loaded=!0,e.revokeObjectURL(i),d.tmp.count_svg++}),r.src=i},d.fn.vendors.destroypJS=function(){cancelAnimationFrame(d.fn.drawAnimFrame),i.remove(),pJSDom=null},d.fn.vendors.drawShape=function(t,e,i,r,s,a){var n=s*a,s=s/a,o=Math.PI-Math.PI*(180*(s-2)/s)/180;t.save(),t.beginPath(),t.translate(e,i),t.moveTo(0,0);for(var l=0;l<n;l++)t.lineTo(r,0),t.translate(r,0),t.rotate(o);t.fill(),t.restore()},d.fn.vendors.exportImg=function(){window.open(d.canvas.el.toDataURL("image/png"),"_blank")},d.fn.vendors.loadImg=function(t){var e,i;d.tmp.img_error=void 0,""!=d.particles.shape.image.src?"svg"==t?((e=new XMLHttpRequest).open("GET",d.particles.shape.image.src),e.onreadystatechange=function(t){4==e.readyState&&(200==e.status?(d.tmp.source_svg=t.currentTarget.response,d.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),d.tmp.img_error=!0))},e.send()):((i=new Image).addEventListener("load",function(){d.tmp.img_obj=i,d.fn.vendors.checkBeforeDraw()}),i.src=d.particles.shape.image.src):(console.log("Error pJS - No image.src"),d.tmp.img_error=!0)},d.fn.vendors.draw=function(){"image"==d.particles.shape.type?"svg"==d.tmp.img_type?d.tmp.count_svg>=d.particles.number.value?(d.fn.particlesDraw(),d.particles.move.enable?d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw):cancelRequestAnimFrame(d.fn.drawAnimFrame)):d.tmp.img_error||(d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw)):null!=d.tmp.img_obj?(d.fn.particlesDraw(),d.particles.move.enable?d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw):cancelRequestAnimFrame(d.fn.drawAnimFrame)):d.tmp.img_error||(d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw)):(d.fn.particlesDraw(),d.particles.move.enable?d.fn.drawAnimFrame=requestAnimFrame(d.fn.vendors.draw):cancelRequestAnimFrame(d.fn.drawAnimFrame))},d.fn.vendors.checkBeforeDraw=function(){"image"==d.particles.shape.type?"svg"==d.tmp.img_type&&null==d.tmp.source_svg?d.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(d.tmp.checkAnimFrame),d.tmp.img_error||(d.fn.vendors.init(),d.fn.vendors.draw())):(d.fn.vendors.init(),d.fn.vendors.draw())},d.fn.vendors.init=function(){d.fn.retinaInit(),d.fn.canvasInit(),d.fn.canvasSize(),d.fn.canvasPaint(),d.fn.particlesCreate(),d.fn.vendors.densityAutoParticles(),d.particles.line_linked.color_rgb_line=hexToRgb(d.particles.line_linked.color)},d.fn.vendors.start=function(){isInArray("image",d.particles.shape.type)?(d.tmp.img_type=d.particles.shape.image.src.substr(d.particles.shape.image.src.length-3),d.fn.vendors.loadImg(d.tmp.img_type)):d.fn.vendors.checkBeforeDraw()},d.fn.vendors.eventsListeners(),d.fn.vendors.start()},Swiper=(Object.deepExtend=function(t,e){for(var i in e)e[i]&&e[i].constructor&&e[i].constructor===Object?(t[i]=t[i]||{},arguments.callee(t[i],e[i])):t[i]=e[i];return t},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},window.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,window.pJSDom=[],window.particlesJS=function(t,e){"string"!=typeof t&&(e=t,t="particles-js"),t=t||"particles-js";var i=document.getElementById(t),r="particles-js-canvas-el",s=i.getElementsByClassName(r);if(s.length)for(;0<s.length;)i.removeChild(s[0]);var a=document.createElement("canvas");a.className=r,a.style.width="100%",a.style.height="100%",null!=document.getElementById(t).appendChild(a)&&pJSDom.push(new pJS(t,e))},window.particlesJS.load=function(e,t,i){var r=new XMLHttpRequest;r.open("GET",t),r.onreadystatechange=function(t){4==r.readyState&&(200==r.status?(t=JSON.parse(t.currentTarget.response),window.particlesJS(e,t),i&&i()):(console.log("Error pJS - XMLHttpRequest status: "+r.status),console.log("Error pJS - File config not found")))},r.send()},((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()})(this,function(){function e(e,t){var i,r=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)),r}function A(r){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?e(Object(s),!0).forEach(function(t){var e,i=r;t=s[e=t],e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):e(Object(s)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(s,t))})}return r}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i,r=arguments[e];for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function u(t,e){if(null==t)return{};var i,r=((t,e)=>{if(null==t)return{};for(var i,r={},s=Object.keys(t),a=0;a<s.length;a++)i=s[a],0<=e.indexOf(i)||(r[i]=t[i]);return r})(t,e);if(Object.getOwnPropertySymbols)for(var s=Object.getOwnPropertySymbols(t),a=0;a<s.length;a++)i=s[a],0<=e.indexOf(i)||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i]);return r}function f(t){return(t=>{if(Array.isArray(t))return i(t)})(t)||(()=>{if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)})()||(t=>{var e;if(t)return"string"==typeof t?i(t,void 0):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,void 0):void 0})(t)||(()=>{throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function t(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var b=t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),_=t(/Edge/i),w=t(/firefox/i),S=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),C=t(/iP(ad|od|hone)/i),T=t(/chrome/i)&&t(/android/i),k={capture:!1,passive:!1};function l(t,e,i){t.addEventListener(e,i,!b&&k)}function a(t,e,i){t.removeEventListener(e,i,!b&&k)}function O(t,e){if(e&&(">"===e[0]&&(e=e.substring(1)),t))try{return t.matches?t.matches(e):t.msMatchesSelector?t.msMatchesSelector(e):t.webkitMatchesSelector&&t.webkitMatchesSelector(e)}catch(t){}}function D(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function L(t,e,i,r){if(t){i=i||document;do{if(null!=e&&(">"!==e[0]||t.parentNode===i)&&O(t,e)||r&&t===i)return t}while(t!==i&&(t=D(t)))}return null}var $,K=/\s+/g;function I(t,e,i){var r;t&&e&&(t.classList?t.classList[i?"add":"remove"](e):(r=(" "+t.className+" ").replace(K," ").replace(" "+e+" "," "),t.className=(r+(i?" "+e:"")).replace(K," ")))}function j(t,e,i){var r=t&&t.style;if(r){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];r[e=e in r||-1!==e.indexOf("webkit")?e:"-webkit-"+e]=i+("string"==typeof i?"":"px")}}function p(t,e){var i="";if("string"==typeof t)i=t;else do{var r=j(t,"transform")}while(r&&"none"!==r&&(i=r+" "+i),!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function J(t,e,i){if(t){var r=t.getElementsByTagName(e),s=0,a=r.length;if(i)for(;s<a;s++)i(r[s],s);return r}return[]}function M(){return document.scrollingElement||document.documentElement}function F(t,e,i,r,s){if(t.getBoundingClientRect||t===window){var a,n,o,l,h,c,d=t!==window&&t.parentNode&&t!==M()?(n=(a=t.getBoundingClientRect()).top,o=a.left,l=a.bottom,h=a.right,c=a.height,a.width):(o=n=0,l=window.innerHeight,c=window.innerHeight,h=window.innerWidth);if((e||i)&&t!==window&&(s=s||t.parentNode,!b))do{if(s&&s.getBoundingClientRect&&("none"!==j(s,"transform")||i&&"static"!==j(s,"position"))){var u=s.getBoundingClientRect();n-=u.top+parseInt(j(s,"border-top-width")),o-=u.left+parseInt(j(s,"border-left-width")),l=n+a.height,h=o+a.width;break}}while(s=s.parentNode);return r&&t!==window&&(r=(e=p(s||t))&&e.a,t=e&&e.d,e)&&(l=(n/=t)+(c/=t),h=(o/=r)+(d/=r)),{top:n,left:o,bottom:l,right:h,width:d,height:c}}}function Q(t,e,i){for(var r=E(t,!0),s=F(t)[e];r;){var a=F(r)[i];if(!("top"===i||"left"===i?a<=s:s<=a))return r;if(r===M())break;r=E(r,!1)}return!1}function Z(t,e,i,r){for(var s=0,a=0,n=t.children;a<n.length;){if("none"!==n[a].style.display&&n[a]!==U.ghost&&(r||n[a]!==U.dragged)&&L(n[a],i.draggable,t,!1)){if(s===e)return n[a];s++}a++}return null}function tt(t,e){for(var i=t.lastElementChild;i&&(i===U.ghost||"none"===j(i,"display")||e&&!O(i,e));)i=i.previousElementSibling;return i||null}function R(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===U.clone||e&&!O(t,e)||i++;return i}function et(t){var e=0,i=0,r=M();if(t)do{var s=(a=p(t)).a,a=a.d}while(e+=t.scrollLeft*s,i+=t.scrollTop*a,t!==r&&(t=t.parentNode));return[e,i]}function E(t,e){if(t&&t.getBoundingClientRect){var i=t,r=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=j(i);if(i.clientWidth<i.scrollWidth&&("auto"==s.overflowX||"scroll"==s.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==s.overflowY||"scroll"==s.overflowY)){if(!i.getBoundingClientRect||i===document.body)return M();if(r||e)return i;r=!0}}}while(i=i.parentNode)}return M()}function it(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function rt(e,i){return function(){var t;$||(1===(t=arguments).length?e.call(this,t[0]):e.apply(this,t),$=setTimeout(function(){$=void 0},i))}}function st(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function at(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function nt(t,e){j(t,"position","absolute"),j(t,"top",e.top),j(t,"left",e.left),j(t,"width",e.width),j(t,"height",e.height)}function ot(t){j(t,"position",""),j(t,"top",""),j(t,"left",""),j(t,"width",""),j(t,"height","")}function lt(i,r,s){var a={};return Array.from(i.children).forEach(function(t){var e;L(t,r.draggable,i,!1)&&!t.animated&&t!==s&&(e=F(t),a.left=Math.min(null!=(t=a.left)?t:1/0,e.left),a.top=Math.min(null!=(t=a.top)?t:1/0,e.top),a.right=Math.max(null!=(t=a.right)?t:-1/0,e.right),a.bottom=Math.max(null!=(t=a.bottom)?t:-1/0,e.bottom))}),a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var B="Sortable"+(new Date).getTime();function ht(){var e,r=[];return{captureAnimationState:function(){r=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,i;"none"!==j(t,"display")&&t!==U.ghost&&(r.push({target:t,rect:F(t)}),e=A({},r[r.length-1].rect),t.thisAnimationDuration&&(i=p(t,!0))&&(e.top-=i.f,e.left-=i.e),t.fromRect=e)})},addAnimationState:function(t){r.push(t)},removeAnimationState:function(t){r.splice(((t,e)=>{for(var i in t)if(t.hasOwnProperty(i))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[i][r])return Number(i);return-1})(r,{target:t}),1)},animateAll:function(t){var h,c,d=this;this.options.animation?(h=!1,c=0,r.forEach(function(t){var e=0,i=t.target,r=i.fromRect,s=F(i),a=i.prevFromRect,n=i.prevToRect,o=t.rect,l=p(i,!0);l&&(s.top-=l.f,s.left-=l.e),i.toRect=s,i.thisAnimationDuration&&it(a,s)&&!it(r,s)&&(o.top-s.top)/(o.left-s.left)==(r.top-s.top)/(r.left-s.left)&&(t=o,l=a,a=n,n=d.options,e=Math.sqrt(Math.pow(l.top-t.top,2)+Math.pow(l.left-t.left,2))/Math.sqrt(Math.pow(l.top-a.top,2)+Math.pow(l.left-a.left,2))*n.animation),it(s,r)||(i.prevFromRect=r,i.prevToRect=s,e=e||d.options.animation,d.animate(i,o,s,e)),e&&(h=!0,c=Math.max(c,e),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout(function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null},e),i.thisAnimationDuration=e)}),clearTimeout(e),h?e=setTimeout(function(){"function"==typeof t&&t()},c):"function"==typeof t&&t(),r=[]):(clearTimeout(e),"function"==typeof t&&t())},animate:function(t,e,i,r){var s,a;r&&(j(t,"transition",""),j(t,"transform",""),s=(a=p(this.el))&&a.a,a=a&&a.d,s=(e.left-i.left)/(s||1),a=(e.top-i.top)/(a||1),t.animatingX=!!s,t.animatingY=!!a,j(t,"transform","translate3d("+s+"px,"+a+"px,0)"),this.forRepaintDummy=t.offsetWidth,j(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),j(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){j(t,"transition",""),j(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},r))}}}var ct=[],dt={initializeByDefault:!0},ut={mount:function(e){for(var t in dt)!dt.hasOwnProperty(t)||t in e||(e[t]=dt[t]);ct.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ct.push(e)},pluginEvent:function(e,i,r){var t=this,s=(this.eventCanceled=!1,r.cancel=function(){t.eventCanceled=!0},e+"Global");ct.forEach(function(t){i[t.pluginName]&&(i[t.pluginName][s]&&i[t.pluginName][s](A({sortable:i},r)),i.options[t.pluginName])&&i[t.pluginName][e]&&i[t.pluginName][e](A({sortable:i},r))})},initializePlugins:function(i,r,s,t){for(var e in ct.forEach(function(t){var e=t.pluginName;(i.options[e]||t.initializeByDefault)&&((t=new t(i,r,i.options)).sortable=i,t.options=i.options,n(s,(i[e]=t).defaults))}),i.options){var a;i.options.hasOwnProperty(e)&&void 0!==(a=this.modifyOption(i,e,i.options[e]))&&(i.options[e]=a)}},getEventProperties:function(e,i){var r={};return ct.forEach(function(t){"function"==typeof t.eventProperties&&n(r,t.eventProperties.call(i[t.pluginName],e))}),r},modifyOption:function(e,i,r){var s;return ct.forEach(function(t){e[t.pluginName]&&t.optionListeners&&"function"==typeof t.optionListeners[i]&&(s=t.optionListeners[i].call(e[t.pluginName],r))}),s}};function pt(t){var e=t.sortable,i=t.rootEl,r=t.name,s=t.targetEl,a=t.cloneEl,n=t.toEl,o=t.fromEl,l=t.oldIndex,h=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,u=t.originalEvent,p=t.putSortable,f=t.extraEventProperties;if(e=e||i&&i[B]){var g,m=e.options,t="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||b||_?(g=document.createEvent("Event")).initEvent(r,!0,!0):g=new CustomEvent(r,{bubbles:!0,cancelable:!0}),g.to=n||i,g.from=o||i,g.item=s||i,g.clone=a,g.oldIndex=l,g.newIndex=h,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=u,g.pullMode=p?p.lastPutMode:void 0;var v,y=A(A({},f),ut.getEventProperties(r,e));for(v in y)g[v]=y[v];i&&i.dispatchEvent(g),m[t]&&m[t].call(e,g)}}function N(t,e,i){var r=(i=2<arguments.length&&void 0!==i?i:{}).evt,i=u(i,ft);ut.pluginEvent.bind(U)(t,e,A({dragEl:H,parentEl:W,ghostEl:V,rootEl:X,nextEl:bt,lastDownEl:xt,cloneEl:o,cloneHidden:s,dragStarted:Pt,putSortable:q,activeSortable:U.active,originalEvent:r,oldIndex:_t,oldDraggableIndex:wt,newIndex:Y,newDraggableIndex:G,hideGhostForTarget:vt,unhideGhostForTarget:yt,cloneNowHidden:function(){s=!0},cloneNowShown:function(){s=!1},dispatchSortableEvent:function(t){z({sortable:e,name:t,originalEvent:r})}},i))}var ft=["evt"];function z(t){pt(A({putSortable:q,cloneEl:o,targetEl:H,rootEl:X,oldIndex:_t,oldDraggableIndex:wt,newIndex:Y,newDraggableIndex:G},t))}function gt(t,e){var i=j(t),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=Z(t,0,e),a=Z(t,1,e),n=s&&j(s),o=a&&j(a),l=n&&parseInt(n.marginLeft)+parseInt(n.marginRight)+F(s).width,t=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+F(a).width;return"flex"===i.display?"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal":"grid"===i.display?i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":s&&n.float&&"none"!==n.float?(e="left"===n.float?"left":"right",!a||"both"!==o.clear&&o.clear!==e?"horizontal":"vertical"):s&&("block"===n.display||"flex"===n.display||"table"===n.display||"grid"===n.display||r<=l&&"none"===i[Vt]||a&&"none"===i[Vt]&&r<l+t)?"vertical":"horizontal"}function mt(t){function o(a,n){return function(t,e,i,r){var s=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;return!(null!=a||!n&&!s)||null!=a&&!1!==a&&(n&&"clone"===a?a:"function"==typeof a?o(a(t,e,i,r),n)(t,e,i,r):(e=(n?t:e).options.group.name,!0===a||"string"==typeof a&&a===e||a.join&&-1<a.indexOf(e)))}}var e={},i=t.group;i&&"object"==r(i)||(i={name:i}),e.name=i.name,e.checkPull=o(i.pull,!0),e.checkPut=o(i.put),e.revertClone=i.revertClone,t.group=e}function vt(){!Yt&&V&&j(V,"display","none")}function yt(){!Yt&&V&&j(V,"display","")}var H,W,V,X,bt,xt,o,s,_t,Y,wt,G,St,q,Ct,h,Tt,kt,Mt,Et,Pt,Ot,Dt,At,c,Lt=!1,It=!1,jt=[],Ft=!1,Rt=!1,Bt=[],Nt=!1,zt=[],Ht="undefined"!=typeof document,Wt=C,Vt=_||b?"cssFloat":"float",Xt=Ht&&!T&&!C&&"draggable"in document.createElement("div"),Yt=(()=>{var t;if(Ht)return!b&&((t=document.createElement("x")).style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)})();function Gt(t){if(H){t=t.touches?t.touches[0]:t;s=t.clientX,a=t.clientY,jt.some(function(t){var e,i,r=t[B].options.emptyInsertThreshold;if(r&&!tt(t))return e=F(t),i=s>=e.left-r&&s<=e.right+r,r=e.top-r<=a&&a<=e.bottom+r,i&&r?n=t:void 0});var e=n;if(e){var i,r={};for(i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=e,r.preventDefault=void 0,r.stopPropagation=void 0,e[B]._onDragOver(r)}}var s,a,n}function qt(t){H&&H.parentNode[B]._isOutsideThisEl(t.target)}function U(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=n({},e),t[B]=this;var i,r,s={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return gt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==U.supportPointer&&"PointerEvent"in window&&(!S||C),emptyInsertThreshold:5};for(i in ut.initializePlugins(this,t,s),s)i in e||(e[i]=s[i]);for(r in mt(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&Xt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?l(t,"pointerdown",this._onTapStart):(l(t,"mousedown",this._onTapStart),l(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(l(t,"dragover",this),l(t,"dragenter",this)),jt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),n(this,ht())}function Ut(t,e,i,r,s,a,n,o){var l,h,c=t[B],d=c.options.onMove;return!window.CustomEvent||b||_?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=i,l.draggedRect=r,l.related=s||e,l.relatedRect=a||F(e),l.willInsertAfter=o,l.originalEvent=n,t.dispatchEvent(l),d?d.call(c,l,n):h}function $t(t){t.draggable=!1}function Kt(){Nt=!1}function Jt(t){return setTimeout(t,0)}function Qt(t){return clearTimeout(t)}Ht&&!T&&document.addEventListener("click",function(t){if(It)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),It=!1},!0),U.prototype={constructor:U,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Ot=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,H):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,r=this.el,t=this.options,s=t.preventOnFilter,a=e.type,n=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,o=(n||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||o,h=t.filter,c=r;zt.length=0;for(var d=c.getElementsByTagName("input"),u=d.length;u--;){var p=d[u];p.checked&&zt.push(p)}if(!H&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||t.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!S||!o||"SELECT"!==o.tagName.toUpperCase())&&!((o=L(o,t.draggable,r,!1))&&o.animated||xt===o)){if(_t=R(o),wt=R(o,t.draggable),"function"==typeof h){if(h.call(this,e,o,this))return z({sortable:i,rootEl:l,name:"filter",targetEl:o,toEl:r,fromEl:r}),N("filter",i,{evt:e}),void(s&&e.preventDefault())}else if(h=h&&h.split(",").some(function(t){if(t=L(l,t.trim(),r,!1))return z({sortable:i,rootEl:t,name:"filter",targetEl:o,fromEl:r,toEl:r}),N("filter",i,{evt:e}),!0}))return void(s&&e.preventDefault());t.handle&&!L(l,t.handle,r,!1)||this._prepareDragStart(e,n,o)}}},_prepareDragStart:function(t,e,i){var r,s=this,a=s.el,n=s.options,o=a.ownerDocument;i&&!H&&i.parentNode===a&&(r=F(i),X=a,W=(H=i).parentNode,bt=H.nextSibling,xt=i,St=n.group,Ct={target:U.dragged=H,clientX:(e||t).clientX,clientY:(e||t).clientY},Mt=Ct.clientX-r.left,Et=Ct.clientY-r.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,H.style["will-change"]="all",r=function(){N("delayEnded",s,{evt:t}),U.eventCanceled?s._onDrop():(s._disableDelayedDragEvents(),!w&&s.nativeDraggable&&(H.draggable=!0),s._triggerDragStart(t,e),z({sortable:s,name:"choose",originalEvent:t}),I(H,n.chosenClass,!0))},n.ignore.split(",").forEach(function(t){J(H,t.trim(),$t)}),l(o,"dragover",Gt),l(o,"mousemove",Gt),l(o,"touchmove",Gt),n.supportPointer?(l(o,"pointerup",s._onDrop),this.nativeDraggable||l(o,"pointercancel",s._onDrop)):(l(o,"mouseup",s._onDrop),l(o,"touchend",s._onDrop),l(o,"touchcancel",s._onDrop)),w&&this.nativeDraggable&&(this.options.touchStartThreshold=4,H.draggable=!0),N("delayStart",this,{evt:t}),!n.delay||n.delayOnTouchOnly&&!e||this.nativeDraggable&&(_||b)?r():U.eventCanceled?this._onDrop():(n.supportPointer?(l(o,"pointerup",s._disableDelayedDrag),l(o,"pointercancel",s._disableDelayedDrag)):(l(o,"mouseup",s._disableDelayedDrag),l(o,"touchend",s._disableDelayedDrag),l(o,"touchcancel",s._disableDelayedDrag)),l(o,"mousemove",s._delayedDragTouchMoveHandler),l(o,"touchmove",s._delayedDragTouchMoveHandler),n.supportPointer&&l(o,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(r,n.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t,Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){H&&$t(H),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;a(t,"mouseup",this._disableDelayedDrag),a(t,"touchend",this._disableDelayedDrag),a(t,"touchcancel",this._disableDelayedDrag),a(t,"pointerup",this._disableDelayedDrag),a(t,"pointercancel",this._disableDelayedDrag),a(t,"mousemove",this._delayedDragTouchMoveHandler),a(t,"touchmove",this._delayedDragTouchMoveHandler),a(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?l(document,"pointermove",this._onTouchMove):l(document,e?"touchmove":"mousemove",this._onTouchMove):(l(H,"dragend",this),l(X,"dragstart",this._onDragStart));try{document.selection?Jt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var i;Lt=!1,X&&H?(N("dragStarted",this,{evt:e}),this.nativeDraggable&&l(document,"dragover",qt),i=this.options,t||I(H,i.dragClass,!1),I(H,i.ghostClass,!0),U.active=this,t&&this._appendGhost(),z({sortable:this,name:"start",originalEvent:e})):this._nulling()},_emulateDragOver:function(){if(h){this._lastX=h.clientX,this._lastY=h.clientY,vt();for(var t=document.elementFromPoint(h.clientX,h.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(h.clientX,h.clientY))!==e;)e=t;if(H.parentNode[B]._isOutsideThisEl(t),e)do{if(e[B]&&e[B]._onDragOver({clientX:h.clientX,clientY:h.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}while(e=D(t=e));yt()}},_onTouchMove:function(t){if(Ct){var e=(o=this.options).fallbackTolerance,i=o.fallbackOffset,r=t.touches?t.touches[0]:t,s=V&&p(V,!0),a=V&&s&&s.a,n=V&&s&&s.d,o=Wt&&c&&et(c),a=(r.clientX-Ct.clientX+i.x)/(a||1)+(o?o[0]-Bt[0]:0)/(a||1),n=(r.clientY-Ct.clientY+i.y)/(n||1)+(o?o[1]-Bt[1]:0)/(n||1);if(!U.active&&!Lt){if(e&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<e)return;this._onDragStart(t,!0)}V&&(s?(s.e+=a-(Tt||0),s.f+=n-(kt||0)):s={a:1,b:0,c:0,d:1,e:a,f:n},s="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")"),j(V,"webkitTransform",s),j(V,"mozTransform",s),j(V,"msTransform",s),j(V,"transform",s),Tt=a,kt=n,h=r),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!V){var t=this.options.fallbackOnBody?document.body:X,e=F(H,!0,Wt,!0,t),i=this.options;if(Wt){for(c=t;"static"===j(c,"position")&&"none"===j(c,"transform")&&c!==document;)c=c.parentNode;c!==document.body&&c!==document.documentElement?(c===document&&(c=M()),e.top+=c.scrollTop,e.left+=c.scrollLeft):c=M(),Bt=et(c)}I(V=H.cloneNode(!0),i.ghostClass,!1),I(V,i.fallbackClass,!0),I(V,i.dragClass,!0),j(V,"transition",""),j(V,"transform",""),j(V,"box-sizing","border-box"),j(V,"margin",0),j(V,"top",e.top),j(V,"left",e.left),j(V,"width",e.width),j(V,"height",e.height),j(V,"opacity","0.8"),j(V,"position",Wt?"absolute":"fixed"),j(V,"zIndex","100000"),j(V,"pointerEvents","none"),U.ghost=V,t.appendChild(V),j(V,"transform-origin",Mt/parseInt(V.style.width)*100+"% "+Et/parseInt(V.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,r=t.dataTransfer,s=i.options;N("dragStart",this,{evt:t}),U.eventCanceled?this._onDrop():(N("setupClone",this),U.eventCanceled||((o=at(H)).removeAttribute("id"),o.draggable=!1,o.style["will-change"]="",this._hideClone(),I(o,this.options.chosenClass,!1),U.clone=o),i.cloneId=Jt(function(){N("clone",i),U.eventCanceled||(i.options.removeCloneOnHide||X.insertBefore(o,H),i._hideClone(),z({sortable:i,name:"clone"}))}),e||I(H,s.dragClass,!0),e?(It=!0,i._loopId=setInterval(i._emulateDragOver,50)):(a(document,"mouseup",i._onDrop),a(document,"touchend",i._onDrop),a(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",s.setData)&&s.setData.call(i,r,H),l(document,"drop",i),j(H,"transform","translateZ(0)")),Lt=!0,i._dragStartId=Jt(i._dragStarted.bind(i,e,t)),l(document,"selectstart",i),Pt=!0,window.getSelection().removeAllRanges(),S&&j(document.body,"user-select","none"))},_onDragOver:function(c){var i,r,s,t,e,a=this.el,n=c.target,o=this.options,l=o.group,h=U.active,d=St===l,u=o.sort,p=q||h,f=this,g=!1;if(!Nt){if(void 0!==c.preventDefault&&c.cancelable&&c.preventDefault(),n=L(n,o.draggable,a,!0),E("dragOver"),U.eventCanceled)return g;if(H.contains(c.target)||n.animated&&n.animatingX&&n.animatingY||f._ignoreWhileAnimating===n)return O(!1);if(It=!1,h&&!o.disabled&&(d?u||(r=W!==X):q===this||(this.lastPutMode=St.checkPull(this,h,H,c))&&l.checkPut(this,h,H,c))){if(s="vertical"===this._getDirection(c,n),i=F(H),E("dragOverValid"),U.eventCanceled)return g;if(r)return W=X,P(),this._hideClone(),E("revert"),U.eventCanceled||(bt?X.insertBefore(H,bt):X.appendChild(H)),O(!0);var m=tt(a,o.draggable);if(m&&(w=c,l=s,M=F(tt((_=this).el,_.options.draggable)),_=lt(_.el,_.options,V),!(l?w.clientX>_.right+10||w.clientY>M.bottom&&w.clientX>M.left:w.clientY>_.bottom+10||w.clientX>M.right&&w.clientY>M.top)||m.animated)){if(m&&(t=c,e=s,C=F(Z((S=this).el,0,S.options,!0)),S=lt(S.el,S.options,V),e?t.clientX<S.left-10||t.clientY<C.top&&t.clientX<C.right:t.clientY<S.top-10||t.clientY<C.bottom&&t.clientX<C.left)){if((T=Z(a,0,o,!0))===H)return O(!1);if(x=F(n=T),!1!==Ut(X,a,H,i,n,x,c,!1))return P(),a.insertBefore(H,T),W=a,D(),O(!0)}else if(n.parentNode===a){var v,y,b,x=F(n),_=H.parentNode!==a,w=(w=H.animated&&H.toRect||i,M=n.animated&&n.toRect||x,S=(e=s)?w.left:w.top,t=e?w.right:w.bottom,C=e?w.width:w.height,T=e?M.left:M.top,w=e?M.right:M.bottom,M=e?M.width:M.height,!(S===T||t===w||S+C/2===T+M/2)),S=s?"top":"left",C=Q(n,"top","top")||Q(H,"top","top"),T=C?C.scrollTop:void 0;if(Ot!==n&&(y=x[S],Ft=!1,Rt=!w&&o.invertSwap||_),0!==(v=((t,e,i,r,s,a,n,o)=>{var l=r?c.clientY:c.clientX,h=r?i.height:i.width,t=r?i.top:i.left,r=r?i.bottom:i.right,i=!1;if(!n)if(o&&At<h*s){if(Ft=!Ft&&(1===Dt?t+h*a/2<l:l<r-h*a/2)||Ft)i=!0;else if(1===Dt?l<t+At:r-At<l)return-Dt}else if(t+h*(1-s)/2<l&&l<r-h*(1-s)/2)return o=e,R(H)<R(o)?1:-1;return(i=i||n)&&(l<t+h*a/2||r-h*a/2<l)?t+h/2<l?1:-1:0})(0,n,x,s,w?1:o.swapThreshold,null==o.invertedSwapThreshold?o.swapThreshold:o.invertedSwapThreshold,Rt,Ot===n)))for(var k=R(H);(b=W.children[k-=v])&&("none"===j(b,"display")||b===V););if(0===v||b===n)return O(!1);Dt=v;var M=(Ot=n).nextElementSibling,_=!1;if(!1!==(w=Ut(X,a,H,i,n,x,c,_=1===v)))return 1!==w&&-1!==w||(_=1===w),Nt=!0,setTimeout(Kt,30),P(),_&&!M?a.appendChild(H):n.parentNode.insertBefore(H,_?M:n),C&&st(C,0,T-C.scrollTop),W=H.parentNode,void 0===y||Rt||(At=Math.abs(y-F(n)[S])),D(),O(!0)}}else{if(m===H)return O(!1);if((n=m&&a===c.target?m:n)&&(x=F(n)),!1!==Ut(X,a,H,i,n,x,c,!!n))return P(),m&&m.nextSibling?a.insertBefore(H,m.nextSibling):a.appendChild(H),W=a,D(),O(!0)}if(a.contains(H))return O(!1)}return!1}function E(t,e){N(t,f,A({evt:c,isOwner:d,axis:s?"vertical":"horizontal",revert:r,dragRect:i,targetRect:x,canSort:u,fromSortable:p,target:n,completed:O,onMove:function(t,e){return Ut(X,a,H,i,t,F(t),c,e)},changed:D},e))}function P(){E("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function O(t){return E("dragOverCompleted",{insertion:t}),t&&(d?h._hideClone():h._showClone(f),f!==p&&(I(H,(q||h).options.ghostClass,!1),I(H,o.ghostClass,!0)),q!==f&&f!==U.active?q=f:f===U.active&&(q=q&&null),p===f&&(f._ignoreWhileAnimating=n),f.animateAll(function(){E("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==p)&&(p.animateAll(),p._ignoreWhileAnimating=null),(n===H&&!H.animated||n===a&&!n.animated)&&(Ot=null),o.dragoverBubble||c.rootEl||n===document||(H.parentNode[B]._isOutsideThisEl(c.target),t)||Gt(c),!o.dragoverBubble&&c.stopPropagation&&c.stopPropagation(),g=!0}function D(){Y=R(H),G=R(H,o.draggable),z({sortable:f,name:"change",toEl:a,newIndex:Y,newDraggableIndex:G,originalEvent:c})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){a(document,"mousemove",this._onTouchMove),a(document,"touchmove",this._onTouchMove),a(document,"pointermove",this._onTouchMove),a(document,"dragover",Gt),a(document,"mousemove",Gt),a(document,"touchmove",Gt)},_offUpEvents:function(){var t=this.el.ownerDocument;a(t,"mouseup",this._onDrop),a(t,"touchend",this._onDrop),a(t,"pointerup",this._onDrop),a(t,"pointercancel",this._onDrop),a(t,"touchcancel",this._onDrop),a(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;Y=R(H),G=R(H,i.draggable),N("drop",this,{evt:t}),W=H&&H.parentNode,Y=R(H),G=R(H,i.draggable),U.eventCanceled||(Ft=Rt=Lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Qt(this.cloneId),Qt(this._dragStartId),this.nativeDraggable&&(a(document,"drop",this),a(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),S&&j(document.body,"user-select",""),j(H,"transform",""),t&&(Pt&&(t.cancelable&&t.preventDefault(),i.dropBubble||t.stopPropagation()),V&&V.parentNode&&V.parentNode.removeChild(V),(X===W||q&&"clone"!==q.lastPutMode)&&o&&o.parentNode&&o.parentNode.removeChild(o),H)&&(this.nativeDraggable&&a(H,"dragend",this),$t(H),H.style["will-change"]="",Pt&&!Lt&&I(H,(q||this).options.ghostClass,!1),I(H,this.options.chosenClass,!1),z({sortable:this,name:"unchoose",toEl:W,newIndex:null,newDraggableIndex:null,originalEvent:t}),X!==W?(0<=Y&&(z({rootEl:W,name:"add",toEl:W,fromEl:X,originalEvent:t}),z({sortable:this,name:"remove",toEl:W,originalEvent:t}),z({rootEl:W,name:"sort",toEl:W,fromEl:X,originalEvent:t}),z({sortable:this,name:"sort",toEl:W,originalEvent:t})),q&&q.save()):Y!==_t&&0<=Y&&(z({sortable:this,name:"update",toEl:W,originalEvent:t}),z({sortable:this,name:"sort",toEl:W,originalEvent:t})),U.active)&&(null!=Y&&-1!==Y||(Y=_t,G=wt),z({sortable:this,name:"end",toEl:W,originalEvent:t}),this.save())),this._nulling()},_nulling:function(){N("nulling",this),X=H=W=V=bt=o=xt=s=Ct=h=Pt=Y=G=_t=wt=Ot=Dt=q=St=U.dragged=U.ghost=U.clone=U.active=null,zt.forEach(function(t){t.checked=!0}),zt.length=Tt=kt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":H&&(this._onDragOver(t),(e=t).dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable)&&e.preventDefault();break;case"selectstart":t.preventDefault()}var e},toArray:function(){for(var t,e=[],i=this.el.children,r=0,s=i.length,a=this.options;r<s;r++)L(t=i[r],a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||(t=>{for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,r=0;i--;)r+=e.charCodeAt(i);return r.toString(36)})(t));return e},sort:function(t,e){var i={},r=this.el;this.toArray().forEach(function(t,e){L(e=r.children[e],this.options.draggable,r,!1)&&(i[t]=e)},this),e&&this.captureAnimationState(),t.forEach(function(t){i[t]&&(r.removeChild(i[t]),r.appendChild(i[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return L(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];var r=ut.modifyOption(this,t,e);i[t]=void 0!==r?r:e,"group"===t&&mt(i)},destroy:function(){N("destroy",this);var t=this.el;t[B]=null,a(t,"mousedown",this._onTapStart),a(t,"touchstart",this._onTapStart),a(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(a(t,"dragover",this),a(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),jt.splice(jt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){s||(N("hideClone",this),U.eventCanceled)||(j(o,"display","none"),this.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o),s=!0)},_showClone:function(t){"clone"===t.lastPutMode?s&&(N("showClone",this),U.eventCanceled||(H.parentNode!=X||this.options.group.revertClone?bt?X.insertBefore(o,bt):X.appendChild(o):X.insertBefore(o,H),this.options.group.revertClone&&this.animate(H,o),j(o,"display",""),s=!1)):this._hideClone()}},Ht&&l(document,"touchmove",function(t){(U.active||Lt)&&t.cancelable&&t.preventDefault()}),U.utils={on:l,off:a,css:j,find:J,is:function(t,e){return!!L(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},throttle:rt,closest:L,toggleClass:I,clone:at,index:R,nextTick:Jt,cancelNextTick:Qt,detectDirection:gt,getChild:Z,expando:B},U.get=function(t){return t[B]},U.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];(e=e[0].constructor===Array?e[0]:e).forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(U.utils=A(A({},U.utils),t.utils)),ut.mount(t)})},U.create=function(t,e){return new U(t,e)};var Zt,te,ee,ie,re,se,P=[],ae=!(U.version="1.15.6");function ne(){P.forEach(function(t){clearInterval(t.pid)}),P=[]}function oe(){clearInterval(se)}var d,le=rt(function(i,t,e,r){if(t.scroll){var s,a=(i.touches?i.touches[0]:i).clientX,n=(i.touches?i.touches[0]:i).clientY,o=t.scrollSensitivity,l=t.scrollSpeed,h=M(),c=!1,d=0,u=Zt=te!==e&&(te=e,ne(),Zt=t.scroll,s=t.scrollFn,!0===Zt)?E(e,!0):Zt;do{var p=u,f=(T=F(p)).top,g=T.bottom,m=T.left,v=T.right,y=T.width,b=T.height,x=void 0,_=p.scrollWidth,w=p.scrollHeight,S=j(p),C=p.scrollLeft,T=p.scrollTop,S=p===h?(x=y<_&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),b<w&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(x=y<_&&("auto"===S.overflowX||"scroll"===S.overflowX),b<w&&("auto"===S.overflowY||"scroll"===S.overflowY)),C=x&&(Math.abs(v-a)<=o&&C+y<_)-(Math.abs(m-a)<=o&&!!C),T=S&&(Math.abs(g-n)<=o&&T+b<w)-(Math.abs(f-n)<=o&&!!T);if(!P[d])for(var k=0;k<=d;k++)P[k]||(P[k]={});P[d].vx==C&&P[d].vy==T&&P[d].el===p||(P[d].el=p,P[d].vx=C,P[d].vy=T,clearInterval(P[d].pid),0==C&&0==T)||(c=!0,P[d].pid=setInterval(function(){r&&0===this.layer&&U.active._onTouchMove(re);var t=P[this.layer].vy?P[this.layer].vy*l:0,e=P[this.layer].vx?P[this.layer].vx*l:0;"function"==typeof s&&"continue"!==s.call(U.dragged.parentNode[B],e,t,i,re,P[this.layer].el)||st(P[this.layer].el,e,t)}.bind({layer:d}),24)),d++}while(t.bubbleScroll&&u!==h&&(u=E(u,!1)));ae=c}},30);function he(){}function ce(){}he.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex,this.startIndex=t},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState(),(t=Z(this.sortable.el,this.startIndex,this.options))?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:T=function(t){var e=t.originalEvent,i=t.putSortable,r=t.dragEl,s=t.activeSortable,a=t.dispatchSortableEvent,n=t.hideGhostForTarget,t=t.unhideGhostForTarget;e&&(s=i||s,n(),e=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(e.clientX,e.clientY),t(),s)&&!s.el.contains(e)&&(a("spill"),this.onSpill({dragEl:r,putSortable:i}))}},n(he,{pluginName:"revertOnSpill"}),ce.prototype={onSpill:function(t){var e=t.dragEl;(t=t.putSortable||this.sortable).captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:T},n(ce,{pluginName:"removeOnSpill"});var de,g,m,ue,pe,v=[],y=[],fe=!1,x=!1,ge=!1;function me(i,r){y.forEach(function(t,e){(e=r.children[t.sortableIndex+(i?Number(e):0)])?r.insertBefore(t,e):r.appendChild(t)})}function ve(){v.forEach(function(t){t!==m&&t.parentNode&&t.parentNode.removeChild(t)})}return U.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){t=t.originalEvent,this.sortable.nativeDraggable?l(document,"dragover",this._handleAutoScroll):this.options.supportPointer?l(document,"pointermove",this._handleFallbackAutoScroll):t.touches?l(document,"touchmove",this._handleFallbackAutoScroll):l(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent,this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?a(document,"dragover",this._handleAutoScroll):(a(document,"pointermove",this._handleFallbackAutoScroll),a(document,"touchmove",this._handleFallbackAutoScroll),a(document,"mousemove",this._handleFallbackAutoScroll)),oe(),ne(),clearTimeout($),$=void 0},nulling:function(){re=te=Zt=ae=se=ee=ie=null,P.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,i){var r,s=this,a=(e.touches?e.touches[0]:e).clientX,n=(e.touches?e.touches[0]:e).clientY,t=document.elementFromPoint(a,n);re=e,i||this.options.forceAutoScrollFallback||_||b||S?(le(e,this.options,t,i),r=E(t,!0),!ae||se&&a===ee&&n===ie||(se&&oe(),se=setInterval(function(){var t=E(document.elementFromPoint(a,n),!0);t!==r&&(r=t,ne()),le(e,s.options,t,i)},10),ee=a,ie=n)):this.options.bubbleScroll&&E(t,!0)!==M()?le(e,this.options,E(t,!1),!1):ne()}},n(t,{pluginName:"scroll",initializeByDefault:!0})}),U.mount(ce,he),U.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){t=t.dragEl,d=t},dragOverValid:function(t){var e,i=t.completed,r=t.target,s=t.onMove,a=t.changed,n=t.cancel;t.activeSortable.options.swap&&(t=this.sortable.el,e=this.options,r&&r!==t&&(t=d,d=!1!==s(r)?(I(r,e.swapClass,!0),r):null,t)&&t!==d&&I(t,e.swapClass,!1),a(),i(!0),n())},drop:function(t){var e,i,r=t.activeSortable,s=t.putSortable,a=t.dragEl,n=s||this.sortable,o=this.options;d&&I(d,o.swapClass,!1),d&&(o.swap||s&&s.options.swap)&&a!==d&&(n.captureAnimationState(),n!==r&&r.captureAnimationState(),i=d,t=(e=a).parentNode,o=i.parentNode,t&&o&&!t.isEqualNode(i)&&!o.isEqualNode(e)&&(s=R(e),a=R(i),t.isEqualNode(o)&&s<a&&a++,t.insertBefore(i,t.children[s]),o.insertBefore(e,o.children[a])),n.animateAll(),n!==r)&&r.animateAll()},nulling:function(){d=null}},n(t,{pluginName:"swap",eventProperties:function(){return{swapItem:d}}})}),U.mount(new function(){function t(r){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));r.options.avoidImplicitDeselect||(r.options.supportPointer?l(document,"pointerup",this._deselectMultiDrag):(l(document,"mouseup",this._deselectMultiDrag),l(document,"touchend",this._deselectMultiDrag))),l(document,"keydown",this._checkKeyDown),l(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,e){var i="";v.length&&g===r?v.forEach(function(t,e){i+=(e?", ":"")+t.textContent}):i=e.textContent,t.setData("Text",i)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl,m=t},delayEnded:function(){this.isMultiDrag=~v.indexOf(m)},setupClone:function(t){var e=t.sortable,t=t.cancel;if(this.isMultiDrag){for(var i=0;i<v.length;i++)y.push(at(v[i])),y[i].sortableIndex=v[i].sortableIndex,y[i].draggable=!1,y[i].style["will-change"]="",I(y[i],this.options.selectedClass,!1),v[i]===m&&I(y[i],this.options.chosenClass,!1);e._hideClone(),t()}},clone:function(t){var e=t.sortable,i=t.rootEl,r=t.dispatchSortableEvent,t=t.cancel;this.isMultiDrag&&!this.options.removeCloneOnHide&&v.length&&g===e&&(me(!0,i),r("clone"),t())},showClone:function(t){var e=t.cloneNowShown,i=t.rootEl,t=t.cancel;this.isMultiDrag&&(me(!1,i),y.forEach(function(t){j(t,"display","")}),e(),pe=!1,t())},hideClone:function(t){var e=this,i=(t.sortable,t.cloneNowHidden),t=t.cancel;this.isMultiDrag&&(y.forEach(function(t){j(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),i(),pe=!0,t())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&g&&g.multiDrag._deselectMultiDrag(),v.forEach(function(t){t.sortableIndex=R(t)}),v=v.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),ge=!0},dragStarted:function(t){var e,i=this,t=t.sortable;this.isMultiDrag&&(this.options.sort&&(t.captureAnimationState(),this.options.animation)&&(v.forEach(function(t){t!==m&&j(t,"position","absolute")}),e=F(m,!1,!0,!0),v.forEach(function(t){t!==m&&nt(t,e)}),fe=x=!0),t.animateAll(function(){fe=x=!1,i.options.animation&&v.forEach(function(t){ot(t)}),i.options.sort&&ve()}))},dragOver:function(t){var e=t.target,i=t.completed,t=t.cancel;x&&~v.indexOf(e)&&(i(!1),t())},revert:function(t){var i,r,e=t.fromSortable,s=t.rootEl,a=t.sortable,n=t.dragRect;1<v.length&&(v.forEach(function(t){a.addAnimationState({target:t,rect:x?F(t):n}),ot(t),t.fromRect=n,e.removeAnimationState(t)}),x=!1,i=!this.options.removeCloneOnHide,r=s,v.forEach(function(t,e){(e=r.children[t.sortableIndex+(i?Number(e):0)])?r.insertBefore(t,e):r.appendChild(t)}))},dragOverCompleted:function(t){var e,i=t.sortable,r=t.isOwner,s=t.insertion,a=t.activeSortable,n=t.parentEl,o=t.putSortable,t=this.options;s&&(r&&a._hideClone(),fe=!1,t.animation&&1<v.length&&(x||!r&&!a.options.sort&&!o)&&(e=F(m,!1,!0,!0),v.forEach(function(t){t!==m&&(nt(t,e),n.appendChild(t))}),x=!0),r||(x||ve(),1<v.length?(r=pe,a._showClone(i),a.options.animation&&!pe&&r&&y.forEach(function(t){a.addAnimationState({target:t,rect:ue}),t.fromRect=ue,t.thisAnimationDuration=null})):a._showClone(i)))},dragOverAnimationCapture:function(t){var e=t.dragRect,i=t.isOwner,t=t.activeSortable;v.forEach(function(t){t.thisAnimationDuration=null}),t.options.animation&&!i&&t.multiDrag.isMultiDrag&&(ue=n({},e),e=p(m,!0),ue.top-=e.f,ue.left-=e.e)},dragOverAnimationComplete:function(){x&&(x=!1,ve())},drop:function(t){var r,s,a,n,i,e,o,l=t.originalEvent,h=t.rootEl,c=t.parentEl,d=t.sortable,u=t.dispatchSortableEvent,p=t.oldIndex,f=(t=t.putSortable)||this.sortable;l&&(r=this.options,s=c.children,ge||(r.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(m,r.selectedClass,!~v.indexOf(m)),~v.indexOf(m)?(v.splice(v.indexOf(m),1),de=null,pt({sortable:d,rootEl:h,name:"deselect",targetEl:m,originalEvent:l})):(v.push(m),pt({sortable:d,rootEl:h,name:"select",targetEl:m,originalEvent:l}),l.shiftKey&&de&&d.el.contains(de)?(a=R(de),n=R(m),~a&&~n&&a!==n&&(()=>{for(var e,t=a<n?(e=a,n):(e=n,a+1),i=r.filter;e<t;e++)~v.indexOf(s[e])||!L(s[e],r.draggable,c,!1)||i&&("function"==typeof i?i.call(d,l,s[e],d):i.split(",").some(function(t){return L(s[e],t.trim(),c,!1)}))||(I(s[e],r.selectedClass,!0),v.push(s[e]),pt({sortable:d,rootEl:h,name:"select",targetEl:s[e],originalEvent:l}))})()):de=m,g=f)),ge&&this.isMultiDrag&&(x=!1,(c[B].options.sort||c!==h)&&1<v.length&&(i=F(m),e=R(m,":not(."+this.options.selectedClass+")"),!fe&&r.animation&&(m.thisAnimationDuration=null),f.captureAnimationState(),fe||(r.animation&&(m.fromRect=i,v.forEach(function(t){var e;t.thisAnimationDuration=null,t!==m&&(e=x?F(t):i,t.fromRect=e,f.addAnimationState({target:t,rect:e}))})),ve(),v.forEach(function(t){s[e]?c.insertBefore(t,s[e]):c.appendChild(t),e++}),p===R(m)&&(o=!1,v.forEach(function(t){t.sortableIndex!==R(t)&&(o=!0)}),o)&&(u("update"),u("sort"))),v.forEach(function(t){ot(t)}),f.animateAll()),g=f),h===c||t&&"clone"!==t.lastPutMode)&&y.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})},nullingGlobal:function(){this.isMultiDrag=ge=!1,y.length=0},destroyGlobal:function(){this._deselectMultiDrag(),a(document,"pointerup",this._deselectMultiDrag),a(document,"mouseup",this._deselectMultiDrag),a(document,"touchend",this._deselectMultiDrag),a(document,"keydown",this._checkKeyDown),a(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==ge&&ge||g!==this.sortable||t&&L(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;v.length;){var e=v[0];I(e,this.options.selectedClass,!1),v.shift(),pt({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},n(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[B];e&&e.options.multiDrag&&!~v.indexOf(t)&&(g&&g!==e&&(g.multiDrag._deselectMultiDrag(),g=e),I(t,e.options.selectedClass,!0),v.push(t))},deselect:function(t){var e=t.parentNode[B],i=v.indexOf(t);e&&e.options.multiDrag&&~i&&(I(t,e.options.selectedClass,!1),v.splice(i,1))}},eventProperties:function(){var i=this,r=[],s=[];return v.forEach(function(t){var e;r.push({multiDragElement:t,index:t.sortableIndex}),e=x&&t!==m?-1:x?R(t,":not(."+i.options.selectedClass+")"):R(t),s.push({multiDragElement:t,index:e})}),{items:f(v),clones:[].concat(y),oldIndicies:r,newIndicies:s}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),U}),(()=>{function r(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function s(e,i){void 0===e&&(e={}),void 0===i&&(i={}),Object.keys(i).forEach(t=>{void 0===e[t]?e[t]=i[t]:r(i[t])&&r(e[t])&&0<Object.keys(i[t]).length&&s(e[t],i[t])})}let e={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function P(){var t="undefined"!=typeof document?document:{};return s(t,e),t}let m={document:e,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function D(){var t="undefined"!=typeof window?window:{};return s(t,m),t}function C(t){return(t=void 0===t?"":t).trim().split(" ").filter(t=>!!t.trim())}function T(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function v(){return Date.now()}function A(t,e){void 0===e&&(e="x");var i=D();let r,s,a;t=(t=>{var e=D();let i;return i=(i=!(i=e.getComputedStyle?e.getComputedStyle(t,null):i)&&t.currentStyle?t.currentStyle:i)||t.style})(t);return i.WebKitCSSMatrix?(6<(s=t.transform||t.webkitTransform).split(",").length&&(s=s.split(", ").map(t=>t.replace(",",".")).join(", ")),a=new i.WebKitCSSMatrix("none"===s?"":s)):(a=t.MozTransform||t.OTransform||t.MsTransform||t.msTransform||t.transform||t.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),"x"===e&&(s=i.WebKitCSSMatrix?a.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),(s="y"===e?i.WebKitCSSMatrix?a.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5]):s)||0}function h(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function y(t){let r=Object(arguments.length<=0?void 0:t),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){var s=t<0||arguments.length<=t?void 0:arguments[t];if(null!=s&&(i=s,!("undefined"!=typeof window&&void 0!==window.HTMLElement?i instanceof HTMLElement:i&&(1===i.nodeType||11===i.nodeType)))){let i=Object.keys(Object(s)).filter(t=>e.indexOf(t)<0);for(let t=0,e=i.length;t<e;t+=1){var a=i[t],n=Object.getOwnPropertyDescriptor(s,a);void 0!==n&&n.enumerable&&(h(r[a])&&h(s[a])?s[a].__swiper__?r[a]=s[a]:y(r[a],s[a]):h(r[a])||!h(s[a])||(r[a]={},s[a].__swiper__)?r[a]=s[a]:y(r[a],s[a]))}}}var i;return r}function E(t,e,i){t.style.setProperty(e,i)}function b(t){let{swiper:i,targetPosition:r,side:s}=t,a=D(),n=-i.translate,o,l=null,h=i.params.speed,c=(i.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(i.cssModeFrameID),r>n?"next":"prev"),d=(t,e)=>"next"===c&&e<=t||"prev"===c&&t<=e,u=()=>{o=(new Date).getTime(),null===l&&(l=o);var t=Math.max(Math.min((o-l)/h,1),0),t=.5-Math.cos(t*Math.PI)/2;let e=n+t*(r-n);d(e,r)&&(e=r),i.wrapperEl.scrollTo({[s]:e}),d(e,r)?(i.wrapperEl.style.overflow="hidden",i.wrapperEl.style.scrollSnapType="",setTimeout(()=>{i.wrapperEl.style.overflow="",i.wrapperEl.scrollTo({[s]:e})}),a.cancelAnimationFrame(i.cssModeFrameID)):i.cssModeFrameID=a.requestAnimationFrame(u)};u()}function a(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function L(t,e){return void 0===e&&(e=""),[...t.children].filter(t=>t.matches(e))}function M(t){try{console.warn(t)}catch(t){}}function O(t,e){void 0===e&&(e=[]);t=document.createElement(t);return t.classList.add(...Array.isArray(e)?e:C(e)),t}function I(t){var e=D(),i=P(),r=t.getBoundingClientRect(),i=i.body,s=t.clientTop||i.clientTop||0,i=t.clientLeft||i.clientLeft||0,a=t===e?e.scrollY:t.scrollTop,e=t===e?e.scrollX:t.scrollLeft;return{top:r.top+a-s,left:r.left+e-i}}function k(t,e){return D().getComputedStyle(t,null).getPropertyValue(e)}function j(t){let e,i=t;if(i){for(e=0;null!==(i=i.previousSibling);)1===i.nodeType&&(e+=1);return e}}function F(t,e){var i=[];let r=t.parentElement;for(;r;)e&&!r.matches(e)||i.push(r),r=r.parentElement;return i}function g(i,r){r&&i.addEventListener("transitionend",function t(e){e.target===i&&(r.call(i,e),i.removeEventListener("transitionend",t))})}function R(t,e,i){var r=D();return i?t["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):t.offsetWidth}function B(t){return(Array.isArray(t)?t:[t]).filter(t=>!!t)}let x,t,S;function H(){return x=x||(t=D(),{smoothScroll:(e=P()).documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)});var t,e}function W(d){return void 0===d&&(d={}),t=t||(()=>{var t=(void 0===d?{}:d).userAgent,e=H(),i=(a=D()).navigator.platform,t=t||a.navigator.userAgent,r={ios:!1,android:!1},s=a.screen.width,a=a.screen.height,n=t.match(/(Android);?[\s\/]+([\d.]+)?/);let o=t.match(/(iPad).*OS\s([\d_]+)/);var l=t.match(/(iPod)(.*OS\s([\d_]+))?/),h=!o&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/),c="Win32"===i,i="MacIntel"===i;return!o&&i&&e.touch&&0<=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(s+"x"+a)&&(o=(o=t.match(/(Version)\/([\d.]+)/))||[0,1,"13_0_0"]),n&&!c&&(r.os="android",r.android=!0),(o||h||l)&&(r.os="ios",r.ios=!0),r})()}function V(){return S=S||(()=>{let e=D(),t=W(),r=!1;function i(){var t=e.navigator.userAgent.toLowerCase();return 0<=t.indexOf("safari")&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(i()){let i=String(e.navigator.userAgent);if(i.includes("Version/")){let[t,e]=i.split("Version/")[1].split(" ")[0].split(".").map(t=>Number(t));r=t<16||16===t&&e<2}}var s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),a=i();return{isSafari:r||a,needPerspectiveFix:r,need3dFix:a||s&&t.ios,isWebView:s}})()}let X={on(t,i,r){let s=this;if(s.eventsListeners&&!s.destroyed&&"function"==typeof i){let e=r?"unshift":"push";t.split(" ").forEach(t=>{s.eventsListeners[t]||(s.eventsListeners[t]=[]),s.eventsListeners[t][e](i)})}return s},once(r,s,t){let a=this;return!a.eventsListeners||a.destroyed||"function"!=typeof s?a:(n.__emitterProxy=s,a.on(r,n,t));function n(){a.off(r,n),n.__emitterProxy&&delete n.__emitterProxy;for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];s.apply(a,e)}},onAny(t,e){return this.eventsListeners&&!this.destroyed&&"function"==typeof t&&(e=e?"unshift":"push",this.eventsAnyListeners.indexOf(t)<0)&&this.eventsAnyListeners[e](t),this},offAny(t){return this.eventsListeners&&!this.destroyed&&this.eventsAnyListeners&&0<=(t=this.eventsAnyListeners.indexOf(t))&&this.eventsAnyListeners.splice(t,1),this},off(t,r){let s=this;return!s.eventsListeners||s.destroyed||s.eventsListeners&&t.split(" ").forEach(i=>{void 0===r?s.eventsListeners[i]=[]:s.eventsListeners[i]&&s.eventsListeners[i].forEach((t,e)=>{(t===r||t.__emitterProxy&&t.__emitterProxy===r)&&s.eventsListeners[i].splice(e,1)})}),s},emit(){let s=this;if(s.eventsListeners&&!s.destroyed&&s.eventsListeners){let t,i,r;for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];r="string"==typeof a[0]||Array.isArray(a[0])?(t=a[0],i=a.slice(1,a.length),s):(t=a[0].events,i=a[0].data,a[0].context||s),i.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(e=>{s.eventsAnyListeners&&s.eventsAnyListeners.length&&s.eventsAnyListeners.forEach(t=>{t.apply(r,[e,...i])}),s.eventsListeners&&s.eventsListeners[e]&&s.eventsListeners[e].forEach(t=>{t.apply(r,i)})})}return s}},c=(t,e,i)=>{e&&!t.classList.contains(i)?t.classList.add(i):!e&&t.classList.contains(i)&&t.classList.remove(i)},n=(i,t)=>{if(i&&!i.destroyed&&i.params){let e=t.closest(i.isElement?"swiper-slide":"."+i.params.slideClass);if(e){let t=e.querySelector("."+i.params.lazyPreloaderClass);!t&&i.isElement&&(e.shadowRoot?t=e.shadowRoot.querySelector("."+i.params.lazyPreloaderClass):requestAnimationFrame(()=>{e.shadowRoot&&(t=e.shadowRoot.querySelector("."+i.params.lazyPreloaderClass))&&t.remove()})),t&&t.remove()}}},l=(t,e)=>{t.slides[e]&&(t=t.slides[e].querySelector('[loading="lazy"]'))&&t.removeAttribute("loading")},d=o=>{if(o&&!o.destroyed&&o.params){let n=o.params.lazyPreloadPrevNext,r=o.slides.length;if(r&&n&&!(n<0)){n=Math.min(n,r);let s="auto"===o.params.slidesPerView?o.slidesPerViewDynamic():Math.ceil(o.params.slidesPerView),a=o.activeIndex;if(o.params.grid&&1<o.params.grid.rows){let i=a,r=[i-n];r.push(...Array.from({length:n}).map((t,e)=>i+s+e)),void o.slides.forEach((t,e)=>{r.includes(t.column)&&l(o,e)})}else{let i=a+s-1;if(o.params.rewind||o.params.loop)for(let e=a-n;e<=i+n;e+=1){let t=(e%r+r)%r;(t<a||t>i)&&l(o,t)}else for(let t=Math.max(a-n,0);t<=Math.min(i+n,r-1);t+=1)t!==a&&(t>i||t<a)&&l(o,t)}}}},Y={updateSize:function(){var t=this;let e,i;var r=t.el;e=null!=t.params.width?t.params.width:r.clientWidth,i=null!=t.params.height?t.params.height:r.clientHeight,0===e&&t.isHorizontal()||0===i&&t.isVertical()||(e=e-parseInt(k(r,"padding-left")||0,10)-parseInt(k(r,"padding-right")||0,10),i=i-parseInt(k(r,"padding-top")||0,10)-parseInt(k(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(i)&&(i=0),Object.assign(t,{width:e,height:i,size:t.isHorizontal()?e:i}))},updateSlides:function(){let s=this;function h(t,e){return parseFloat(t.getPropertyValue(s.getDirectionLabel(e))||0)}let a=s.params,{wrapperEl:t,slidesEl:e,size:n,rtlTranslate:i,wrongRTL:r}=s,o=s.virtual&&a.virtual.enabled,c=(o?s.virtual:s).slides.length,d=L(e,`.${s.params.slideClass}, swiper-slide`),u=(o?s.virtual.slides:d).length,p=[],f=[],g=[],m=a.slidesOffsetBefore,v=("function"==typeof m&&(m=a.slidesOffsetBefore.call(s)),a.slidesOffsetAfter);"function"==typeof v&&(v=a.slidesOffsetAfter.call(s));var y=s.snapGrid.length,b=s.slidesGrid.length;let x=a.spaceBetween,_=-m,w=0,S=0;if(void 0!==n){"string"==typeof x&&0<=x.indexOf("%")?x=parseFloat(x.replace("%",""))/100*n:"string"==typeof x&&(x=parseFloat(x)),s.virtualSize=-x,d.forEach(t=>{i?t.style.marginLeft="":t.style.marginRight="",t.style.marginBottom="",t.style.marginTop=""}),a.centeredSlides&&a.cssMode&&(E(t,"--swiper-centered-offset-before",""),E(t,"--swiper-centered-offset-after",""));var C=a.grid&&1<a.grid.rows&&s.grid;let l;C?s.grid.initSlides(d):s.grid&&s.grid.unsetSlides();var T="auto"===a.slidesPerView&&a.breakpoints&&0<Object.keys(a.breakpoints).filter(t=>void 0!==a.breakpoints[t].slidesPerView).length;for(let r=0;r<u;r+=1){let o;if(l=0,d[r]&&(o=d[r]),C&&s.grid.updateSlide(r,o,d),!d[r]||"none"!==k(o,"display")){if("auto"===a.slidesPerView){T&&(d[r].style[s.getDirectionLabel("width")]="");let e=getComputedStyle(o),t=o.style.transform,i=o.style.webkitTransform;if(t&&(o.style.transform="none"),i&&(o.style.webkitTransform="none"),a.roundLengths)l=s.isHorizontal()?R(o,"width",!0):R(o,"height",!0);else{let i=h(e,"width"),r=h(e,"padding-left"),s=h(e,"padding-right"),a=h(e,"margin-left"),n=h(e,"margin-right"),t=e.getPropertyValue("box-sizing");if(t&&"border-box"===t)l=i+a+n;else{let{clientWidth:t,offsetWidth:e}=o;l=i+r+s+a+n+(e-t)}}t&&(o.style.transform=t),i&&(o.style.webkitTransform=i),a.roundLengths&&(l=Math.floor(l))}else l=(n-(a.slidesPerView-1)*x)/a.slidesPerView,a.roundLengths&&(l=Math.floor(l)),d[r]&&(d[r].style[s.getDirectionLabel("width")]=l+"px");d[r]&&(d[r].swiperSlideSize=l),g.push(l),a.centeredSlides?(_=_+l/2+w/2+x,0===w&&0!==r&&(_=_-n/2-x),0===r&&(_=_-n/2-x),Math.abs(_)<.001&&(_=0),a.roundLengths&&(_=Math.floor(_)),S%a.slidesPerGroup==0&&p.push(_),f.push(_)):(a.roundLengths&&(_=Math.floor(_)),(S-Math.min(s.params.slidesPerGroupSkip,S))%s.params.slidesPerGroup==0&&p.push(_),f.push(_),_=_+l+x),s.virtualSize+=l+x,w=l,S+=1}}if(s.virtualSize=Math.max(s.virtualSize,n)+v,i&&r&&("slide"===a.effect||"coverflow"===a.effect)&&(t.style.width=s.virtualSize+x+"px"),a.setWrapperSize&&(t.style[s.getDirectionLabel("width")]=s.virtualSize+x+"px"),C&&s.grid.updateWrapperSize(l,p),!a.centeredSlides){let i=[];for(let e=0;e<p.length;e+=1){let t=p[e];a.roundLengths&&(t=Math.floor(t)),p[e]<=s.virtualSize-n&&i.push(t)}p=i,1<Math.floor(s.virtualSize-n)-Math.floor(p[p.length-1])&&p.push(s.virtualSize-n)}if(o&&a.loop){let r=g[0]+x;if(1<a.slidesPerGroup){let e=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/a.slidesPerGroup),i=r*a.slidesPerGroup;for(let t=0;t<e;t+=1)p.push(p[p.length-1]+i)}for(let t=0;t<s.virtual.slidesBefore+s.virtual.slidesAfter;t+=1)1===a.slidesPerGroup&&p.push(p[p.length-1]+r),f.push(f[f.length-1]+r),s.virtualSize+=r}if(0===p.length&&(p=[0]),0!==x){let e=s.isHorizontal()&&i?"marginLeft":s.getDirectionLabel("marginRight");d.filter((t,e)=>!(a.cssMode&&!a.loop)||e!==d.length-1).forEach(t=>{t.style[e]=x+"px"})}if(a.centeredSlides&&a.centeredSlidesBounds){let e=0,i=(g.forEach(t=>{e+=t+(x||0)}),(e-=x)-n);p=p.map(t=>t<=0?-m:t>i?i+v:t)}if(a.centerInsufficientSlides){let e=0;if(g.forEach(t=>{e+=t+(x||0)}),(e-=x)<n){let i=(n-e)/2;p.forEach((t,e)=>{p[e]=t-i}),f.forEach((t,e)=>{f[e]=t+i})}}if(Object.assign(s,{slides:d,snapGrid:p,slidesGrid:f,slidesSizesGrid:g}),a.centeredSlides&&a.cssMode&&!a.centeredSlidesBounds){E(t,"--swiper-centered-offset-before",-p[0]+"px"),E(t,"--swiper-centered-offset-after",s.size/2-g[g.length-1]/2+"px");let e=-s.snapGrid[0],i=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(t=>t+e),s.slidesGrid=s.slidesGrid.map(t=>t+i)}if(u!==c&&s.emit("slidesLengthChange"),p.length!==y&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),f.length!==b&&s.emit("slidesGridLengthChange"),a.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!(o||a.cssMode||"slide"!==a.effect&&"fade"!==a.effect)){let t=a.containerModifierClass+"backface-hidden",e=s.el.classList.contains(t);u<=a.maxBackfaceHiddenSlides?e||s.el.classList.add(t):e&&s.el.classList.remove(t)}}},updateAutoHeight:function(t){let e=this,i=[],r=e.virtual&&e.params.virtual.enabled,s,a=0;"number"==typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);var n=t=>r?e.slides[e.getSlideIndexByData(t)]:e.slides[t];if("auto"!==e.params.slidesPerView&&1<e.params.slidesPerView)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(t=>{i.push(t)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){let t=e.activeIndex+s;if(t>e.slides.length&&!r)break;i.push(n(t))}else i.push(n(e.activeIndex));for(s=0;s<i.length;s+=1)if(void 0!==i[s]){let t=i[s].offsetHeight;a=t>a?t:a}!a&&0!==a||(e.wrapperEl.style.height=a+"px")},updateSlidesOffset:function(){var e=this.slides,i=this.isElement?this.isHorizontal()?this.wrapperEl.offsetLeft:this.wrapperEl.offsetTop:0;for(let t=0;t<e.length;t+=1)e[t].swiperSlideOffset=(this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop)-i-this.cssOverflowAdjustment()},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);let s=this,a=s.params,{slides:n,rtlTranslate:o,snapGrid:l}=s;if(0!==n.length){void 0===n[0].swiperSlideOffset&&s.updateSlidesOffset();let i=o?t:-t,r=(n.forEach(t=>{t.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass)}),s.visibleSlidesIndexes=[],s.visibleSlides=[],a.spaceBetween);"string"==typeof r&&0<=r.indexOf("%")?r=parseFloat(r.replace("%",""))/100*s.size:"string"==typeof r&&(r=parseFloat(r));for(let e=0;e<n.length;e+=1){var h=n[e];let t=h.swiperSlideOffset;a.cssMode&&a.centeredSlides&&(t-=n[0].swiperSlideOffset);var c=(i+(a.centeredSlides?s.minTranslate():0)-t)/(h.swiperSlideSize+r),d=(i-l[0]+(a.centeredSlides?s.minTranslate():0)-t)/(h.swiperSlideSize+r),u=-(i-t),p=u+s.slidesSizesGrid[e],f=0<=u&&u<=s.size-s.slidesSizesGrid[e];(0<=u&&u<s.size-1||1<p&&p<=s.size||u<=0&&p>=s.size)&&(s.visibleSlides.push(h),s.visibleSlidesIndexes.push(e),n[e].classList.add(a.slideVisibleClass)),f&&n[e].classList.add(a.slideFullyVisibleClass),h.progress=o?-c:c,h.originalProgress=o?-d:d}}},updateProgress:function(n){var o=this;if(void 0===n){let t=o.rtlTranslate?-1:1;n=o&&o.translate&&o.translate*t||0}let t=o.params,i=o.maxTranslate()-o.minTranslate(),{progress:r,isBeginning:s,isEnd:a,progressLoop:l}=o,e=s,h=a;if(0===i)r=0,s=!0,a=!0;else{r=(n-o.minTranslate())/i;let t=Math.abs(n-o.minTranslate())<1,e=Math.abs(n-o.maxTranslate())<1;s=t||r<=0,a=e||1<=r,t&&(r=0),e&&(r=1)}if(t.loop){let t=o.getSlideIndexByData(0),e=o.getSlideIndexByData(o.slides.length-1),i=o.slidesGrid[t],r=o.slidesGrid[e],s=o.slidesGrid[o.slidesGrid.length-1],a=Math.abs(n);1<(l=a>=i?(a-i)/s:(a+s-r)/s)&&--l}Object.assign(o,{progress:r,progressLoop:l,isBeginning:s,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&o.updateSlidesProgress(n),s&&!e&&o.emit("reachBeginning toEdge"),a&&!h&&o.emit("reachEnd toEdge"),(e&&!s||h&&!a)&&o.emit("fromEdge"),o.emit("progress",r)},updateSlidesClasses:function(){let{slides:t,params:e,slidesEl:i,activeIndex:r}=this,s=this.virtual&&e.virtual.enabled,a=this.grid&&e.grid&&1<e.grid.rows,n=t=>L(i,`.${e.slideClass}${t}, swiper-slide`+t)[0],o,l,h;if(s)if(e.loop){let t=r-this.virtual.slidesBefore;(t=t<0?this.virtual.slides.length+t:t)>=this.virtual.slides.length&&(t-=this.virtual.slides.length),o=n(`[data-swiper-slide-index="${t}"]`)}else o=n(`[data-swiper-slide-index="${r}"]`);else a?(o=t.filter(t=>t.column===r)[0],h=t.filter(t=>t.column===r+1)[0],l=t.filter(t=>t.column===r-1)[0]):o=t[r];o&&!a&&(h=((t,e)=>{for(var i=[];t.nextElementSibling;){var r=t.nextElementSibling;e&&!r.matches(e)||i.push(r),t=r}return i})(o,`.${e.slideClass}, swiper-slide`)[0],e.loop&&!h&&(h=t[0]),l=((t,e)=>{for(var i=[];t.previousElementSibling;){var r=t.previousElementSibling;e&&!r.matches(e)||i.push(r),t=r}return i})(o,`.${e.slideClass}, swiper-slide`)[0],e.loop)&&0===!l&&(l=t[t.length-1]),t.forEach(t=>{c(t,t===o,e.slideActiveClass),c(t,t===h,e.slideNextClass),c(t,t===l,e.slidePrevClass)}),this.emitSlidesClasses()},updateActiveIndex:function(t){let r=this,e=r.rtlTranslate?r.translate:-r.translate,{snapGrid:i,params:s,activeIndex:a,realIndex:n,snapIndex:o}=r,l,h=t;t=t=>{let e=t-r.virtual.slidesBefore;return(e=e<0?r.virtual.slides.length+e:e)>=r.virtual.slides.length&&(e-=r.virtual.slides.length),e};if(void 0===h&&(h=(t=>{var{slidesGrid:e,params:i}=t,r=t.rtlTranslate?t.translate:-t.translate;let s;for(let t=0;t<e.length;t+=1)void 0!==e[t+1]?r>=e[t]&&r<e[t+1]-(e[t+1]-e[t])/2?s=t:r>=e[t]&&r<e[t+1]&&(s=t+1):r>=e[t]&&(s=t);return s=i.normalizeSlideIndex&&(s<0||void 0===s)?0:s})(r)),0<=i.indexOf(e))l=i.indexOf(e);else{let t=Math.min(s.slidesPerGroupSkip,h);l=t+Math.floor((h-t)/s.slidesPerGroup)}if(l>=i.length&&(l=i.length-1),h!==a||r.params.loop)if(h===a&&r.params.loop&&r.virtual&&r.params.virtual.enabled)r.realIndex=t(h);else{var c=r.grid&&s.grid&&1<s.grid.rows;let i;if(r.virtual&&s.virtual.enabled&&s.loop)i=t(h);else if(c){let t=r.slides.filter(t=>t.column===h)[0],e=parseInt(t.getAttribute("data-swiper-slide-index"),10);Number.isNaN(e)&&(e=Math.max(r.slides.indexOf(t),0)),i=Math.floor(e/s.grid.rows)}else if(r.slides[h]){let t=r.slides[h].getAttribute("data-swiper-slide-index");i=t?parseInt(t,10):h}else i=h;Object.assign(r,{previousSnapIndex:o,snapIndex:l,previousRealIndex:n,realIndex:i,previousIndex:a,activeIndex:h}),r.initialized&&d(r),r.emit("activeIndexChange"),r.emit("snapIndexChange"),(r.initialized||r.params.runCallbacksOnInit)&&(n!==i&&r.emit("realIndexChange"),r.emit("slideChange"))}else l!==o&&(r.snapIndex=l,r.emit("snapIndexChange"))},updateClickedSlide:function(t,e){let i=this,r=i.params,s=t.closest(`.${r.slideClass}, swiper-slide`);!s&&i.isElement&&e&&1<e.length&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(t=>{!s&&t.matches&&t.matches(`.${r.slideClass}, swiper-slide`)&&(s=t)});let a,n=!1;if(s)for(let t=0;t<i.slides.length;t+=1)if(i.slides[t]===s){n=!0,a=t;break}s&&n?(i.clickedSlide=s,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=a,r.slideToClickedSlide&&void 0!==i.clickedIndex&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()):(i.clickedSlide=void 0,i.clickedIndex=void 0)}},G={getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var{params:e,rtlTranslate:i,translate:r,wrapperEl:s}=this;if(e.virtualTranslate)return i?-r:r;if(e.cssMode)return r;let a=A(s,t);return a+=this.cssOverflowAdjustment(),(a=i?-a:a)||0},setTranslate:function(t,e){var i=this,{rtlTranslate:r,params:s,wrapperEl:a,progress:n}=i;let o=0,l=0;i.isHorizontal()?o=r?-t:t:l=t,s.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?o:l,s.cssMode?a[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-o:-l:s.virtualTranslate||(i.isHorizontal()?o-=i.cssOverflowAdjustment():l-=i.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${l}px, 0px)`);r=i.maxTranslate()-i.minTranslate();(0==r?0:(t-i.minTranslate())/r)!==n&&i.updateProgress(t),i.emit("setTranslate",i.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t,e,i,r,s){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===i&&(i=!0),void 0===r&&(r=!0);let a=this,{params:n,wrapperEl:o}=a;if(a.animating&&n.preventInteractionOnTransition)return!1;var l=a.minTranslate(),h=a.maxTranslate(),l=r&&l<t?l:r&&t<h?h:t;if(a.updateProgress(l),n.cssMode){let t=a.isHorizontal();if(0===e)o[t?"scrollLeft":"scrollTop"]=-l;else{if(!a.support.smoothScroll)return b({swiper:a,targetPosition:-l,side:t?"left":"top"}),!0;o.scrollTo({[t?"left":"top"]:-l,behavior:"smooth"})}}else 0===e?(a.setTransition(0),a.setTranslate(l),i&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(l),i&&(a.emit("beforeTransitionStart",e,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(t){a&&!a.destroyed&&t.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,i)&&a.emit("transitionEnd")}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd)));return!0}};function q(t){var{swiper:t,runCallbacks:e,direction:i,step:r}=t,{activeIndex:s,previousIndex:a}=t;let n=i;if(n=n||(a<s?"next":s<a?"prev":"reset"),t.emit("transition"+r),e&&s!==a){if("reset"===n)return t.emit("slideResetTransition"+r);t.emit("slideChangeTransition"+r),"next"===n?t.emit("slideNextTransition"+r):t.emit("slidePrevTransition"+r)}}function U(t,e,i){var r=D(),t=t.params,s=t.edgeSwipeDetection,t=t.edgeSwipeThreshold;return!s||!(i<=t||i>=r.innerWidth-t)||"prevent"===s&&(e.preventDefault(),!0)}function $(){let t=this,{params:e,el:i}=t;var r,s,a,n,o;i&&0===i.offsetWidth||(e.breakpoints&&t.setBreakpoint(),{allowSlideNext:r,allowSlidePrev:s,snapGrid:a}=t,n=t.virtual&&t.params.virtual.enabled,t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),o=n&&e.loop,!("auto"===e.slidesPerView||1<e.slidesPerView)||!t.isEnd||t.isBeginning||t.params.centeredSlides||o?t.params.loop&&!n?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0):t.slideTo(t.slides.length-1,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow())}let K=(t,e)=>{var i=P(),{params:r,el:s,wrapperEl:a,device:n}=t,o=!!r.nested,l="on"===e?"addEventListener":"removeEventListener";i[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),s[l]("touchstart",t.onTouchStart,{passive:!1}),s[l]("pointerdown",t.onTouchStart,{passive:!1}),i[l]("touchmove",t.onTouchMove,{passive:!1,capture:o}),i[l]("pointermove",t.onTouchMove,{passive:!1,capture:o}),i[l]("touchend",t.onTouchEnd,{passive:!0}),i[l]("pointerup",t.onTouchEnd,{passive:!0}),i[l]("pointercancel",t.onTouchEnd,{passive:!0}),i[l]("touchcancel",t.onTouchEnd,{passive:!0}),i[l]("pointerout",t.onTouchEnd,{passive:!0}),i[l]("pointerleave",t.onTouchEnd,{passive:!0}),i[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[l]("click",t.onClick,!0),r.cssMode&&a[l]("scroll",t.onScroll),r.updateOnWindowResize?t[e](n.ios||n.android?"resize orientationchange observerUpdate":"resize observerUpdate",$,!0):t[e]("observerUpdate",$,!0),s[l]("load",t.onLoad,{capture:!0})},J=(t,e)=>t.grid&&e.grid&&1<e.grid.rows;var Q={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};let i={eventsEmitter:X,update:Y,translate:G,transition:{setTransition:function(t,e){this.params.cssMode||(this.wrapperEl.style.transitionDuration=t+"ms",this.wrapperEl.style.transitionDelay=0===t?"0ms":""),this.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);var i=this.params;i.cssMode||(i.autoHeight&&this.updateAutoHeight(),q({swiper:this,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function(t,e){void 0===t&&(t=!0);var i=this.params;this.animating=!1,i.cssMode||(this.setTransition(0),q({swiper:this,runCallbacks:t,direction:e,step:"End"}))}},slide:{slideTo:function(t,r,e,i,s){void 0===e&&(e=!0),"string"==typeof(t=void 0===t?0:t)&&(t=parseInt(t,10));let a=this,n=t,{params:o,snapGrid:l,slidesGrid:h,previousIndex:c,activeIndex:d,rtlTranslate:u,wrapperEl:p,enabled:f}=(n<0&&(n=0),a);if(!f&&!i&&!s||a.destroyed||a.animating&&o.preventInteractionOnTransition)return!1;void 0===r&&(r=a.params.speed);t=Math.min(a.params.slidesPerGroupSkip,n);let g=t+Math.floor((n-t)/a.params.slidesPerGroup);var m=-l[g=g>=l.length?l.length-1:g];if(o.normalizeSlideIndex)for(let r=0;r<h.length;r+=1){let t=-Math.floor(100*m),e=Math.floor(100*h[r]),i=Math.floor(100*h[r+1]);void 0!==h[r+1]?t>=e&&t<i-(i-e)/2?n=r:t>=e&&t<i&&(n=r+1):t>=e&&(n=r)}if(a.initialized&&n!==d){if(!a.allowSlideNext&&(u?m>a.translate&&m>a.minTranslate():m<a.translate&&m<a.minTranslate()))return!1;if(!a.allowSlidePrev&&m>a.translate&&m>a.maxTranslate()&&(d||0)!==n)return!1}let v;if(n!==(c||0)&&e&&a.emit("beforeSlideChangeStart"),a.updateProgress(m),v=n>d?"next":n<d?"prev":"reset",u&&-m===a.translate||!u&&m===a.translate)return a.updateActiveIndex(n),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==o.effect&&a.setTranslate(m),"reset"!=v&&(a.transitionStart(e,v),a.transitionEnd(e,v)),!1;if(o.cssMode){let e=a.isHorizontal(),i=u?m:-m;if(0===r){let t=a.virtual&&a.params.virtual.enabled;t&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),t&&!a._cssModeVirtualInitialSet&&0<a.params.initialSlide?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[e?"scrollLeft":"scrollTop"]=i})):p[e?"scrollLeft":"scrollTop"]=i,t&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1})}else{if(!a.support.smoothScroll)return b({swiper:a,targetPosition:i,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}}else a.setTransition(r),a.setTranslate(m),a.updateActiveIndex(n),a.updateSlidesClasses(),a.emit("beforeTransitionStart",r,i),a.transitionStart(e,v),0===r?a.transitionEnd(e,v):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(t){a&&!a.destroyed&&t.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(e,v))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd));return!0},slideToLoop:function(t,e,i,n){void 0===i&&(i=!0),"string"==typeof(t=void 0===t?0:t)&&(t=parseInt(t,10));let o=this;if(!o.destroyed){void 0===e&&(e=o.params.speed);var l=o.grid&&o.params.grid&&1<o.params.grid.rows;let a=t;if(o.params.loop)if(o.virtual&&o.params.virtual.enabled)a+=o.virtual.slidesBefore;else{let i;if(l){let e=a*o.params.grid.rows;i=o.slides.filter(t=>+t.getAttribute("data-swiper-slide-index")==e)[0].column}else i=o.getSlideIndexByData(a);let e=l?Math.ceil(o.slides.length/o.params.grid.rows):o.slides.length,r=o.params.centeredSlides,t=o.params.slidesPerView,s=("auto"===t?t=o.slidesPerViewDynamic():(t=Math.ceil(parseFloat(o.params.slidesPerView,10)),r&&t%2==0&&(t+=1)),e-i<t);if(r&&(s=s||i<Math.ceil(t/2)),s=n&&r&&"auto"!==o.params.slidesPerView&&!l?!1:s){let t=r?i<o.activeIndex?"prev":"next":i-o.activeIndex-1<o.params.slidesPerView?"next":"prev";o.loopFix({direction:t,slideTo:!0,activeSlideIndex:"next"==t?i+1:i-e+1,slideRealIndex:"next"==t?o.realIndex:void 0})}if(l){let e=a*o.params.grid.rows;a=o.slides.filter(t=>+t.getAttribute("data-swiper-slide-index")==e)[0].column}else a=o.getSlideIndexByData(a)}return requestAnimationFrame(()=>{o.slideTo(a,e,i,n)}),o}},slideNext:function(t,e,i){void 0===e&&(e=!0);let r=this,{enabled:s,params:a,animating:n}=r;if(!s||r.destroyed)return r;void 0===t&&(t=r.params.speed);let o=a.slidesPerGroup,l=("auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1)),r.activeIndex<a.slidesPerGroupSkip?1:o),h=r.virtual&&a.virtual.enabled;if(a.loop){if(n&&!h&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,i)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,t,e,i):r.slideTo(r.activeIndex+l,t,e,i)},slidePrev:function(e,i,r){void 0===i&&(i=!0);let s=this,{params:t,snapGrid:a,slidesGrid:n,rtlTranslate:o,enabled:l,animating:h}=s;if(!l||s.destroyed)return s;void 0===e&&(e=s.params.speed);var c=s.virtual&&t.virtual.enabled;if(t.loop){if(h&&!c&&t.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}function d(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}let u=d(o?s.translate:-s.translate),p=a.map(t=>d(t)),f=a[p.indexOf(u)-1];if(void 0===f&&t.cssMode){let i;a.forEach((t,e)=>{u>=t&&(i=e)}),void 0!==i&&(f=a[0<i?i-1:i])}let g=0;if(void 0!==f&&((g=n.indexOf(f))<0&&(g=s.activeIndex-1),"auto"===t.slidesPerView)&&1===t.slidesPerGroup&&t.slidesPerGroupAuto&&(g=g-s.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0)),t.rewind&&s.isBeginning){let t=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(t,e,i,r)}return t.loop&&0===s.activeIndex&&t.cssMode?(requestAnimationFrame(()=>{s.slideTo(g,e,i,r)}),!0):s.slideTo(g,e,i,r)},slideReset:function(t,e,i){void 0===e&&(e=!0);if(!this.destroyed)return void 0===t&&(t=this.params.speed),this.slideTo(this.activeIndex,t,e,i)},slideToClosest:function(t,i,r,s){void 0===i&&(i=!0),void 0===s&&(s=.5);var a=this;if(!a.destroyed){void 0===t&&(t=a.params.speed);let e=a.activeIndex;var n=Math.min(a.params.slidesPerGroupSkip,e),n=n+Math.floor((e-n)/a.params.slidesPerGroup),o=a.rtlTranslate?a.translate:-a.translate;if(o>=a.snapGrid[n]){let t=a.snapGrid[n];o-t>(a.snapGrid[n+1]-t)*s&&(e+=a.params.slidesPerGroup)}else{let t=a.snapGrid[n-1];o-t<=(a.snapGrid[n]-t)*s&&(e-=a.params.slidesPerGroup)}return e=Math.max(e,0),e=Math.min(e,a.slidesGrid.length-1),a.slideTo(e,t,i,r)}},slideToClickedSlide:function(){let i=this;if(!i.destroyed){var{params:r,slidesEl:s}=i,a="auto"===r.slidesPerView?i.slidesPerViewDynamic():r.slidesPerView;let t,e=i.clickedIndex;var n=i.isElement?"swiper-slide":"."+r.slideClass;r.loop?i.animating||(t=parseInt(i.clickedSlide.getAttribute("data-swiper-slide-index"),10),r.centeredSlides?e<i.loopedSlides-a/2||e>i.slides.length-i.loopedSlides+a/2?(i.loopFix(),e=i.getSlideIndex(L(s,n+`[data-swiper-slide-index="${t}"]`)[0]),T(()=>{i.slideTo(e)})):i.slideTo(e):e>i.slides.length-a?(i.loopFix(),e=i.getSlideIndex(L(s,n+`[data-swiper-slide-index="${t}"]`)[0]),T(()=>{i.slideTo(e)})):i.slideTo(e)):i.slideTo(e)}}},loop:{loopCreate:function(t){let i=this,{params:r,slidesEl:e}=i;var s,a,n,o,l;!r.loop||i.virtual&&i.params.virtual.enabled||(s=()=>{L(e,`.${r.slideClass}, swiper-slide`).forEach((t,e)=>{t.setAttribute("data-swiper-slide-index",e)})},o=i.grid&&r.grid&&1<r.grid.rows,a=r.slidesPerGroup*(o?r.grid.rows:1),n=i.slides.length%a!=0,o=o&&i.slides.length%r.grid.rows!=0,l=e=>{for(let t=0;t<e;t+=1){let t=i.isElement?O("swiper-slide",[r.slideBlankClass]):O("div",[r.slideClass,r.slideBlankClass]);i.slidesEl.append(t)}},n?r.loopAddBlankSlides?(l(a-i.slides.length%a),i.recalcSlides(),i.updateSlides()):M("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"):o&&(r.loopAddBlankSlides?(l(r.grid.rows-i.slides.length%r.grid.rows),i.recalcSlides(),i.updateSlides()):M("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)")),s(),i.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next"}))},loopFix:function(p){let{slideRealIndex:f,slideTo:g=!0,direction:m,setTranslate:v,activeSlideIndex:y,byController:b,byMousewheel:x}=void 0===p?{}:p,_=this;if(_.params.loop){_.emit("beforeLoopFix");let{slides:l,allowSlidePrev:e,allowSlideNext:h,slidesEl:c,params:d}=_,u=d.centeredSlides;if(_.allowSlidePrev=!0,_.allowSlideNext=!0,_.virtual&&d.virtual.enabled)g&&(d.centeredSlides||0!==_.snapIndex?d.centeredSlides&&_.snapIndex<d.slidesPerView?_.slideTo(_.virtual.slides.length+_.snapIndex,0,!1,!0):_.snapIndex===_.snapGrid.length-1&&_.slideTo(_.virtual.slidesBefore,0,!1,!0):_.slideTo(_.virtual.slides.length,0,!1,!0)),_.allowSlidePrev=e,_.allowSlideNext=h;else{let t=d.slidesPerView;"auto"===t?t=_.slidesPerViewDynamic():(t=Math.ceil(parseFloat(d.slidesPerView,10)),u&&t%2==0&&(t+=1));p=d.slidesPerGroupAuto?t:d.slidesPerGroup;let i=p;i%p!=0&&(i+=p-i%p),i+=d.loopAdditionalSlides,_.loopedSlides=i;var w=_.grid&&d.grid&&1<d.grid.rows;l.length<t+i?M("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):w&&"row"===d.grid.fill&&M("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let r=[],s=[],a=_.activeIndex;void 0===y?y=_.getSlideIndex(l.filter(t=>t.classList.contains(d.slideActiveClass))[0]):a=y;var S="next"===m||!m,C="prev"===m||!m;let n=0,o=0;var T=w?Math.ceil(l.length/d.grid.rows):l.length,k=(w?l[y].column:y)+(u&&void 0===v?-t/2+.5:0);if(k<i){n=Math.max(i-k,p);for(let e=0;e<i-k;e+=1){let t=e-Math.floor(e/T)*T;if(w){let e=T-t-1;for(let t=l.length-1;0<=t;--t)l[t].column===e&&r.push(t)}else r.push(T-t-1)}}else if(k+t>T-i){o=Math.max(k-(T-2*i),p);for(let t=0;t<o;t+=1){let i=t-Math.floor(t/T)*T;w?l.forEach((t,e)=>{t.column===i&&s.push(e)}):s.push(i)}}if(_.__preventObserver__=!0,requestAnimationFrame(()=>{_.__preventObserver__=!1}),C&&r.forEach(t=>{l[t].swiperLoopMoveDOM=!0,c.prepend(l[t]),l[t].swiperLoopMoveDOM=!1}),S&&s.forEach(t=>{l[t].swiperLoopMoveDOM=!0,c.append(l[t]),l[t].swiperLoopMoveDOM=!1}),_.recalcSlides(),"auto"===d.slidesPerView?_.updateSlides():w&&(0<r.length&&C||0<s.length&&S)&&_.slides.forEach((t,e)=>{_.grid.updateSlide(e,t,_.slides)}),d.watchSlidesProgress&&_.updateSlidesOffset(),g)if(0<r.length&&C){if(void 0===f){let t=_.slidesGrid[a],e=_.slidesGrid[a+n]-t;x?_.setTranslate(_.translate-e):(_.slideTo(a+Math.ceil(n),0,!1,!0),v&&(_.touchEventsData.startTranslate=_.touchEventsData.startTranslate-e,_.touchEventsData.currentTranslate=_.touchEventsData.currentTranslate-e))}else if(v){let t=w?r.length/d.grid.rows:r.length;_.slideTo(_.activeIndex+t,0,!1,!0),_.touchEventsData.currentTranslate=_.translate}}else if(0<s.length&&S)if(void 0===f){let t=_.slidesGrid[a],e=_.slidesGrid[a-o]-t;x?_.setTranslate(_.translate-e):(_.slideTo(a-o,0,!1,!0),v&&(_.touchEventsData.startTranslate=_.touchEventsData.startTranslate-e,_.touchEventsData.currentTranslate=_.touchEventsData.currentTranslate-e))}else{let t=w?s.length/d.grid.rows:s.length;_.slideTo(_.activeIndex-t,0,!1,!0)}if(_.allowSlidePrev=e,_.allowSlideNext=h,_.controller&&_.controller.control&&!b){let e={slideRealIndex:f,direction:m,setTranslate:v,activeSlideIndex:y,byController:!0};Array.isArray(_.controller.control)?_.controller.control.forEach(t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===d.slidesPerView&&g})}):_.controller.control instanceof _.constructor&&_.controller.control.params.loop&&_.controller.control.loopFix({...e,slideTo:_.controller.control.params.slidesPerView===d.slidesPerView&&g})}}_.emit("loopFix")}},loopDestroy:function(){let{params:t,slidesEl:e}=this;if(!(!t.loop||this.virtual&&this.params.virtual.enabled)){this.recalcSlides();let i=[];this.slides.forEach(t=>{var e=void 0===t.swiperSlideIndex?+t.getAttribute("data-swiper-slide-index"):t.swiperSlideIndex;i[e]=t}),this.slides.forEach(t=>{t.removeAttribute("data-swiper-slide-index")}),i.forEach(t=>{e.append(t)}),this.recalcSlides(),this.slideTo(this.realIndex,0)}}},grabCursor:{setGrabCursor:function(t){let e=this;var i;!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(i="container"===e.params.touchEventsTarget?e.el:e.wrapperEl,e.isElement&&(e.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))},unsetGrabCursor:function(){let t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}},events:{attachEvents:function(){var t=this,e=t.params;t.onTouchStart=function(i){var r=this,s=P();let a=i;if(a.originalEvent&&(a=a.originalEvent),i=r.touchEventsData,"pointerdown"===a.type){if(null!==i.pointerId&&i.pointerId!==a.pointerId)return;i.pointerId=a.pointerId}else"touchstart"===a.type&&1===a.targetTouches.length&&(i.touchId=a.targetTouches[0].identifier);if("touchstart"===a.type)U(r,a,a.targetTouches[0].pageX);else{var{params:n,touches:o,enabled:l}=r;if(l&&(n.simulateTouch||"mouse"!==a.pointerType)&&(!r.animating||!n.preventInteractionOnTransition)){!r.animating&&n.cssMode&&n.loop&&r.loopFix();let e=a.target;if(("wrapper"!==n.touchEventsTarget||r.wrapperEl.contains(e))&&!("which"in a&&3===a.which||"button"in a&&0<a.button||i.isTouched&&i.isMoved)){var l=!!n.noSwipingClass&&""!==n.noSwipingClass,h=a.composedPath?a.composedPath():a.path,l=(l&&a.target&&a.target.shadowRoot&&h&&(e=h[0]),n.noSwipingSelector||"."+n.noSwipingClass),h=!(!a.target||!a.target.shadowRoot);if(n.noSwiping&&(h?function(r,t){return function t(e){var i;return e&&e!==P()&&e!==D()&&((i=(e=e.assignedSlot?e.assignedSlot:e).closest(r))||e.getRootNode)?i||t(e.getRootNode().host):null}(t=void 0===e?this:t)}(l,e):e.closest(l)))r.allowClick=!0;else if(!n.swipeHandler||e.closest(n.swipeHandler)){o.currentX=a.pageX,o.currentY=a.pageY;h=o.currentX,l=o.currentY;if(U(r,a,h)){Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=h,o.startY=l,i.touchStartTime=v(),r.allowClick=!0,r.updateSize(),r.swipeDirection=void 0,0<n.threshold&&(i.allowThresholdMove=!1);let t=!0;e.matches(i.focusableElements)&&(t=!1,"SELECT"===e.nodeName)&&(i.isTouched=!1),s.activeElement&&s.activeElement.matches(i.focusableElements)&&s.activeElement!==e&&s.activeElement.blur();h=t&&r.allowTouchMove&&n.touchStartPreventDefault;!n.touchStartForcePreventDefault&&!h||e.isContentEditable||a.preventDefault(),n.freeMode&&n.freeMode.enabled&&r.freeMode&&r.animating&&!n.cssMode&&r.freeMode.onTouchStart(),r.emit("touchStart",a)}}}}}}.bind(t),t.onTouchMove=function(e){let i=P(),s=this,a=s.touchEventsData,{params:n,touches:o,rtlTranslate:l,enabled:t}=s;if(t&&(n.simulateTouch||"mouse"!==e.pointerType)){let t,r=e;if("pointermove"===(r=r.originalEvent?r.originalEvent:r).type){if(null!==a.touchId)return;if(r.pointerId!==a.pointerId)return}if("touchmove"===r.type){if(!(t=[...r.changedTouches].filter(t=>t.identifier===a.touchId)[0])||t.identifier!==a.touchId)return}else t=r;if(a.isTouched){var e=t.pageX,h=t.pageY;if(r.preventedByNestedSwiper)o.startX=e,o.startY=h;else if(s.allowTouchMove){if(n.touchReleaseOnEdges&&!n.loop)if(s.isVertical()){if(h<o.startY&&s.translate<=s.maxTranslate()||h>o.startY&&s.translate>=s.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(e<o.startX&&s.translate<=s.maxTranslate()||e>o.startX&&s.translate>=s.minTranslate())return;if(i.activeElement&&r.target===i.activeElement&&r.target.matches(a.focusableElements))a.isMoved=!0,s.allowClick=!1;else{a.allowTouchCallbacks&&s.emit("touchMove",r),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=e,o.currentY=h;var c=o.currentX-o.startX,d=o.currentY-o.startY;if(!(s.params.threshold&&Math.sqrt(c**2+d**2)<s.params.threshold))if(void 0===a.isScrolling&&(s.isHorizontal()&&o.currentY===o.startY||s.isVertical()&&o.currentX===o.startX?a.isScrolling=!1:25<=c*c+d*d&&(u=180*Math.atan2(Math.abs(d),Math.abs(c))/Math.PI,a.isScrolling=s.isHorizontal()?u>n.touchAngle:90-u>n.touchAngle)),a.isScrolling&&s.emit("touchMoveOpposite",r),void 0!==a.startMoving||o.currentX===o.startX&&o.currentY===o.startY||(a.startMoving=!0),a.isScrolling||"touchmove"===r.type&&a.preventTouchMoveFromPointerMove)a.isTouched=!1;else if(a.startMoving){s.allowClick=!1,!n.cssMode&&r.cancelable&&r.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&r.stopPropagation();let i=s.isHorizontal()?c:d,t=s.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;n.oneWayMovement&&(i=Math.abs(i)*(l?1:-1),t=Math.abs(t)*(l?1:-1)),o.diff=i,i*=n.touchRatio,l&&(i=-i,t=-t);var u=s.touchesDirection,c=(s.swipeDirection=0<i?"prev":"next",s.touchesDirection=0<t?"prev":"next",s.params.loop&&!n.cssMode),d="next"===s.touchesDirection&&s.allowSlideNext||"prev"===s.touchesDirection&&s.allowSlidePrev;if(!a.isMoved){if(c&&d&&s.loopFix({direction:s.swipeDirection}),a.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){let t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});s.wrapperEl.dispatchEvent(t)}a.allowMomentumBounce=!1,!n.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",r)}if((new Date).getTime(),a.isMoved&&a.allowThresholdMove&&u!==s.touchesDirection&&c&&d&&1<=Math.abs(i))Object.assign(o,{startX:e,startY:h,currentX:e,currentY:h,startTranslate:a.currentTranslate}),a.loopSwapReset=!0,a.startTranslate=a.currentTranslate;else{s.emit("sliderMove",r),a.isMoved=!0,a.currentTranslate=i+a.startTranslate;let t=!0,e=n.resistanceRatio;if(n.touchReleaseOnEdges&&(e=0),0<i?(c&&d&&a.allowThresholdMove&&a.currentTranslate>(n.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>s.minTranslate()&&(t=!1,n.resistance)&&(a.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+a.startTranslate+i)**e)):i<0&&(c&&d&&a.allowThresholdMove&&a.currentTranslate<(n.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]:s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-("auto"===n.slidesPerView?s.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),a.currentTranslate<s.maxTranslate())&&(t=!1,n.resistance)&&(a.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-a.startTranslate-i)**e),t&&(r.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),s.allowSlidePrev||s.allowSlideNext||(a.currentTranslate=a.startTranslate),0<n.threshold){if(!(Math.abs(i)>n.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,a.currentTranslate=a.startTranslate,void(o.diff=s.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}n.followFinger&&!n.cssMode&&((n.freeMode&&n.freeMode.enabled&&s.freeMode||n.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(a.currentTranslate),s.setTranslate(a.currentTranslate))}}}}else r.target.matches(a.focusableElements)||(s.allowClick=!1),a.isTouched&&(Object.assign(o,{startX:e,startY:h,currentX:e,currentY:h}),a.touchStartTime=v())}else a.startMoving&&a.isScrolling&&s.emit("touchMoveOpposite",r)}}.bind(t),t.onTouchEnd=function(s){let a=this,e=a.touchEventsData,t,n=s;if("touchend"===(n=n.originalEvent?n.originalEvent:n).type||"touchcancel"===n.type){if(!(t=[...n.changedTouches].filter(t=>t.identifier===e.touchId)[0])||t.identifier!==e.touchId)return}else{if(null!==e.touchId)return;if(n.pointerId!==e.pointerId)return;t=n}if(!["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)||["pointercancel","contextmenu"].includes(n.type)&&(a.browser.isSafari||a.browser.isWebView)){e.pointerId=null,e.touchId=null;var{params:o,touches:s,rtlTranslate:i,slidesGrid:l,enabled:h}=a;if(h&&(o.simulateTouch||"mouse"!==n.pointerType))if(e.allowTouchCallbacks&&a.emit("touchEnd",n),e.allowTouchCallbacks=!1,e.isTouched){o.grabCursor&&e.isMoved&&e.isTouched&&(!0===a.allowSlideNext||!0===a.allowSlidePrev)&&a.setGrabCursor(!1);var c,h=v(),d=h-e.touchStartTime;if(a.allowClick){let t=n.path||n.composedPath&&n.composedPath();a.updateClickedSlide(t&&t[0]||n.target,t),a.emit("tap click",n),d<300&&h-e.lastClickTime<300&&a.emit("doubleTap doubleClick",n)}if(e.lastClickTime=v(),T(()=>{a.destroyed||(a.allowClick=!0)}),e.isTouched&&e.isMoved&&a.swipeDirection&&(0!==s.diff||e.loopSwapReset)&&(e.currentTranslate!==e.startTranslate||e.loopSwapReset)){if(e.isTouched=!1,e.isMoved=!1,e.startMoving=!1,c=o.followFinger?i?a.translate:-a.translate:-e.currentTranslate,!o.cssMode)if(o.freeMode&&o.freeMode.enabled)a.freeMode.onTouchEnd({currentPos:c});else{var u=c>=-a.maxTranslate()&&!a.params.loop;let i=0,r=a.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<o.slidesPerGroupSkip?1:o.slidesPerGroup){let t=e<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;void 0!==l[e+t]?(u||c>=l[e]&&c<l[e+t])&&(i=e,r=l[e+t]-l[e]):(u||c>=l[e])&&(i=e,r=l[l.length-1]-l[l.length-2])}let t=null,e=null;o.rewind&&(a.isBeginning?e=o.virtual&&o.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1:a.isEnd&&(t=0));h=(c-l[i])/r,s=i<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;d>o.longSwipesMs?o.longSwipes?("next"===a.swipeDirection&&(h>=o.longSwipesRatio?a.slideTo(o.rewind&&a.isEnd?t:i+s):a.slideTo(i)),"prev"===a.swipeDirection&&(h>1-o.longSwipesRatio?a.slideTo(i+s):null!==e&&h<0&&Math.abs(h)>o.longSwipesRatio?a.slideTo(e):a.slideTo(i))):a.slideTo(a.activeIndex):o.shortSwipes?!a.navigation||n.target!==a.navigation.nextEl&&n.target!==a.navigation.prevEl?("next"===a.swipeDirection&&a.slideTo(null!==t?t:i+s),"prev"===a.swipeDirection&&a.slideTo(null!==e?e:i)):n.target===a.navigation.nextEl?a.slideTo(i+s):a.slideTo(i):a.slideTo(a.activeIndex)}}else e.isTouched=!1,e.isMoved=!1,e.startMoving=!1}else e.isMoved&&o.grabCursor&&a.setGrabCursor(!1),e.isMoved=!1,e.startMoving=!1}}.bind(t),t.onDocumentTouchStart=function(){this.documentTouchHandlerProceeded||(this.documentTouchHandlerProceeded=!0,this.params.touchReleaseOnEdges&&(this.el.style.touchAction="auto"))}.bind(t),e.cssMode&&(t.onScroll=function(){var t=this,{wrapperEl:e,rtlTranslate:i,enabled:r}=t;r&&(t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses(),(0==(r=t.maxTranslate()-t.minTranslate())?0:(t.translate-t.minTranslate())/r)!==t.progress&&t.updateProgress(i?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1))}.bind(t)),t.onClick=function(t){this.enabled&&!this.allowClick&&(this.params.preventClicks&&t.preventDefault(),this.params.preventClicksPropagation)&&this.animating&&(t.stopPropagation(),t.stopImmediatePropagation())}.bind(t),t.onLoad=function(t){n(this,t.target),this.params.cssMode||"auto"!==this.params.slidesPerView&&!this.params.autoHeight||this.update()}.bind(t),K(t,"on")},detachEvents:function(){K(this,"off")}},breakpoints:{setBreakpoint:function(){let n=this,{realIndex:o,initialized:l,params:h,el:c}=n,d=h.breakpoints;if(d&&0!==Object.keys(d).length){var u=n.getBreakpoint(d,n.params.breakpointsBase,n.el);if(u&&n.currentBreakpoint!==u){let r=(u in d?d[u]:void 0)||n.originalParams,t=J(n,h),e=J(n,r),i=n.params.grabCursor,s=r.grabCursor,a=h.enabled;t&&!e?(c.classList.remove(h.containerModifierClass+"grid",h.containerModifierClass+"grid-column"),n.emitContainerClasses()):!t&&e&&(c.classList.add(h.containerModifierClass+"grid"),(r.grid.fill&&"column"===r.grid.fill||!r.grid.fill&&"column"===h.grid.fill)&&c.classList.add(h.containerModifierClass+"grid-column"),n.emitContainerClasses()),i&&!s?n.unsetGrabCursor():!i&&s&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{var e,i;void 0!==r[t]&&(e=h[t]&&h[t].enabled,i=r[t]&&r[t].enabled,e&&!i&&n[t].disable(),!e)&&i&&n[t].enable()});var p=r.direction&&r.direction!==h.direction,f=h.loop&&(r.slidesPerView!==h.slidesPerView||p),g=h.loop,p=(p&&l&&n.changeDirection(),y(n.params,r),n.params.enabled),m=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),a&&!p?n.disable():!a&&p&&n.enable(),n.currentBreakpoint=u,n.emit("_beforeBreakpoint",r),l&&(f?(n.loopDestroy(),n.loopCreate(o),n.updateSlides()):!g&&m?(n.loopCreate(o),n.updateSlides()):g&&!m&&n.loopDestroy()),n.emit("breakpoint",r)}}},getBreakpoint:function(t,n,o){if(void 0===n&&(n="window"),t&&("container"!==n||o)){let r=!1,s=D(),i="window"===n?s.innerHeight:o.clientHeight,a=Object.keys(t).map(t=>{var e;return"string"==typeof t&&0===t.indexOf("@")?(e=parseFloat(t.substr(1)),{value:i*e,point:t}):{value:t,point:t}});a.sort((t,e)=>parseInt(t.value,10)-parseInt(e.value,10));for(let i=0;i<a.length;i+=1){let{point:t,value:e}=a[i];"window"===n?s.matchMedia(`(min-width: ${e}px)`).matches&&(r=t):e<=o.clientWidth&&(r=t)}return r||"max"}}},checkOverflow:{checkOverflow:function(){let i=this,{isLocked:t,params:e}=i,r=e.slidesOffsetBefore;if(r){let t=i.slides.length-1,e=i.slidesGrid[t]+i.slidesSizesGrid[t]+2*r;i.isLocked=i.size>e}else i.isLocked=1===i.snapGrid.length;!0===e.allowSlideNext&&(i.allowSlideNext=!i.isLocked),!0===e.allowSlidePrev&&(i.allowSlidePrev=!i.isLocked),t&&t!==i.isLocked&&(i.isEnd=!1),t!==i.isLocked&&i.emit(i.isLocked?"lock":"unlock")}},classes:{addClasses:function(){var{classNames:t,params:e,rtl:i,el:r,device:s}=this,i=((t,i)=>{let r=[];return t.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(t=>{e[t]&&r.push(i+t)}):"string"==typeof e&&r.push(i+e)}),r})(["initialized",e.direction,{"free-mode":this.params.freeMode&&e.freeMode.enabled},{autoheight:e.autoHeight},{rtl:i},{grid:e.grid&&1<e.grid.rows},{"grid-column":e.grid&&1<e.grid.rows&&"column"===e.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":e.cssMode},{centered:e.cssMode&&e.centeredSlides},{"watch-progress":e.watchSlidesProgress}],e.containerModifierClass);t.push(...i),r.classList.add(...t),this.emitContainerClasses()},removeClasses:function(){var{el:t,classNames:e}=this;t.classList.remove(...e),this.emitContainerClasses()}}},u={};class p{constructor(){let t,i;for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?i=r[0]:[t,i]=r,i=y({},i=i||{}),t&&!i.el&&(i.el=t);var a=P();if(i.el&&"string"==typeof i.el&&1<a.querySelectorAll(i.el).length){let e=[];return a.querySelectorAll(i.el).forEach(t=>{t=y({},i,{el:t});e.push(new p(t))}),e}let n=this,o=(n.__swiper__=!0,n.support=H(),n.device=W({userAgent:i.userAgent}),n.browser=V(),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],i.modules&&Array.isArray(i.modules)&&n.modules.push(...i.modules),{});n.modules.forEach(t=>{var r,s;t({params:i,swiper:n,extendParams:(r=i,s=o,function(t){void 0===t&&(t={});var e=Object.keys(t)[0],i=t[e];"object"==typeof i&&null!==i&&(!0===r[e]&&(r[e]={enabled:!0}),"navigation"===e&&r[e]&&r[e].enabled&&!r[e].prevEl&&!r[e].nextEl&&(r[e].auto=!0),0<=["pagination","scrollbar"].indexOf(e)&&r[e]&&r[e].enabled&&!r[e].el&&(r[e].auto=!0),e in r)&&"enabled"in i&&("object"!=typeof r[e]||"enabled"in r[e]||(r[e].enabled=!0),r[e]||(r[e]={enabled:!1})),y(s,t)}),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})});a=y({},Q,o);return n.params=y({},a,u,i),n.originalParams=y({},n.params),n.passedParams=y({},i),n.params&&n.params.on&&Object.keys(n.params.on).forEach(t=>{n.on(t,n.params.on[t])}),n.params&&n.params.onAny&&n.onAny(n.params.onAny),Object.assign(n,{enabled:n.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===n.params.direction,isVertical:()=>"vertical"===n.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){var{slidesEl:e,params:i}=this,e=j(L(e,`.${i.slideClass}, swiper-slide`)[0]);return j(t)-e}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>+t.getAttribute("data-swiper-slide-index")===e)[0])}recalcSlides(){var{slidesEl:t,params:e}=this;this.slides=L(t,`.${e.slideClass}, swiper-slide`)}enable(){this.enabled||(this.enabled=!0,this.params.grabCursor&&this.setGrabCursor(),this.emit("enable"))}disable(){this.enabled&&(this.enabled=!1,this.params.grabCursor&&this.unsetGrabCursor(),this.emit("disable"))}setProgress(t,e){t=Math.min(Math.max(t,0),1);var i=this.minTranslate(),t=(this.maxTranslate()-i)*t+i;this.translateTo(t,void 0===e?0:e),this.updateActiveIndex(),this.updateSlidesClasses()}emitContainerClasses(){let e=this;var t;e.params._emitClasses&&e.el&&(t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)),e.emit("_containerClasses",t.join(" ")))}getSlideClasses(t){let e=this;return e.destroyed?"":t.className.split(" ").filter(t=>0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass)).join(" ")}emitSlidesClasses(){let r=this;if(r.params._emitClasses&&r.el){let i=[];r.slides.forEach(t=>{var e=r.getSlideClasses(t);i.push({slideEl:t,classNames:e}),r.emit("_slideClass",t,e)}),r.emit("_slideClasses",i)}}slidesPerViewDynamic(t,e){void 0===t&&(t="current"),void 0===e&&(e=!1);var{params:i,slides:r,slidesGrid:s,slidesSizesGrid:a,size:n,activeIndex:o}=this;let l=1;if("number"==typeof i.slidesPerView)return i.slidesPerView;if(i.centeredSlides){let e,i=r[o]?Math.ceil(r[o].swiperSlideSize):0;for(let t=o+1;t<r.length;t+=1)r[t]&&!e&&(i+=Math.ceil(r[t].swiperSlideSize),l+=1,i>n)&&(e=!0);for(let t=o-1;0<=t;--t)r[t]&&!e&&(i+=r[t].swiperSlideSize,l+=1,i>n)&&(e=!0)}else if("current"===t)for(let t=o+1;t<r.length;t+=1)(e?s[t]+a[t]-s[o]<n:s[t]-s[o]<n)&&(l+=1);else for(let t=o-1;0<=t;--t)s[o]-s[t]<n&&(l+=1);return l}update(){let r=this;if(r&&!r.destroyed){let{snapGrid:t,params:e}=r,i;if(e.breakpoints&&r.setBreakpoint(),[...r.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&n(r,t)}),r.updateSize(),r.updateSlides(),r.updateProgress(),r.updateSlidesClasses(),e.freeMode&&e.freeMode.enabled&&!e.cssMode)s(),e.autoHeight&&r.updateAutoHeight();else{if(("auto"===e.slidesPerView||1<e.slidesPerView)&&r.isEnd&&!e.centeredSlides){let t=(r.virtual&&e.virtual.enabled?r.virtual:r).slides;i=r.slideTo(t.length-1,0,!1,!0)}else i=r.slideTo(r.activeIndex,0,!1,!0);i||s()}function s(){var t=r.rtlTranslate?-1*r.translate:r.translate,t=Math.min(Math.max(t,r.maxTranslate()),r.minTranslate());r.setTranslate(t),r.updateActiveIndex(),r.updateSlidesClasses()}e.watchOverflow&&t!==r.snapGrid&&r.checkOverflow(),r.emit("update")}}changeDirection(e,t){void 0===t&&(t=!0);var i=this,r=i.params.direction;return(e=e||("horizontal"===r?"vertical":"horizontal"))===r||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(""+i.params.containerModifierClass+r),i.el.classList.add(""+i.params.containerModifierClass+e),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(t){var e=this;e.rtl&&"rtl"===t||!e.rtl&&"ltr"===t||(e.rtl="rtl"===t,e.rtlTranslate="horizontal"===e.params.direction&&e.rtl,e.rtl?(e.el.classList.add(e.params.containerModifierClass+"rtl"),e.el.dir="rtl"):(e.el.classList.remove(e.params.containerModifierClass+"rtl"),e.el.dir="ltr"),e.update())}mount(r){let s=this;if(!s.mounted){let t=r||s.params.el;if(!(t="string"==typeof t?document.querySelector(t):t))return!1;t.swiper=s,t.parentNode&&t.parentNode.host&&t.parentNode.host.nodeName===s.params.swiperElementNodeName.toUpperCase()&&(s.isElement=!0);let e=()=>"."+(s.params.wrapperClass||"").trim().split(" ").join("."),i=t&&t.shadowRoot&&t.shadowRoot.querySelector?t.shadowRoot.querySelector(e()):L(t,e())[0];!i&&s.params.createElements&&(i=O("div",s.params.wrapperClass),t.append(i),L(t,"."+s.params.slideClass).forEach(t=>{i.append(t)})),Object.assign(s,{el:t,wrapperEl:i,slidesEl:s.isElement&&!t.parentNode.host.slideSlots?t.parentNode.host:i,hostEl:s.isElement?t.parentNode.host:t,mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===k(t,"direction"),rtlTranslate:"horizontal"===s.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===k(t,"direction")),wrongRTL:"-webkit-box"===k(i,"display")})}return!0}init(t){let e=this;return e.initialized||!1!==e.mount(t)&&(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.loop&&e.virtual&&e.params.virtual.enabled?e.slideTo(e.params.initialSlide+e.virtual.slidesBefore,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.params.loop&&e.loopCreate(),e.attachEvents(),t=[...e.el.querySelectorAll('[loading="lazy"]')],e.isElement&&t.push(...e.hostEl.querySelectorAll('[loading="lazy"]')),t.forEach(t=>{t.complete?n(e,t):t.addEventListener("load",t=>{n(e,t.target)})}),d(e),e.initialized=!0,d(e),e.emit("init"),e.emit("afterInit")),e}destroy(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);let i=this,{params:r,el:s,wrapperEl:a,slides:n}=i;if(void 0!==i.params&&!i.destroyed){if(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),e&&(i.removeClasses(),s.removeAttribute("style"),a.removeAttribute("style"),n)&&n.length&&n.forEach(t=>{t.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),t.removeAttribute("style"),t.removeAttribute("data-swiper-slide-index")}),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(t=>{i.off(t)}),!1!==t){i.el.swiper=null;{let e=i;Object.keys(e).forEach(t=>{try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}})}}i.destroyed=!0}return null}static extendDefaults(t){y(u,t)}static get extendedDefaults(){return u}static get defaults(){return Q}static installModule(t){p.prototype.__modules__||(p.prototype.__modules__=[]);var e=p.prototype.__modules__;"function"==typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?t.forEach(t=>p.installModule(t)):p.installModule(t),p}}function N(i,r,s,a){return i.params.createElements&&Object.keys(a).forEach(e=>{if(!s[e]&&!0===s.auto){let t=L(i.el,"."+a[e])[0];t||((t=O("div",a[e])).className=a[e],i.el.append(t)),s[e]=t,r[e]=t}}),s}function z(t){return"."+(t=void 0===t?"":t).trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}function o(t){let{effect:i,swiper:r,on:e,setTranslate:s,setTransition:a,overwriteParams:n,perspective:o,recreateShadows:l,getEffectParams:h}=t,c;e("beforeInit",()=>{var t;r.params.effect===i&&(r.classNames.push(""+r.params.containerModifierClass+i),o&&o()&&r.classNames.push(r.params.containerModifierClass+"3d"),t=n?n():{},Object.assign(r.params,t),Object.assign(r.originalParams,t))}),e("setTranslate",()=>{r.params.effect===i&&s()}),e("setTransition",(t,e)=>{r.params.effect===i&&a(e)}),e("transitionEnd",()=>{r.params.effect===i&&l&&h&&h().slideShadows&&(r.slides.forEach(t=>{t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(t=>t.remove())}),l())}),e("virtualUpdate",()=>{r.params.effect===i&&(r.slides.length||(c=!0),requestAnimationFrame(()=>{c&&r.slides&&r.slides.length&&(s(),c=!1)}))})}function _(t,e){var i=a(e);return i!==e&&(i.style.backfaceVisibility="hidden",i.style["-webkit-backface-visibility"]="hidden"),i}function f(t){let{swiper:i,duration:e,transformElements:r,allSlides:s}=t,a=i.activeIndex;if(i.params.virtualTranslate&&0!==e){let e=!1;(s?r:r.filter(t=>{var e,t=t.classList.contains("swiper-slide-transform")?(e=t).parentElement||i.slides.filter(t=>t.shadowRoot&&t.shadowRoot===e.parentNode)[0]:t;return i.getSlideIndex(t)===a})).forEach(t=>{g(t,()=>{var t;e||i&&!i.destroyed&&(e=!0,i.animating=!1,t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0}),i.wrapperEl.dispatchEvent(t))})})}}function w(t,e,i){i="swiper-slide-shadow"+(i?"-"+i:"")+(t?" swiper-slide-shadow-"+t:""),t=a(e);let r=t.querySelector("."+i.split(" ").join("."));return r||(r=O("div",i.split(" ")),t.append(r)),r}return Object.keys(i).forEach(e=>{Object.keys(i[e]).forEach(t=>{p.prototype[t]=i[e][t]})}),p.use([function(t){let{swiper:a,on:e,emit:i}=t,r=D(),s=null,n=null,o=()=>{a&&!a.destroyed&&a.initialized&&(i("beforeResize"),i("resize"))},l=()=>{a&&!a.destroyed&&a.initialized&&i("orientationchange")};e("init",()=>{a.params.resizeObserver&&void 0!==r.ResizeObserver?a&&!a.destroyed&&a.initialized&&(s=new ResizeObserver(i=>{n=r.requestAnimationFrame(()=>{var{width:t,height:e}=a;let r=t,s=e;i.forEach(t=>{var{contentBoxSize:t,contentRect:e,target:i}=t;i&&i!==a.el||(r=e?e.width:(t[0]||t).inlineSize,s=e?e.height:(t[0]||t).blockSize)}),r===t&&s===e||o()})})).observe(a.el):(r.addEventListener("resize",o),r.addEventListener("orientationchange",l))}),e("destroy",()=>{n&&r.cancelAnimationFrame(n),s&&s.unobserve&&a.el&&(s.unobserve(a.el),s=null),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",l)})},function(t){function i(t,e){void 0===e&&(e={});var i=new(o.MutationObserver||o.WebkitMutationObserver)(t=>{var e;r.__preventObserver__||(1===t.length?a("observerUpdate",t[0]):(e=function(){a("observerUpdate",t[0])},o.requestAnimationFrame?o.requestAnimationFrame(e):o.setTimeout(e,0)))});i.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),n.push(i)}let{swiper:r,extendParams:e,on:s,emit:a}=t,n=[],o=D();e({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",()=>{if(r.params.observer){if(r.params.observeParents){var e=F(r.hostEl);for(let t=0;t<e.length;t+=1)i(e[t])}i(r.hostEl,{childList:r.params.observeSlideChildren}),i(r.wrapperEl,{attributes:!1})}}),s("destroy",()=>{n.forEach(t=>{t.disconnect()}),n.splice(0,n.length)})}]),p.use([function(t){let e,{swiper:T,extendParams:i,on:r,emit:k}=t;i({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});t=P();T.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};let s=t.createElement("div");function M(t,e){var i=T.params.virtual;if(i.cache&&T.virtual.cache[e])return T.virtual.cache[e];let r;return i.renderSlide?"string"==typeof(r=i.renderSlide.call(T,t,e))&&(s.innerHTML=r,r=s.children[0]):r=T.isElement?O("swiper-slide"):O("div",T.params.slideClass),r.setAttribute("data-swiper-slide-index",e),i.renderSlide||(r.innerHTML=t),i.cache&&(T.virtual.cache[e]=r),r}function n(p,f){var{slidesPerView:g,slidesPerGroup:m,centeredSlides:v,loop:y,initialSlide:b}=T.params;if(!(f&&!y&&0<b)){let{addSlidesBefore:t,addSlidesAfter:e}=T.params.virtual,{from:i,to:r,slides:s,slidesGrid:a,offset:n}=T.virtual;T.params.cssMode||T.updateActiveIndex();f=T.activeIndex||0;let o,l,h,c=(o=T.rtlTranslate?"right":T.isHorizontal()?"left":"top",f-(h=v?(l=Math.floor(g/2)+m+e,Math.floor(g/2)+m+t):(l=g+(m-1)+e,(y?g:m)+t))),d=f+l,u=(y||(c=Math.max(c,0),d=Math.min(d,s.length-1)),(T.slidesGrid[c]||0)-(T.slidesGrid[0]||0));if(y&&f>=h?(c-=h,v||(u+=T.slidesGrid[0])):y&&f<h&&(c=-h,v)&&(u+=T.slidesGrid[0]),Object.assign(T.virtual,{from:c,to:d,offset:u,slidesGrid:T.slidesGrid,slidesBefore:h,slidesAfter:l}),i!==c||r!==d||p)if(T.params.virtual.renderExternal)T.params.virtual.renderExternal.call(T,{offset:u,from:c,to:d,slides:(()=>{var e=[];for(let t=c;t<=d;t+=1)e.push(s[t]);return e})()}),T.params.virtual.renderExternalUpdate?C():k("virtualUpdate");else{var x=[],_=[],w=t=>{let e=t;return t<0?e=s.length+t:e>=s.length&&(e-=s.length),e};if(p)T.slides.filter(t=>t.matches(`.${T.params.slideClass}, swiper-slide`)).forEach(t=>{t.remove()});else for(let t=i;t<=r;t+=1)if(t<c||t>d){let e=w(t);T.slides.filter(t=>t.matches(`.${T.params.slideClass}[data-swiper-slide-index="${e}"], swiper-slide[data-swiper-slide-index="${e}"]`)).forEach(t=>{t.remove()})}var b=y?-s.length:0,S=y?2*s.length:s.length;for(let e=b;e<S;e+=1)if(e>=c&&e<=d){let t=w(e);void 0===r||p?_.push(t):(e>r&&_.push(t),e<i&&x.push(t))}if(_.forEach(t=>{T.slidesEl.append(M(s[t],t))}),y)for(let e=x.length-1;0<=e;--e){let t=x[e];T.slidesEl.prepend(M(s[t],t))}else x.sort((t,e)=>e-t),x.forEach(t=>{T.slidesEl.prepend(M(s[t],t))});L(T.slidesEl,".swiper-slide, swiper-slide").forEach(t=>{t.style[o]=u-Math.abs(T.cssOverflowAdjustment())+"px"}),C()}else T.slidesGrid!==a&&u!==n&&T.slides.forEach(t=>{t.style[o]=u-Math.abs(T.cssOverflowAdjustment())+"px"}),T.updateProgress(),k("virtualUpdate");function C(){T.updateSlides(),T.updateProgress(),T.updateSlidesClasses(),k("virtualUpdate")}}}r("beforeInit",()=>{if(T.params.virtual.enabled){let t;var e;void 0===T.passedParams.virtual.slides&&(e=[...T.slidesEl.children].filter(t=>t.matches(`.${T.params.slideClass}, swiper-slide`)))&&e.length&&(T.virtual.slides=[...e],t=!0,e.forEach((t,e)=>{t.setAttribute("data-swiper-slide-index",e),(T.virtual.cache[e]=t).remove()})),t||(T.virtual.slides=T.params.virtual.slides),T.classNames.push(T.params.containerModifierClass+"virtual"),T.params.watchSlidesProgress=!0,n(!(T.originalParams.watchSlidesProgress=!0),!0)}}),r("setTranslate",()=>{T.params.virtual.enabled&&(T.params.cssMode&&!T._immediateVirtual?(clearTimeout(e),e=setTimeout(()=>{n()},100)):n())}),r("init update resize",()=>{T.params.virtual.enabled&&T.params.cssMode&&E(T.wrapperEl,"--swiper-virtual-size",T.virtualSize+"px")}),Object.assign(T.virtual,{appendSlide:function(e){if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&T.virtual.slides.push(e[t]);else T.virtual.slides.push(e);n(!0)},prependSlide:function(e){let t=T.activeIndex,i=t+1,a=1;if(Array.isArray(e)){for(let t=0;t<e.length;t+=1)e[t]&&T.virtual.slides.unshift(e[t]);i=t+e.length,a=e.length}else T.virtual.slides.unshift(e);if(T.params.virtual.cache){let r=T.virtual.cache,s={};Object.keys(r).forEach(t=>{var e=r[t],i=e.getAttribute("data-swiper-slide-index");i&&e.setAttribute("data-swiper-slide-index",parseInt(i,10)+a),s[parseInt(t,10)+a]=e}),T.virtual.cache=s}n(!0),T.slideTo(i,0)},removeSlide:function(i){if(null!=i){let e=T.activeIndex;if(Array.isArray(i))for(let t=i.length-1;0<=t;--t)T.params.virtual.cache&&(delete T.virtual.cache[i[t]],Object.keys(T.virtual.cache).forEach(t=>{i<t&&(T.virtual.cache[t-1]=T.virtual.cache[t],T.virtual.cache[t-1].setAttribute("data-swiper-slide-index",t-1),delete T.virtual.cache[t])})),T.virtual.slides.splice(i[t],1),i[t]<e&&--e,e=Math.max(e,0);else T.params.virtual.cache&&(delete T.virtual.cache[i],Object.keys(T.virtual.cache).forEach(t=>{i<t&&(T.virtual.cache[t-1]=T.virtual.cache[t],T.virtual.cache[t-1].setAttribute("data-swiper-slide-index",t-1),delete T.virtual.cache[t])})),T.virtual.slides.splice(i,1),i<e&&--e,e=Math.max(e,0);n(!0),T.slideTo(e,0)}},removeAllSlides:function(){T.virtual.slides=[],T.params.virtual.cache&&(T.virtual.cache={}),n(!0),T.slideTo(0,0)},update:n})},function(t){let{swiper:d,extendParams:e,on:i,emit:u}=t,p=P(),f=D();function r(c){if(d.enabled){let l=d.rtlTranslate,t=c,e=(t=t.originalEvent?t.originalEvent:t).keyCode||t.charCode,i=d.params.keyboard.pageUpDown,r=i&&33===e,s=i&&34===e,a=37===e,n=39===e,o=38===e,h=40===e;if(!d.allowSlideNext&&(d.isHorizontal()&&n||d.isVertical()&&h||s))return!1;if(!d.allowSlidePrev&&(d.isHorizontal()&&a||d.isVertical()&&o||r))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||p.activeElement&&p.activeElement.nodeName&&("input"===p.activeElement.nodeName.toLowerCase()||"textarea"===p.activeElement.nodeName.toLowerCase()))){if(d.params.keyboard.onlyInViewport&&(r||s||a||n||o||h)){let i=!1;if(0<F(d.el,`.${d.params.slideClass}, swiper-slide`).length&&0===F(d.el,"."+d.params.slideActiveClass).length)return;let t=d.el,e=t.clientWidth,r=t.clientHeight,s=f.innerWidth,a=f.innerHeight,n=I(t),o=(l&&(n.left-=t.scrollLeft),[[n.left,n.top],[n.left+e,n.top],[n.left,n.top+r],[n.left+e,n.top+r]]);for(let e=0;e<o.length;e+=1){let t=o[e];0<=t[0]&&t[0]<=s&&0<=t[1]&&t[1]<=a&&(0===t[0]&&0===t[1]||(i=!0))}if(!i)return}d.isHorizontal()?((r||s||a||n)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),((s||n)&&!l||(r||a)&&l)&&d.slideNext(),((r||a)&&!l||(s||n)&&l)&&d.slidePrev()):((r||s||o||h)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),(s||h)&&d.slideNext(),(r||o)&&d.slidePrev()),u("keyPress",e)}}}function s(){d.keyboard.enabled||(p.addEventListener("keydown",r),d.keyboard.enabled=!0)}function a(){d.keyboard.enabled&&(p.removeEventListener("keydown",r),d.keyboard.enabled=!1)}d.keyboard={enabled:!1},e({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{d.params.keyboard.enabled&&s()}),i("destroy",()=>{d.keyboard.enabled&&a()}),Object.assign(d.keyboard,{enable:s,disable:a})},function(t){let{swiper:c,extendParams:e,on:i,emit:d}=t,r=D(),u;e({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),c.mousewheel={enabled:!1};let p,s=v(),f=[];function a(){c.enabled&&(c.mouseEntered=!0)}function n(){c.enabled&&(c.mouseEntered=!1)}function g(t){c.params.mousewheel.thresholdDelta&&t.delta<c.params.mousewheel.thresholdDelta||c.params.mousewheel.thresholdTime&&v()-s<c.params.mousewheel.thresholdTime||6<=t.delta&&v()-s<60||(t.direction<0?c.isEnd&&!c.params.loop||c.animating||(c.slideNext(),d("scroll",t.raw)):c.isBeginning&&!c.params.loop||c.animating||(c.slidePrev(),d("scroll",t.raw)),s=(new r.Date).getTime())}function o(r){let n=r,s=!0;if(c.enabled&&!r.target.closest("."+c.params.mousewheel.noMousewheelClass)){var o=c.params.mousewheel;c.params.cssMode&&n.preventDefault();let t=c.el,e=(t="container"!==c.params.mousewheel.eventsTarget?document.querySelector(c.params.mousewheel.eventsTarget):t)&&t.contains(n.target);if(!c.mouseEntered&&!e&&!o.releaseOnEdges)return!0;n.originalEvent&&(n=n.originalEvent);let a=0;var l=c.rtlTranslate?-1:1,h=(t=>{let e=0,i=0,r=0,s=0;return"detail"in t&&(i=t.detail),"wheelDelta"in t&&(i=-t.wheelDelta/120),"wheelDeltaY"in t&&(i=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=i,i=0),r=10*e,s=10*i,"deltaY"in t&&(s=t.deltaY),"deltaX"in t&&(r=t.deltaX),t.shiftKey&&!r&&(r=s,s=0),(r||s)&&t.deltaMode&&(1===t.deltaMode?(r*=40,s*=40):(r*=800,s*=800)),r&&!e&&(e=r<1?-1:1),s&&!i&&(i=s<1?-1:1),{spinX:e,spinY:i,pixelX:r,pixelY:s}})(n);if(o.forceToAxis)if(c.isHorizontal()){if(!(Math.abs(h.pixelX)>Math.abs(h.pixelY)))return!0;a=-h.pixelX*l}else{if(!(Math.abs(h.pixelY)>Math.abs(h.pixelX)))return!0;a=-h.pixelY}else a=Math.abs(h.pixelX)>Math.abs(h.pixelY)?-h.pixelX*l:-h.pixelY;if(0===a)return!0;o.invert&&(a=-a);let i=c.getTranslate()+a*o.sensitivity;if((i=i>=c.minTranslate()?c.minTranslate():i)<=c.maxTranslate()&&(i=c.maxTranslate()),(s=!!c.params.loop||!(i===c.minTranslate()||i===c.maxTranslate()))&&c.params.nested&&n.stopPropagation(),c.params.freeMode&&c.params.freeMode.enabled){let r={time:v(),delta:Math.abs(a),direction:Math.sign(a)},s=p&&r.time<p.time+500&&r.delta<=p.delta&&r.direction===p.direction;if(!s){p=void 0;let t=c.getTranslate()+a*o.sensitivity,e=c.isBeginning,i=c.isEnd;if((t=t>=c.minTranslate()?c.minTranslate():t)<=c.maxTranslate()&&(t=c.maxTranslate()),c.setTransition(0),c.setTranslate(t),c.updateProgress(),c.updateActiveIndex(),c.updateSlidesClasses(),(!e&&c.isBeginning||!i&&c.isEnd)&&c.updateSlidesClasses(),c.params.loop&&c.loopFix({direction:r.direction<0?"next":"prev",byMousewheel:!0}),c.params.freeMode.sticky){clearTimeout(u),u=void 0,15<=f.length&&f.shift();let t=f.length?f[f.length-1]:void 0,e=f[0];if(f.push(r),t&&(r.delta>t.delta||r.direction!==t.direction))f.splice(0);else if(15<=f.length&&r.time-e.time<500&&1<=e.delta-r.delta&&r.delta<=6){let t=0<a?.8:.2;p=r,f.splice(0),u=T(()=>{c.slideToClosest(c.params.speed,!0,void 0,t)},0)}u=u||T(()=>{p=r,f.splice(0),c.slideToClosest(c.params.speed,!0,void 0,.5)},500)}if(s||d("scroll",n),c.params.autoplay&&c.params.autoplayDisableOnInteraction&&c.autoplay.stop(),o.releaseOnEdges&&(t===c.minTranslate()||t===c.maxTranslate()))return!0}}else{let t={time:v(),delta:Math.abs(a),direction:Math.sign(a),raw:r},e=(2<=f.length&&f.shift(),f.length?f[f.length-1]:void 0);if(f.push(t),(!e||t.direction!==e.direction||t.delta>e.delta||t.time>e.time+150)&&g(t),(t=>{var e=c.params.mousewheel;if(t.direction<0){if(c.isEnd&&!c.params.loop&&e.releaseOnEdges)return 1}else if(c.isBeginning&&!c.params.loop&&e.releaseOnEdges)return 1})(t))return!0}return n.preventDefault?n.preventDefault():n.returnValue=!1,!1}}function l(t){let e=c.el;(e="container"!==c.params.mousewheel.eventsTarget?document.querySelector(c.params.mousewheel.eventsTarget):e)[t]("mouseenter",a),e[t]("mouseleave",n),e[t]("wheel",o)}function h(){return c.params.cssMode?(c.wrapperEl.removeEventListener("wheel",o),!0):!c.mousewheel.enabled&&(l("addEventListener"),c.mousewheel.enabled=!0)}function m(){return c.params.cssMode?(c.wrapperEl.addEventListener(event,o),!0):!!c.mousewheel.enabled&&(l("removeEventListener"),!(c.mousewheel.enabled=!1))}i("init",()=>{!c.params.mousewheel.enabled&&c.params.cssMode&&m(),c.params.mousewheel.enabled&&h()}),i("destroy",()=>{c.params.cssMode&&h(),c.mousewheel.enabled&&m()}),Object.assign(c.mousewheel,{enable:h,disable:m})},function(t){let{swiper:s,extendParams:e,on:i,emit:a}=t;function n(t){let e;return!(t&&"string"==typeof t&&s.isElement&&(e=s.el.querySelector(t)))&&(t&&("string"==typeof t&&(e=[...document.querySelectorAll(t)]),s.params.uniqueNavElements&&"string"==typeof t&&e&&1<e.length&&1===s.el.querySelectorAll(t).length?e=s.el.querySelector(t):e&&1===e.length&&(e=e[0])),t)&&!e?t:e}function r(t,e){let i=s.params.navigation;(t=B(t)).forEach(t=>{t&&(t.classList[e?"add":"remove"](...i.disabledClass.split(" ")),"BUTTON"===t.tagName&&(t.disabled=e),s.params.watchOverflow)&&s.enabled&&t.classList[s.isLocked?"add":"remove"](i.lockClass)})}function o(){var{nextEl:t,prevEl:e}=s.navigation;s.params.loop?(r(e,!1),r(t,!1)):(r(e,s.isBeginning&&!s.params.rewind),r(t,s.isEnd&&!s.params.rewind))}function l(t){t.preventDefault(),s.isBeginning&&!s.params.loop&&!s.params.rewind||(s.slidePrev(),a("navigationPrev"))}function h(t){t.preventDefault(),s.isEnd&&!s.params.loop&&!s.params.rewind||(s.slideNext(),a("navigationNext"))}function c(){let i=s.params.navigation;if(s.params.navigation=N(s,s.originalParams.navigation,s.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),i.nextEl||i.prevEl){var t=n(i.nextEl),r=n(i.prevEl);Object.assign(s.navigation,{nextEl:t,prevEl:r}),t=B(t),r=B(r);let e=(t,e)=>{t&&t.addEventListener("click","next"===e?h:l),!s.enabled&&t&&t.classList.add(...i.lockClass.split(" "))};t.forEach(t=>e(t,"next")),r.forEach(t=>e(t,"prev"))}}function d(){var{nextEl:t,prevEl:e}=s.navigation,t=B(t),e=B(e);let i=(t,e)=>{t.removeEventListener("click","next"===e?h:l),t.classList.remove(...s.params.navigation.disabledClass.split(" "))};t.forEach(t=>i(t,"next")),e.forEach(t=>i(t,"prev"))}e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),s.navigation={nextEl:null,prevEl:null},i("init",()=>{(!1===s.params.navigation.enabled?u:(c(),o))()}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{d()}),i("enable disable",()=>{var{nextEl:t,prevEl:e}=s.navigation,t=B(t),e=B(e);s.enabled?o():[...t,...e].filter(t=>!!t).forEach(t=>t.classList.add(s.params.navigation.lockClass))}),i("click",(t,e)=>{var{nextEl:i,prevEl:r}=s.navigation,i=B(i),r=B(r),e=e.target;if(s.params.navigation.hideOnClick&&!r.includes(e)&&!i.includes(e)&&(!(s.pagination&&s.params.pagination&&s.params.pagination.clickable)||s.pagination.el!==e&&!s.pagination.el.contains(e))){let t;i.length?t=i[0].classList.contains(s.params.navigation.hiddenClass):r.length&&(t=r[0].classList.contains(s.params.navigation.hiddenClass)),a(!0===t?"navigationShow":"navigationHide"),[...i,...r].filter(t=>!!t).forEach(t=>t.classList.toggle(s.params.navigation.hiddenClass))}});let u=()=>{s.el.classList.add(...s.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(s.navigation,{enable:()=>{s.el.classList.remove(...s.params.navigation.navigationDisabledClass.split(" ")),c(),o()},disable:u,update:o,init:c,destroy:d})},function(t){let{swiper:h,extendParams:e,on:i,emit:c}=t;t="swiper-pagination";let d,u=(e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:t+"-bullet",bulletActiveClass:t+"-bullet-active",modifierClass:t+"-",currentClass:t+"-current",totalClass:t+"-total",hiddenClass:t+"-hidden",progressbarFillClass:t+"-progressbar-fill",progressbarOppositeClass:t+"-progressbar-opposite",clickableClass:t+"-clickable",lockClass:t+"-lock",horizontalClass:t+"-horizontal",verticalClass:t+"-vertical",paginationDisabledClass:t+"-disabled"}}),h.pagination={el:null,bullets:[]},0);function s(){return!h.params.pagination.el||!h.pagination.el||Array.isArray(h.pagination.el)&&0===h.pagination.el.length}function p(t,e){var i=h.params.pagination.bulletActiveClass;(t=t&&t[("prev"===e?"previous":"next")+"ElementSibling"])&&(t.classList.add(i+"-"+e),t=t[("prev"===e?"previous":"next")+"ElementSibling"])&&t.classList.add(i+`-${e}-`+e)}function r(t){var e=t.target.closest(z(h.params.pagination.bulletClass));e&&(t.preventDefault(),t=j(e)*h.params.slidesPerGroup,h.params.loop?h.realIndex!==t&&h.slideToLoop(t):h.slideTo(t))}function a(){let o=h.rtl,l=h.params.pagination;if(!s()){let n,t,e=h.pagination.el,i=(e=B(e),(h.virtual&&h.params.virtual.enabled?h.virtual:h).slides.length),a=h.params.loop?Math.ceil(i/h.params.slidesPerGroup):h.snapGrid.length;if(h.params.loop?(t=h.previousRealIndex||0,n=1<h.params.slidesPerGroup?Math.floor(h.realIndex/h.params.slidesPerGroup):h.realIndex):void 0!==h.snapIndex?(n=h.snapIndex,t=h.previousSnapIndex):(t=h.previousIndex||0,n=h.activeIndex||0),"bullets"===l.type&&h.pagination.bullets&&0<h.pagination.bullets.length){let r=h.pagination.bullets,i,s,a;if(l.dynamicBullets&&(d=R(r[0],h.isHorizontal()?"width":"height",!0),e.forEach(t=>{t.style[h.isHorizontal()?"width":"height"]=d*(l.dynamicMainBullets+4)+"px"}),1<l.dynamicMainBullets&&void 0!==t&&((u+=n-(t||0))>l.dynamicMainBullets-1?u=l.dynamicMainBullets-1:u<0&&(u=0)),i=Math.max(n-u,0),s=i+(Math.min(r.length,l.dynamicMainBullets)-1),a=(s+i)/2),r.forEach(t=>{var e=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(t=>""+l.bulletActiveClass+t)].map(t=>"string"==typeof t&&t.includes(" ")?t.split(" "):t).flat();t.classList.remove(...e)}),1<e.length)r.forEach(t=>{var e=j(t);e===n?t.classList.add(...l.bulletActiveClass.split(" ")):h.isElement&&t.setAttribute("part","bullet"),l.dynamicBullets&&(e>=i&&e<=s&&t.classList.add(...(l.bulletActiveClass+"-main").split(" ")),e===i&&p(t,"prev"),e===s)&&p(t,"next")});else{let t=r[n];if(t&&t.classList.add(...l.bulletActiveClass.split(" ")),h.isElement&&r.forEach((t,e)=>{t.setAttribute("part",e===n?"bullet-active":"bullet")}),l.dynamicBullets){let t=r[i],e=r[s];for(let t=i;t<=s;t+=1)r[t]&&r[t].classList.add(...(l.bulletActiveClass+"-main").split(" "));p(t,"prev"),p(e,"next")}}if(l.dynamicBullets){let t=Math.min(r.length,l.dynamicMainBullets+4),e=(d*t-d)/2-a*d,i=o?"right":"left";r.forEach(t=>{t.style[h.isHorizontal()?i:"top"]=e+"px"})}}e.forEach((r,t)=>{if("fraction"===l.type&&(r.querySelectorAll(z(l.currentClass)).forEach(t=>{t.textContent=l.formatFractionCurrent(n+1)}),r.querySelectorAll(z(l.totalClass)).forEach(t=>{t.textContent=l.formatFractionTotal(a)})),"progressbar"===l.type){var s=l.progressbarOpposite?h.isHorizontal()?"vertical":"horizontal":h.isHorizontal()?"horizontal":"vertical";let t=(n+1)/a,e=1,i=1;"horizontal"==s?e=t:i=t,r.querySelectorAll(z(l.progressbarFillClass)).forEach(t=>{t.style.transform=`translate3d(0,0,0) scaleX(${e}) scaleY(${i})`,t.style.transitionDuration=h.params.speed+"ms"})}"custom"===l.type&&l.renderCustom?(r.innerHTML=l.renderCustom(h,n+1,a),0===t&&c("paginationRender",r)):(0===t&&c("paginationRender",r),c("paginationUpdate",r)),h.params.watchOverflow&&h.enabled&&r.classList[h.isLocked?"add":"remove"](l.lockClass)})}}function n(){let r=h.params.pagination;if(!s()){var t=h.virtual&&h.params.virtual.enabled?h.virtual.slides.length:h.grid&&1<h.params.grid.rows?h.slides.length/Math.ceil(h.params.grid.rows):h.slides.length,e=B(e=h.pagination.el);let i="";if("bullets"===r.type){let e=h.params.loop?Math.ceil(t/h.params.slidesPerGroup):h.snapGrid.length;h.params.freeMode&&h.params.freeMode.enabled&&e>t&&(e=t);for(let t=0;t<e;t+=1)r.renderBullet?i+=r.renderBullet.call(h,t,r.bulletClass):i+=`<${r.bulletElement} ${h.isElement?'part="bullet"':""} class="${r.bulletClass}"></${r.bulletElement}>`}"fraction"===r.type&&(i=r.renderFraction?r.renderFraction.call(h,r.currentClass,r.totalClass):`<span class="${r.currentClass}"></span> / <span class="${r.totalClass}"></span>`),"progressbar"===r.type&&(i=r.renderProgressbar?r.renderProgressbar.call(h,r.progressbarFillClass):`<span class="${r.progressbarFillClass}"></span>`),h.pagination.bullets=[],e.forEach(t=>{"custom"!==r.type&&(t.innerHTML=i||""),"bullets"===r.type&&h.pagination.bullets.push(...t.querySelectorAll(z(r.bulletClass)))}),"custom"!==r.type&&c("paginationRender",e[0])}}function o(){h.params.pagination=N(h,h.originalParams.pagination,h.params.pagination,{el:"swiper-pagination"});let e=h.params.pagination;if(e.el){let t;(t=(t=(t="string"==typeof e.el&&h.isElement?h.el.querySelector(e.el):t)||"string"!=typeof e.el?t:[...document.querySelectorAll(e.el)])||e.el)&&0!==t.length&&(h.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(t)&&1<t.length&&1<(t=[...h.el.querySelectorAll(e.el)]).length&&(t=t.filter(t=>F(t,".swiper")[0]===h.el)[0]),Array.isArray(t)&&1===t.length&&(t=t[0]),Object.assign(h.pagination,{el:t}),(t=B(t)).forEach(t=>{"bullets"===e.type&&e.clickable&&t.classList.add(...(e.clickableClass||"").split(" ")),t.classList.add(e.modifierClass+e.type),t.classList.add(h.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(t.classList.add(""+e.modifierClass+e.type+"-dynamic"),u=0,e.dynamicMainBullets<1)&&(e.dynamicMainBullets=1),"progressbar"===e.type&&e.progressbarOpposite&&t.classList.add(e.progressbarOppositeClass),e.clickable&&t.addEventListener("click",r),h.enabled||t.classList.add(e.lockClass)}))}}function l(){let e=h.params.pagination;var t;s()||((t=h.pagination.el)&&(t=B(t)).forEach(t=>{t.classList.remove(e.hiddenClass),t.classList.remove(e.modifierClass+e.type),t.classList.remove(h.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(t.classList.remove(...(e.clickableClass||"").split(" ")),t.removeEventListener("click",r))}),h.pagination.bullets&&h.pagination.bullets.forEach(t=>t.classList.remove(...e.bulletActiveClass.split(" "))))}i("changeDirection",()=>{if(h.pagination&&h.pagination.el){let e=h.params.pagination;var t=h.pagination.el;(t=B(t)).forEach(t=>{t.classList.remove(e.horizontalClass,e.verticalClass),t.classList.add(h.isHorizontal()?e.horizontalClass:e.verticalClass)})}}),i("init",()=>{(!1===h.params.pagination.enabled?f:(o(),n(),a))()}),i("activeIndexChange",()=>{void 0===h.snapIndex&&a()}),i("snapIndexChange",()=>{a()}),i("snapGridLengthChange",()=>{n(),a()}),i("destroy",()=>{l()}),i("enable disable",()=>{var t=h.pagination.el;t&&(t=B(t)).forEach(t=>t.classList[h.enabled?"remove":"add"](h.params.pagination.lockClass))}),i("lock unlock",()=>{a()}),i("click",(t,e)=>{var e=e.target,i=B(h.pagination.el);if(h.params.pagination.el&&h.params.pagination.hideOnClick&&i&&0<i.length&&!e.classList.contains(h.params.pagination.bulletClass)&&(!h.navigation||!(h.navigation.nextEl&&e===h.navigation.nextEl||h.navigation.prevEl&&e===h.navigation.prevEl))){let t=i[0].classList.contains(h.params.pagination.hiddenClass);c(!0===t?"paginationShow":"paginationHide"),i.forEach(t=>t.classList.toggle(h.params.pagination.hiddenClass))}});let f=()=>{h.el.classList.add(h.params.pagination.paginationDisabledClass);var t=h.pagination.el;t&&(t=B(t)).forEach(t=>t.classList.add(h.params.pagination.paginationDisabledClass)),l()};Object.assign(h.pagination,{enable:()=>{h.el.classList.remove(h.params.pagination.paginationDisabledClass);var t=h.pagination.el;t&&(t=B(t)).forEach(t=>t.classList.remove(h.params.pagination.paginationDisabledClass)),o(),n(),a()},disable:f,render:n,update:a,init:o,destroy:l})},function(t){let{swiper:l,extendParams:e,on:i,emit:a}=t,n=P(),o,h,c,r,d=!1,u=null,p=null;function s(){if(l.params.scrollbar.el&&l.scrollbar.el){let{scrollbar:t,rtlTranslate:e}=l,{dragEl:i,el:r}=t,s=l.params.scrollbar,a=l.params.loop?l.progressLoop:l.progress,n=h,o=(c-h)*a;e?0<(o=-o)?(n=h-o,o=0):-o+h>c&&(n=c+o):o<0?(n=h+o,o=0):o+h>c&&(n=c-o),l.isHorizontal()?(i.style.transform=`translate3d(${o}px, 0, 0)`,i.style.width=n+"px"):(i.style.transform=`translate3d(0px, ${o}px, 0)`,i.style.height=n+"px"),s.hide&&(clearTimeout(u),r.style.opacity=1,u=setTimeout(()=>{r.style.opacity=0,r.style.transitionDuration="400ms"},1e3))}}function f(){var t,e,i;l.params.scrollbar.el&&l.scrollbar.el&&(t=l.scrollbar,{dragEl:e,el:i}=t,e.style.width="",e.style.height="",c=l.isHorizontal()?i.offsetWidth:i.offsetHeight,r=l.size/(l.virtualSize+l.params.slidesOffsetBefore-(l.params.centeredSlides?l.snapGrid[0]:0)),h="auto"===l.params.scrollbar.dragSize?c*r:parseInt(l.params.scrollbar.dragSize,10),l.isHorizontal()?e.style.width=h+"px":e.style.height=h+"px",i.style.display=1<=r?"none":"",l.params.scrollbar.hide&&(i.style.opacity=0),l.params.watchOverflow)&&l.enabled&&t.el.classList[l.isLocked?"add":"remove"](l.params.scrollbar.lockClass)}function g(t){return l.isHorizontal()?t.clientX:t.clientY}function m(t){var{scrollbar:e,rtlTranslate:i}=l,e=e.el;let r;r=(g(t)-I(e)[l.isHorizontal()?"left":"top"]-(null!==o?o:h/2))/(c-h),r=Math.max(Math.min(r,1),0),i&&(r=1-r);t=l.minTranslate()+(l.maxTranslate()-l.minTranslate())*r;l.updateProgress(t),l.setTranslate(t),l.updateActiveIndex(),l.updateSlidesClasses()}function v(t){var e=l.params.scrollbar,{scrollbar:i,wrapperEl:r}=l,{el:i,dragEl:s}=i;d=!0,o=t.target===s?g(t)-t.target.getBoundingClientRect()[l.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),r.style.transitionDuration="100ms",s.style.transitionDuration="100ms",m(t),clearTimeout(p),i.style.transitionDuration="0ms",e.hide&&(i.style.opacity=1),l.params.cssMode&&(l.wrapperEl.style["scroll-snap-type"]="none"),a("scrollbarDragStart",t)}function y(t){var{scrollbar:e,wrapperEl:i}=l,{el:e,dragEl:r}=e;d&&(t.preventDefault&&t.cancelable?t.preventDefault():t.returnValue=!1,m(t),i.style.transitionDuration="0ms",e.style.transitionDuration="0ms",r.style.transitionDuration="0ms",a("scrollbarDragMove",t))}function b(t){let e=l.params.scrollbar,{scrollbar:i,wrapperEl:r}=l,s=i.el;d&&(d=!1,l.params.cssMode&&(l.wrapperEl.style["scroll-snap-type"]="",r.style.transitionDuration=""),e.hide&&(clearTimeout(p),p=T(()=>{s.style.opacity=0,s.style.transitionDuration="400ms"},1e3)),a("scrollbarDragEnd",t),e.snapOnRelease)&&l.slideToClosest()}function x(t){var e,{scrollbar:i,params:r}=l,i=i.el;i&&(e=!!r.passiveListeners&&{passive:!1,capture:!1},r=!!r.passiveListeners&&{passive:!0,capture:!1},i=i)&&(i[i="on"===t?"addEventListener":"removeEventListener"]("pointerdown",v,e),n[i]("pointermove",y,e),n[i]("pointerup",b,r))}function _(){var{scrollbar:i,el:r}=l,s=(l.params.scrollbar=N(l,l.originalParams.scrollbar,l.params.scrollbar,{el:"swiper-scrollbar"}),l.params.scrollbar);if(s.el){let t,e;if((t="string"==typeof s.el&&l.isElement?l.el.querySelector(s.el):t)||"string"!=typeof s.el)t=t||s.el;else if(!(t=n.querySelectorAll(s.el)).length)return;(t=0<(t=l.params.uniqueNavElements&&"string"==typeof s.el&&1<t.length&&1===r.querySelectorAll(s.el).length?r.querySelector(s.el):t).length?t[0]:t).classList.add(l.isHorizontal()?s.horizontalClass:s.verticalClass),t&&((e=t.querySelector(z(l.params.scrollbar.dragClass)))||(e=O("div",l.params.scrollbar.dragClass),t.append(e))),Object.assign(i,{el:t,dragEl:e}),s.draggable&&l.params.scrollbar.el&&l.scrollbar.el&&x("on"),t&&t.classList[l.enabled?"remove":"add"](...C(l.params.scrollbar.lockClass))}}function w(){var t=l.params.scrollbar,e=l.scrollbar.el;e&&e.classList.remove(...C(l.isHorizontal()?t.horizontalClass:t.verticalClass)),l.params.scrollbar.el&&l.scrollbar.el&&x("off")}e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),l.scrollbar={el:null,dragEl:null},i("changeDirection",()=>{if(l.scrollbar&&l.scrollbar.el){let e=l.params.scrollbar;var t=l.scrollbar.el;(t=B(t)).forEach(t=>{t.classList.remove(e.horizontalClass,e.verticalClass),t.classList.add(l.isHorizontal()?e.horizontalClass:e.verticalClass)})}}),i("init",()=>{(!1===l.params.scrollbar.enabled?S:(_(),f(),s))()}),i("update resize observerUpdate lock unlock changeDirection",()=>{f()}),i("setTranslate",()=>{s()}),i("setTransition",(t,e)=>{e=e,l.params.scrollbar.el&&l.scrollbar.el&&(l.scrollbar.dragEl.style.transitionDuration=e+"ms")}),i("enable disable",()=>{var t=l.scrollbar.el;t&&t.classList[l.enabled?"remove":"add"](...C(l.params.scrollbar.lockClass))}),i("destroy",()=>{w()});let S=()=>{l.el.classList.add(...C(l.params.scrollbar.scrollbarDisabledClass)),l.scrollbar.el&&l.scrollbar.el.classList.add(...C(l.params.scrollbar.scrollbarDisabledClass)),w()};Object.assign(l.scrollbar,{enable:()=>{l.el.classList.remove(...C(l.params.scrollbar.scrollbarDisabledClass)),l.scrollbar.el&&l.scrollbar.el.classList.remove(...C(l.params.scrollbar.scrollbarDisabledClass)),_(),f(),s()},disable:S,updateSize:f,setTranslate:s,init:_,destroy:w})},function(t){let{swiper:c,extendParams:e,on:i}=t,a=(e({parallax:{enabled:!1}}),"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]"),n=(e,i)=>{var t=c.rtl,t=t?-1:1,r=e.getAttribute("data-swiper-parallax")||"0";let s=e.getAttribute("data-swiper-parallax-x"),a=e.getAttribute("data-swiper-parallax-y");var n=e.getAttribute("data-swiper-parallax-scale"),o=e.getAttribute("data-swiper-parallax-opacity"),l=e.getAttribute("data-swiper-parallax-rotate");if(s||a?(s=s||"0",a=a||"0"):c.isHorizontal()?(s=r,a="0"):(a=r,s="0"),s=0<=s.indexOf("%")?parseInt(s,10)*i*t+"%":s*i*t+"px",a=0<=a.indexOf("%")?parseInt(a,10)*i+"%":a*i+"px",null!=o){let t=o-(o-1)*(1-Math.abs(i));e.style.opacity=t}let h=`translate3d(${s}, ${a}, 0px)`;null!=n&&(h+=` scale(${n-(n-1)*(1-Math.abs(i))})`),l&&null!=l&&(h+=` rotate(${l*i*-1}deg)`),e.style.transform=h},r=()=>{let{el:t,slides:e,progress:r,snapGrid:s}=c,i=L(t,a);c.isElement&&i.push(...L(c.hostEl,a)),i.forEach(t=>{n(t,r)}),e.forEach((t,e)=>{let i=t.progress;1<c.params.slidesPerGroup&&"auto"!==c.params.slidesPerView&&(i+=Math.ceil(e/2)-r*(s.length-1)),i=Math.min(Math.max(i,-1),1),t.querySelectorAll(a+", [data-swiper-parallax-rotate]").forEach(t=>{n(t,i)})})};i("beforeInit",()=>{c.params.parallax.enabled&&(c.params.watchSlidesProgress=!0,c.originalParams.watchSlidesProgress=!0)}),i("init",()=>{c.params.parallax.enabled&&r()}),i("setTranslate",()=>{c.params.parallax.enabled&&r()}),i("setTransition",(t,e)=>{var i,r;c.params.parallax.enabled&&({el:e,hostEl:r}=(void 0===(i=e)&&(i=c.params.speed),c),e=[...e.querySelectorAll(a)],c.isElement&&e.push(...r.querySelectorAll(a)),e.forEach(t=>{let e=parseInt(t.getAttribute("data-swiper-parallax-duration"),10)||i;0===i&&(e=0),t.style.transitionDuration=e+"ms"}))})},function(t){let{swiper:w,extendParams:e,on:i,emit:r}=t,S=D();e({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),w.zoom={enabled:!1};let s,a,C=1,n=!1,o=[],T={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},k={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},l={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},h,c=1;function d(){var t,e,i,r;return o.length<2?1:(t=o[0].pageX,e=o[0].pageY,i=o[1].pageX,r=o[1].pageY,Math.sqrt((i-t)**2+(r-e)**2))}function M(){let t=w.params.zoom,e=T.imageWrapEl.getAttribute("data-swiper-zoom")||t.maxRatio;if(t.limitToOriginalSize&&T.imageEl&&T.imageEl.naturalWidth){let t=T.imageEl.naturalWidth/T.imageEl.offsetWidth;return Math.min(t,e)}return e}function u(e){var t=w.isElement?"swiper-slide":"."+w.params.slideClass;return e.target.matches(t)||0<w.slides.filter(t=>t.contains(e.target)).length}function p(e){if("mouse"===e.pointerType&&o.splice(0,o.length),u(e)){var i=w.params.zoom;if(s=!1,a=!1,o.push(e),!(o.length<2)){if(s=!0,T.scaleStart=d(),!T.slideEl){T.slideEl=e.target.closest(`.${w.params.slideClass}, swiper-slide`),T.slideEl||(T.slideEl=w.slides[w.activeIndex]);let t=T.slideEl.querySelector("."+i.containerClass);if(t=t&&t.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0],T.imageEl=t,T.imageWrapEl=t?F(T.imageEl,"."+i.containerClass)[0]:void 0,!T.imageWrapEl)return void(T.imageEl=void 0);T.maxRatio=M()}if(T.imageEl){let[t,e]=o.length<2?{x:null,y:null}:(i=T.imageEl.getBoundingClientRect(),[(o[0].pageX+(o[1].pageX-o[0].pageX)/2-i.x-S.scrollX)/C,(o[0].pageY+(o[1].pageY-o[0].pageY)/2-i.y-S.scrollY)/C]);T.originX=t,T.originY=e,T.imageEl.style.transitionDuration="0ms"}n=!0}}}function f(e){var t,i,r;u(e)&&(t=w.params.zoom,i=w.zoom,0<=(r=o.findIndex(t=>t.pointerId===e.pointerId))&&(o[r]=e),o.length<2||(a=!0,T.scaleMove=d(),T.imageEl&&(i.scale=T.scaleMove/T.scaleStart*C,i.scale>T.maxRatio&&(i.scale=T.maxRatio-1+(i.scale-T.maxRatio+1)**.5),i.scale<t.minRatio&&(i.scale=t.minRatio+1-(t.minRatio-i.scale+1)**.5),T.imageEl.style.transform=`translate3d(0,0,0) scale(${i.scale})`)))}function g(e){var t,i,r;!u(e)||"mouse"===e.pointerType&&"pointerout"===e.type||(t=w.params.zoom,i=w.zoom,0<=(r=o.findIndex(t=>t.pointerId===e.pointerId))&&o.splice(r,1),s&&a&&(s=!1,a=!1,T.imageEl)&&(i.scale=Math.max(Math.min(i.scale,T.maxRatio),t.minRatio),T.imageEl.style.transitionDuration=w.params.speed+"ms",T.imageEl.style.transform=`translate3d(0,0,0) scale(${i.scale})`,C=i.scale,n=!1,1<i.scale&&T.slideEl?T.slideEl.classList.add(""+t.zoomedSlideClass):i.scale<=1&&T.slideEl&&T.slideEl.classList.remove(""+t.zoomedSlideClass),1===i.scale)&&(T.originX=0,T.originY=0,T.slideEl=void 0))}function m(){w.touchEventsData.preventTouchMoveFromPointerMove=!1}function v(t){if(u(t)&&(e=t,i="."+w.params.zoom.containerClass,e.target.matches(i)||0<[...w.hostEl.querySelectorAll(i)].filter(t=>t.contains(e.target)).length)){var e,i=w.zoom;if(T.imageEl&&k.isTouched&&T.slideEl){k.isMoved||(k.width=T.imageEl.offsetWidth||T.imageEl.clientWidth,k.height=T.imageEl.offsetHeight||T.imageEl.clientHeight,k.startX=A(T.imageWrapEl,"x")||0,k.startY=A(T.imageWrapEl,"y")||0,T.slideWidth=T.slideEl.offsetWidth,T.slideHeight=T.slideEl.offsetHeight,T.imageWrapEl.style.transitionDuration="0ms");var r=k.width*i.scale,s=k.height*i.scale;if(r<T.slideWidth&&s<T.slideHeight)m();else{if(k.minX=Math.min(T.slideWidth/2-r/2,0),k.maxX=-k.minX,k.minY=Math.min(T.slideHeight/2-s/2,0),k.maxY=-k.minY,k.touchesCurrent.x=(0<o.length?o[0]:t).pageX,k.touchesCurrent.y=(0<o.length?o[0]:t).pageY,5<Math.max(Math.abs(k.touchesCurrent.x-k.touchesStart.x),Math.abs(k.touchesCurrent.y-k.touchesStart.y))&&(w.allowClick=!1),!k.isMoved&&!n){if(w.isHorizontal()&&(Math.floor(k.minX)===Math.floor(k.startX)&&k.touchesCurrent.x<k.touchesStart.x||Math.floor(k.maxX)===Math.floor(k.startX)&&k.touchesCurrent.x>k.touchesStart.x))return k.isTouched=!1,void m();if(!w.isHorizontal()&&(Math.floor(k.minY)===Math.floor(k.startY)&&k.touchesCurrent.y<k.touchesStart.y||Math.floor(k.maxY)===Math.floor(k.startY)&&k.touchesCurrent.y>k.touchesStart.y))return k.isTouched=!1,void m()}t.cancelable&&t.preventDefault(),t.stopPropagation(),clearTimeout(h),w.touchEventsData.preventTouchMoveFromPointerMove=!0,h=setTimeout(()=>{m()}),k.isMoved=!0;var r=(i.scale-C)/(T.maxRatio-w.params.zoom.minRatio),{originX:s,originY:t}=T;k.currentX=k.touchesCurrent.x-k.touchesStart.x+k.startX+r*(k.width-2*s),k.currentY=k.touchesCurrent.y-k.touchesStart.y+k.startY+r*(k.height-2*t),k.currentX<k.minX&&(k.currentX=k.minX+1-(k.minX-k.currentX+1)**.8),k.currentX>k.maxX&&(k.currentX=k.maxX-1+(k.currentX-k.maxX+1)**.8),k.currentY<k.minY&&(k.currentY=k.minY+1-(k.minY-k.currentY+1)**.8),k.currentY>k.maxY&&(k.currentY=k.maxY-1+(k.currentY-k.maxY+1)**.8),l.prevPositionX||(l.prevPositionX=k.touchesCurrent.x),l.prevPositionY||(l.prevPositionY=k.touchesCurrent.y),l.prevTime||(l.prevTime=Date.now()),l.x=(k.touchesCurrent.x-l.prevPositionX)/(Date.now()-l.prevTime)/2,l.y=(k.touchesCurrent.y-l.prevPositionY)/(Date.now()-l.prevTime)/2,Math.abs(k.touchesCurrent.x-l.prevPositionX)<2&&(l.x=0),Math.abs(k.touchesCurrent.y-l.prevPositionY)<2&&(l.y=0),l.prevPositionX=k.touchesCurrent.x,l.prevPositionY=k.touchesCurrent.y,l.prevTime=Date.now(),T.imageWrapEl.style.transform=`translate3d(${k.currentX}px, ${k.currentY}px,0)`}}}}function y(){var t=w.zoom;T.slideEl&&w.activeIndex!==w.slides.indexOf(T.slideEl)&&(T.imageEl&&(T.imageEl.style.transform="translate3d(0,0,0) scale(1)"),T.imageWrapEl&&(T.imageWrapEl.style.transform="translate3d(0,0,0)"),T.slideEl.classList.remove(""+w.params.zoom.zoomedSlideClass),t.scale=1,C=1,T.slideEl=void 0,T.imageEl=void 0,T.imageWrapEl=void 0,T.originX=0,T.originY=0)}function b(y){var b=w.zoom,x=w.params.zoom;if(!T.slideEl){y&&y.target&&(T.slideEl=y.target.closest(`.${w.params.slideClass}, swiper-slide`)),T.slideEl||(w.params.virtual&&w.params.virtual.enabled&&w.virtual?T.slideEl=L(w.slidesEl,"."+w.params.slideActiveClass)[0]:T.slideEl=w.slides[w.activeIndex]);let t=T.slideEl.querySelector("."+x.containerClass);t=t&&t.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0],T.imageEl=t,T.imageWrapEl=t?F(T.imageEl,"."+x.containerClass)[0]:void 0}if(T.imageEl&&T.imageWrapEl){let t,e,i,r,s,a,n,o,l,h,c,d,u,p,f,g,m,v;w.params.cssMode&&(w.wrapperEl.style.overflow="hidden",w.wrapperEl.style.touchAction="none"),T.slideEl.classList.add(""+x.zoomedSlideClass),e=void 0===k.touchesStart.x&&y?(t=y.pageX,y.pageY):(t=k.touchesStart.x,k.touchesStart.y);var x="number"==typeof y?y:null,_=(1===C&&x&&(t=void 0,e=void 0),M());b.scale=x||_,C=x||_,!y||1===C&&x?(n=0,o=0):(m=T.slideEl.offsetWidth,v=T.slideEl.offsetHeight,i=I(T.slideEl).left+S.scrollX,r=I(T.slideEl).top+S.scrollY,s=i+m/2-t,a=r+v/2-e,l=T.imageEl.offsetWidth||T.imageEl.clientWidth,h=T.imageEl.offsetHeight||T.imageEl.clientHeight,c=l*b.scale,d=h*b.scale,f=-(u=Math.min(m/2-c/2,0)),g=-(p=Math.min(v/2-d/2,0)),n=s*b.scale,o=a*b.scale,(n=n<u?u:n)>f&&(n=f),(o=o<p?p:o)>g&&(o=g)),x&&1===b.scale&&(T.originX=0,T.originY=0),T.imageWrapEl.style.transitionDuration="300ms",T.imageWrapEl.style.transform=`translate3d(${n}px, ${o}px,0)`,T.imageEl.style.transitionDuration="300ms",T.imageEl.style.transform=`translate3d(0,0,0) scale(${b.scale})`}}function x(){var t=w.zoom,e=w.params.zoom;if(!T.slideEl){w.params.virtual&&w.params.virtual.enabled&&w.virtual?T.slideEl=L(w.slidesEl,"."+w.params.slideActiveClass)[0]:T.slideEl=w.slides[w.activeIndex];let t=T.slideEl.querySelector("."+e.containerClass);t=t&&t.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0],T.imageEl=t,T.imageWrapEl=t?F(T.imageEl,"."+e.containerClass)[0]:void 0}T.imageEl&&T.imageWrapEl&&(w.params.cssMode&&(w.wrapperEl.style.overflow="",w.wrapperEl.style.touchAction=""),t.scale=1,C=1,T.imageWrapEl.style.transitionDuration="300ms",T.imageWrapEl.style.transform="translate3d(0,0,0)",T.imageEl.style.transitionDuration="300ms",T.imageEl.style.transform="translate3d(0,0,0) scale(1)",T.slideEl.classList.remove(""+e.zoomedSlideClass),T.slideEl=void 0,T.originX=0,T.originY=0)}function _(t){var e=w.zoom;e.scale&&1!==e.scale?x():b(t)}function E(){return{passiveListener:!!w.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!w.params.passiveListeners||{passive:!1,capture:!0}}}function P(){var i=w.zoom;if(!i.enabled){i.enabled=!0;let{passiveListener:e,activeListenerWithCapture:t}=E();w.wrapperEl.addEventListener("pointerdown",p,e),w.wrapperEl.addEventListener("pointermove",f,t),["pointerup","pointercancel","pointerout"].forEach(t=>{w.wrapperEl.addEventListener(t,g,e)}),w.wrapperEl.addEventListener("pointermove",v,t)}}function O(){var i=w.zoom;if(i.enabled){i.enabled=!1;let{passiveListener:e,activeListenerWithCapture:t}=E();w.wrapperEl.removeEventListener("pointerdown",p,e),w.wrapperEl.removeEventListener("pointermove",f,t),["pointerup","pointercancel","pointerout"].forEach(t=>{w.wrapperEl.removeEventListener(t,g,e)}),w.wrapperEl.removeEventListener("pointermove",v,t)}}Object.defineProperty(w.zoom,"scale",{get:()=>c,set(t){var e,i;c!==t&&(e=T.imageEl,i=T.slideEl,r("zoomChange",t,e,i)),c=t}}),i("init",()=>{w.params.zoom.enabled&&P()}),i("destroy",()=>{O()}),i("touchStart",(t,e)=>{var i;w.zoom.enabled&&(e=e,i=w.device,T.imageEl)&&!k.isTouched&&(i.android&&e.cancelable&&e.preventDefault(),k.isTouched=!0,i=0<o.length?o[0]:e,k.touchesStart.x=i.pageX,k.touchesStart.y=i.pageY)}),i("touchEnd",(t,e)=>{if(w.zoom.enabled){var i=w.zoom;if(T.imageEl){if(!k.isTouched||!k.isMoved)return void(k.isTouched=!1,k.isMoved=!1);k.isTouched=!1,k.isMoved=!1;let t=300,e=300;var r=l.x*t,r=k.currentX+r,s=l.y*e,s=k.currentY+s,a=(0!==l.x&&(t=Math.abs((r-k.currentX)/l.x)),0!==l.y&&(e=Math.abs((s-k.currentY)/l.y)),Math.max(t,e)),r=(k.currentX=r,k.currentY=s,k.width*i.scale),s=k.height*i.scale;k.minX=Math.min(T.slideWidth/2-r/2,0),k.maxX=-k.minX,k.minY=Math.min(T.slideHeight/2-s/2,0),k.maxY=-k.minY,k.currentX=Math.max(Math.min(k.currentX,k.maxX),k.minX),k.currentY=Math.max(Math.min(k.currentY,k.maxY),k.minY),T.imageWrapEl.style.transitionDuration=a+"ms",T.imageWrapEl.style.transform=`translate3d(${k.currentX}px, ${k.currentY}px,0)`}}}),i("doubleTap",(t,e)=>{!w.animating&&w.params.zoom.enabled&&w.zoom.enabled&&w.params.zoom.toggle&&_(e)}),i("transitionEnd",()=>{w.zoom.enabled&&w.params.zoom.enabled&&y()}),i("slideChange",()=>{w.zoom.enabled&&w.params.zoom.enabled&&w.params.cssMode&&y()}),Object.assign(w.zoom,{enable:P,disable:O,in:b,out:x,toggle:_})},function(t){let{swiper:o,extendParams:e,on:i}=t;function l(t,e){let i=(()=>{let i,r,s;return(t,e)=>{for(r=-1,i=t.length;1<i-r;)t[s=i+r>>1]<=e?r=s:i=s;return i}})(),r,s;return this.x=t,this.y=e,this.lastIndex=t.length-1,this.interpolate=function(t){return t?(s=i(this.x,t),r=s-1,(t-this.x[r])*(this.y[s]-this.y[r])/(this.x[s]-this.x[r])+this.y[r]):0},this}function r(){o.controller.control&&o.controller.spline&&(o.controller.spline=void 0,delete o.controller.spline)}e({controller:{control:void 0,inverse:!1,by:"slide"}}),o.controller={control:void 0},i("beforeInit",()=>{if("undefined"!=typeof window&&("string"==typeof o.params.controller.control||o.params.controller.control instanceof HTMLElement)){let i=document.querySelector(o.params.controller.control);if(i&&i.swiper)o.controller.control=i.swiper;else if(i){let e=t=>{o.controller.control=t.detail[0],o.update(),i.removeEventListener("init",e)};i.addEventListener("init",e)}}else o.controller.control=o.params.controller.control}),i("update",()=>{r()}),i("resize",()=>{r()}),i("observerUpdate",()=>{r()}),i("setTranslate",(t,e,i)=>{o.controller.control&&!o.controller.control.destroyed&&o.controller.setTranslate(e,i)}),i("setTransition",(t,e,i)=>{o.controller.control&&!o.controller.control.destroyed&&o.controller.setTransition(e,i)}),Object.assign(o.controller,{setTranslate:function(t,e){var i=o.controller.control;let r,s;var a=o.constructor;function n(t){var e,i;t.destroyed||(e=o.rtlTranslate?-o.translate:o.translate,"slide"===o.params.controller.by&&(i=t,o.controller.spline=o.params.loop?new l(o.slidesGrid,i.slidesGrid):new l(o.snapGrid,i.snapGrid),s=-o.controller.spline.interpolate(-e)),s&&"container"!==o.params.controller.by||(r=(t.maxTranslate()-t.minTranslate())/(o.maxTranslate()-o.minTranslate()),!Number.isNaN(r)&&Number.isFinite(r)||(r=1),s=(e-o.minTranslate())*r+t.minTranslate()),o.params.controller.inverse&&(s=t.maxTranslate()-s),t.updateProgress(s),t.setTranslate(s,o),t.updateActiveIndex(),t.updateSlidesClasses())}if(Array.isArray(i))for(let t=0;t<i.length;t+=1)i[t]!==e&&i[t]instanceof a&&n(i[t]);else i instanceof a&&e!==i&&n(i)},setTransition:function(e,t){let i=o.constructor,r=o.controller.control,s;function a(t){t.destroyed||(t.setTransition(e,o),0!==e&&(t.transitionStart(),t.params.autoHeight&&T(()=>{t.updateAutoHeight()}),g(t.wrapperEl,()=>{r&&t.transitionEnd()})))}if(Array.isArray(r))for(s=0;s<r.length;s+=1)r[s]!==t&&r[s]instanceof i&&a(r[s]);else r instanceof i&&t!==r&&a(r)}})},function(t){let{swiper:o,extendParams:e,on:i}=t;e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),o.a11y={clicked:!1};let s,a,l=null,n=(new Date).getTime();function r(t){var e=l;0!==e.length&&(e.innerHTML="",e.innerHTML=t)}function h(t){(t=B(t)).forEach(t=>{t.setAttribute("tabIndex","0")})}function c(t){(t=B(t)).forEach(t=>{t.setAttribute("tabIndex","-1")})}function d(t,e){(t=B(t)).forEach(t=>{t.setAttribute("role",e)})}function u(t,e){(t=B(t)).forEach(t=>{t.setAttribute("aria-roledescription",e)})}function p(t,e){(t=B(t)).forEach(t=>{t.setAttribute("aria-label",e)})}function f(t){(t=B(t)).forEach(t=>{t.setAttribute("aria-disabled",!0)})}function g(t){(t=B(t)).forEach(t=>{t.setAttribute("aria-disabled",!1)})}function m(t){if(13===t.keyCode||32===t.keyCode){var e=o.params.a11y,i=t.target;if(!o.pagination||!o.pagination.el||i!==o.pagination.el&&!o.pagination.el.contains(t.target)||t.target.matches(z(o.params.pagination.bulletClass))){if(o.navigation&&o.navigation.prevEl&&o.navigation.nextEl){let t=B(o.navigation.prevEl);B(o.navigation.nextEl).includes(i)&&(o.isEnd&&!o.params.loop||o.slideNext(),o.isEnd?r(e.lastSlideMessage):r(e.nextSlideMessage)),t.includes(i)&&(o.isBeginning&&!o.params.loop||o.slidePrev(),o.isBeginning?r(e.firstSlideMessage):r(e.prevSlideMessage))}o.pagination&&i.matches(z(o.params.pagination.bulletClass))&&i.click()}}}function v(){return o.pagination&&o.pagination.bullets&&o.pagination.bullets.length}function y(){return v()&&o.params.pagination.clickable}let b=(t,e,i)=>{var r;h(t),"BUTTON"!==t.tagName&&(d(t,"button"),t.addEventListener("keydown",m)),p(t,i),r=e,B(t).forEach(t=>{t.setAttribute("aria-controls",r)})},x=t=>{a&&a!==t.target&&!a.contains(t.target)&&(s=!0),o.a11y.clicked=!0},_=()=>{s=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{o.destroyed||(o.a11y.clicked=!1)})})},w=t=>{n=(new Date).getTime()},S=e=>{if(!(o.a11y.clicked||(new Date).getTime()-n<100)){let t=e.target.closest(`.${o.params.slideClass}, swiper-slide`);var i,r;t&&o.slides.includes(t)&&(a=t,i=o.slides.indexOf(t)===o.activeIndex,r=o.params.watchSlidesProgress&&o.visibleSlides&&o.visibleSlides.includes(t),i||r||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(o.isHorizontal()?o.el.scrollLeft=0:o.el.scrollTop=0,requestAnimationFrame(()=>{s||(o.slideTo(o.slides.indexOf(t),0),s=!1)})))}},C=()=>{let i=o.params.a11y,r=(i.itemRoleDescriptionMessage&&u(o.slides,i.itemRoleDescriptionMessage),i.slideRole&&d(o.slides,i.slideRole),o.slides.length);i.slideLabelMessage&&o.slides.forEach((t,e)=>{e=o.params.loop?parseInt(t.getAttribute("data-swiper-slide-index"),10):e;p(t,i.slideLabelMessage.replace(/\{\{index\}\}/,e+1).replace(/\{\{slidesLength\}\}/,r))})};i("beforeInit",()=>{(l=O("span",o.params.a11y.notificationClass)).setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true")}),i("afterInit",()=>{o.params.a11y.enabled&&(()=>{let e=o.params.a11y;o.el.append(l);var t=o.el;e.containerRoleDescriptionMessage&&u(t,e.containerRoleDescriptionMessage),e.containerMessage&&p(t,e.containerMessage);let i=o.wrapperEl,r=e.id||i.getAttribute("id")||"swiper-wrapper-"+"x".repeat(t=void 0===(t=16)?16:t).replace(/x/g,()=>Math.round(16*Math.random()).toString(16));var s,t=o.params.autoplay&&o.params.autoplay.enabled?"off":"polite",a=r,{nextEl:t,prevEl:n}=(B(i).forEach(t=>{t.setAttribute("id",a)}),i,s=t,B(i).forEach(t=>{t.setAttribute("aria-live",s)}),C(),o.navigation||{}),t=B(t),n=B(n);t&&t.forEach(t=>b(t,r,e.nextSlideMessage)),n&&n.forEach(t=>b(t,r,e.prevSlideMessage)),y()&&B(o.pagination.el).forEach(t=>{t.addEventListener("keydown",m)}),P().addEventListener("visibilitychange",w),o.el.addEventListener("focus",S,!0),o.el.addEventListener("focus",S,!0),o.el.addEventListener("pointerdown",x,!0),o.el.addEventListener("pointerup",_,!0)})()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{o.params.a11y.enabled&&C()}),i("fromEdge toEdge afterInit lock unlock",()=>{var t,e;o.params.a11y.enabled&&!o.params.loop&&!o.params.rewind&&o.navigation&&({nextEl:t,prevEl:e}=o.navigation,e&&(o.isBeginning?(f(e),c):(g(e),h))(e),t)&&(o.isEnd?(f(t),c):(g(t),h))(t)}),i("paginationUpdate",()=>{if(o.params.a11y.enabled){let e=o.params.a11y;v()&&o.pagination.bullets.forEach(t=>{o.params.pagination.clickable&&(h(t),o.params.pagination.renderBullet||(d(t,"button"),p(t,e.paginationBulletMessage.replace(/\{\{index\}\}/,j(t)+1)))),t.matches(z(o.params.pagination.bulletActiveClass))?t.setAttribute("aria-current","true"):t.removeAttribute("aria-current")})}}),i("destroy",()=>{var t,e;o.params.a11y.enabled&&(l&&l.remove(),{nextEl:t,prevEl:e}=o.navigation||{},t=B(t),e=B(e),t&&t.forEach(t=>t.removeEventListener("keydown",m)),e&&e.forEach(t=>t.removeEventListener("keydown",m)),y()&&B(o.pagination.el).forEach(t=>{t.removeEventListener("keydown",m)}),P().removeEventListener("visibilitychange",w),o.el.removeEventListener("focus",S,!0),o.el.removeEventListener("pointerdown",x,!0),o.el.removeEventListener("pointerup",_,!0))})},function(t){let{swiper:n,extendParams:e,on:i}=t,a=(e({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}}),!1),r={},o=t=>t.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),s=t=>{var e=D(),t=(t?new URL(t):e.location).pathname.slice(1).split("/").filter(t=>""!==t),e=t.length;return{key:t[e-2],value:t[e-1]}},l=(i,t)=>{var r=D();if(a&&n.params.history.enabled){var s=n.params.url?new URL(n.params.url):r.location,t=n.virtual&&n.params.virtual.enabled?n.slidesEl.querySelector(`[data-swiper-slide-index="${t}"]`):n.slides[t];let e=o(t.getAttribute("data-history"));if(0<n.params.history.root.length){let t=n.params.history.root;"/"===t[t.length-1]&&(t=t.slice(0,t.length-1)),e=t+"/"+(i?i+"/":"")+e}else s.pathname.includes(i)||(e=(i?i+"/":"")+e);n.params.history.keepQuery&&(e+=s.search);t=r.history.state;t&&t.value===e||(n.params.history.replaceState?r.history.replaceState({value:e},null,e):r.history.pushState({value:e},null,e))}},h=(i,r,s)=>{if(r)for(let t=0,e=n.slides.length;t<e;t+=1){var a=n.slides[t];if(o(a.getAttribute("data-history"))===r){let t=n.getSlideIndex(a);n.slideTo(t,i,s)}}else n.slideTo(0,i,s)},c=()=>{r=s(n.params.url),h(n.params.speed,r.value,!1)};i("init",()=>{var t;n.params.history.enabled&&(t=D(),n.params.history)&&(t.history&&t.history.pushState?(a=!0,((r=s(n.params.url)).key||r.value)&&h(0,r.value,n.params.runCallbacksOnInit),n.params.history.replaceState||t.addEventListener("popstate",c)):(n.params.history.enabled=!1,n.params.hashNavigation.enabled=!0))}),i("destroy",()=>{var t;n.params.history.enabled&&(t=D(),n.params.history.replaceState||t.removeEventListener("popstate",c))}),i("transitionEnd _freeModeNoMomentumRelease",()=>{a&&l(n.params.history.key,n.activeIndex)}),i("slideChange",()=>{a&&n.params.cssMode&&l(n.params.history.key,n.activeIndex)})},function(t){let{swiper:i,extendParams:e,emit:r,on:s}=t,a=!1,n=P(),o=D(),l=(e({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(t,e){if(i.virtual&&i.params.virtual.enabled){let t=i.slides.filter(t=>t.getAttribute("data-hash")===e)[0];return t?parseInt(t.getAttribute("data-swiper-slide-index"),10):0}return i.getSlideIndex(L(i.slidesEl,`.${i.params.slideClass}[data-hash="${e}"], swiper-slide[data-hash="${e}"]`)[0])}}}),()=>{r("hashChange");let e=n.location.hash.replace("#",""),t=i.virtual&&i.params.virtual.enabled?i.slidesEl.querySelector(`[data-swiper-slide-index="${i.activeIndex}"]`):i.slides[i.activeIndex];if(e!==(t?t.getAttribute("data-hash"):"")){let t=i.params.hashNavigation.getSlideIndex(i,e);void 0===t||Number.isNaN(t)||i.slideTo(t)}}),h=()=>{var t;a&&i.params.hashNavigation.enabled&&(t=(t=i.virtual&&i.params.virtual.enabled?i.slidesEl.querySelector(`[data-swiper-slide-index="${i.activeIndex}"]`):i.slides[i.activeIndex])?t.getAttribute("data-hash")||t.getAttribute("data-history"):"",i.params.hashNavigation.replaceState&&o.history&&o.history.replaceState?o.history.replaceState(null,null,"#"+t||""):n.location.hash=t||"",r("hashSet"))};s("init",()=>{var t;!i.params.hashNavigation.enabled||!i.params.hashNavigation.enabled||i.params.history&&i.params.history.enabled||(a=!0,(t=n.location.hash.replace("#",""))&&(t=i.params.hashNavigation.getSlideIndex(i,t),i.slideTo(t||0,0,i.params.runCallbacksOnInit,!0)),i.params.hashNavigation.watchState&&o.addEventListener("hashchange",l))}),s("destroy",()=>{i.params.hashNavigation.enabled&&i.params.hashNavigation.watchState&&o.removeEventListener("hashchange",l)}),s("transitionEnd _freeModeNoMomentumRelease",()=>{a&&h()}),s("slideChange",()=>{a&&i.params.cssMode&&h()})},function(t){let a,n,{swiper:o,extendParams:e,on:i,emit:l,params:r}=t;o.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let h,s,c,d,u,p,f,g,m=r&&r.autoplay?r.autoplay.delay:3e3,v=r&&r.autoplay?r.autoplay.delay:3e3,y=(new Date).getTime();function b(t){o&&!o.destroyed&&o.wrapperEl&&t.target===o.wrapperEl&&(o.wrapperEl.removeEventListener("transitionend",b),g||T())}let x=()=>{var t;!o.destroyed&&o.autoplay.running&&(o.autoplay.paused?s=!0:s&&(v=h,s=!1),t=o.autoplay.paused?h:y+v-(new Date).getTime(),o.autoplay.timeLeft=t,l("autoplayTimeLeft",t,t/m),n=requestAnimationFrame(()=>{x()}))},_=r=>{if(!o.destroyed&&o.autoplay.running){cancelAnimationFrame(n),x();let t=void 0===r?o.params.autoplay.delay:r;m=o.params.autoplay.delay,v=o.params.autoplay.delay;var s=(()=>{var t=o.virtual&&o.params.virtual.enabled?o.slides.filter(t=>t.classList.contains("swiper-slide-active"))[0]:o.slides[o.activeIndex];if(t)return parseInt(t.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(s)&&0<s&&void 0===r&&(t=s,m=s,v=s),h=t;let e=o.params.speed,i=()=>{o&&!o.destroyed&&(o.params.autoplay.reverseDirection?!o.isBeginning||o.params.loop||o.params.rewind?(o.slidePrev(e,!0,!0),l("autoplay")):o.params.autoplay.stopOnLastSlide||(o.slideTo(o.slides.length-1,e,!0,!0),l("autoplay")):!o.isEnd||o.params.loop||o.params.rewind?(o.slideNext(e,!0,!0),l("autoplay")):o.params.autoplay.stopOnLastSlide||(o.slideTo(0,e,!0,!0),l("autoplay")),o.params.cssMode)&&(y=(new Date).getTime(),requestAnimationFrame(()=>{_()}))};return 0<t?(clearTimeout(a),a=setTimeout(()=>{i()},t)):requestAnimationFrame(()=>{i()}),t}},w=()=>{y=(new Date).getTime(),o.autoplay.running=!0,_(),l("autoplayStart")},S=()=>{o.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(n),l("autoplayStop")},C=(t,e)=>{!o.destroyed&&o.autoplay.running&&(clearTimeout(a),t||(f=!0),t=()=>{l("autoplayPause"),o.params.autoplay.waitForTransition?o.wrapperEl.addEventListener("transitionend",b):T()},o.autoplay.paused=!0,e?(p&&(h=o.params.autoplay.delay),p=!1,t()):(e=h||o.params.autoplay.delay,h=e-((new Date).getTime()-y),o.isEnd&&h<0&&!o.params.loop||(h<0&&(h=0),t())))},T=()=>{o.isEnd&&h<0&&!o.params.loop||o.destroyed||!o.autoplay.running||(y=(new Date).getTime(),f?(f=!1,_(h)):_(),o.autoplay.paused=!1,l("autoplayResume"))},k=()=>{var t;!o.destroyed&&o.autoplay.running&&("hidden"===(t=P()).visibilityState&&(f=!0,C(!0)),"visible"===t.visibilityState)&&T()},M=t=>{"mouse"===t.pointerType&&(f=!0,g=!0,o.animating||o.autoplay.paused||C(!0))},E=t=>{"mouse"===t.pointerType&&(g=!1,o.autoplay.paused)&&T()};i("init",()=>{o.params.autoplay.enabled&&(o.params.autoplay.pauseOnMouseEnter&&(o.el.addEventListener("pointerenter",M),o.el.addEventListener("pointerleave",E)),P().addEventListener("visibilitychange",k),w())}),i("destroy",()=>{o.el.removeEventListener("pointerenter",M),o.el.removeEventListener("pointerleave",E),P().removeEventListener("visibilitychange",k),o.autoplay.running&&S()}),i("_freeModeStaticRelease",()=>{(d||f)&&T()}),i("_freeModeNoMomentumRelease",()=>{o.params.autoplay.disableOnInteraction?S():C(!0,!0)}),i("beforeTransitionStart",(t,e,i)=>{!o.destroyed&&o.autoplay.running&&(i||!o.params.autoplay.disableOnInteraction?C(!0,!0):S())}),i("sliderFirstMove",()=>{!o.destroyed&&o.autoplay.running&&(o.params.autoplay.disableOnInteraction?S():(c=!0,d=!1,f=!1,u=setTimeout(()=>{f=!0,d=!0,C(!0)},200)))}),i("touchEnd",()=>{!o.destroyed&&o.autoplay.running&&c&&(clearTimeout(u),clearTimeout(a),c=(d=(o.params.autoplay.disableOnInteraction||d&&o.params.cssMode&&T(),!1),!1))}),i("slideChange",()=>{!o.destroyed&&o.autoplay.running&&(p=!0)}),Object.assign(o.autoplay,{start:w,stop:S,pause:C,resume:T})},function(t){let{swiper:l,extendParams:e,on:i}=t,r=(e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}}),!1),s=!1;function a(){var t,e,i=l.thumbs.swiper;!i||i.destroyed||(t=i.clickedIndex,(e=i.clickedSlide)&&e.classList.contains(l.params.thumbs.slideThumbActiveClass))||null!=t&&(e=i.params.loop?parseInt(i.clickedSlide.getAttribute("data-swiper-slide-index"),10):t,l.params.loop?l.slideToLoop(e):l.slideTo(e))}function n(){var t=l.params.thumbs;if(r)return!1;r=!0;var e=l.constructor;return t.swiper instanceof e?(l.thumbs.swiper=t.swiper,Object.assign(l.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(l.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),l.thumbs.swiper.update()):h(t.swiper)&&(t=Object.assign({},t.swiper),Object.assign(t,{watchSlidesProgress:!0,slideToClickedSlide:!1}),l.thumbs.swiper=new e(t),s=!0),l.thumbs.swiper.el.classList.add(l.params.thumbs.thumbsContainerClass),l.thumbs.swiper.on("tap",a),!0}function o(r){var s=l.thumbs.swiper;if(s&&!s.destroyed){var a="auto"===s.params.slidesPerView?s.slidesPerViewDynamic():s.params.slidesPerView;let e=1,i=l.params.thumbs.slideThumbActiveClass;if(1<l.params.slidesPerView&&!l.params.centeredSlides&&(e=l.params.slidesPerView),l.params.thumbs.multipleActiveThumbs||(e=1),e=Math.floor(e),s.slides.forEach(t=>t.classList.remove(i)),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let t=0;t<e;t+=1)L(s.slidesEl,`[data-swiper-slide-index="${l.realIndex+t}"]`).forEach(t=>{t.classList.add(i)});else for(let t=0;t<e;t+=1)s.slides[l.realIndex+t]&&s.slides[l.realIndex+t].classList.add(i);var n=l.params.thumbs.autoScrollOffset,o=n&&!s.params.loop;if(l.realIndex!==s.realIndex||o){let t=s.activeIndex,e,i;if(s.params.loop){let t=s.slides.filter(t=>t.getAttribute("data-swiper-slide-index")===""+l.realIndex)[0];e=s.slides.indexOf(t),i=l.activeIndex>l.previousIndex?"next":"prev"}else e=l.realIndex,i=e>l.previousIndex?"next":"prev";o&&(e+="next"===i?n:-1*n),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(e)<0&&(s.params.centeredSlides?e=e>t?e-Math.floor(a/2)+1:e+Math.floor(a/2)-1:e>t&&s.params.slidesPerGroup,s.slideTo(e,r?0:void 0))}}}l.thumbs={swiper:null},i("beforeInit",()=>{let r=l.params.thumbs;if(r&&r.swiper)if("string"==typeof r.swiper||r.swiper instanceof HTMLElement){let t=P(),e=()=>{l.destroyed||(()=>{let i="string"==typeof r.swiper?t.querySelector(r.swiper):r.swiper;if(i&&i.swiper)r.swiper=i.swiper,n(),o(!0);else if(i){let e=t=>{r.swiper=t.detail[0],i.removeEventListener("init",e),n(),o(!0),r.swiper.update(),l.update()};i.addEventListener("init",e)}return i})()||requestAnimationFrame(e)};requestAnimationFrame(e)}else n(),o(!0)}),i("slideChange update resize observerUpdate",()=>{o()}),i("setTransition",(t,e)=>{var i=l.thumbs.swiper;i&&!i.destroyed&&i.setTransition(e)}),i("beforeDestroy",()=>{var t=l.thumbs.swiper;t&&!t.destroyed&&s&&t.destroy()}),Object.assign(l.thumbs,{init:n,update:o})},function(t){let{swiper:u,extendParams:e,emit:p,once:f}=t;e({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(u,{freeMode:{onTouchStart:function(){var t;u.params.cssMode||(t=u.getTranslate(),u.setTranslate(t),u.setTransition(0),u.touchEventsData.velocities.length=0,u.freeMode.onTouchEnd({currentPos:u.rtl?u.translate:-u.translate}))},onTouchMove:function(){var t,e;u.params.cssMode||({touchEventsData:t,touches:e}=u,0===t.velocities.length&&t.velocities.push({position:e[u.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:e[u.isHorizontal()?"currentX":"currentY"],time:v()}))},onTouchEnd:function(d){let e=d.currentPos;if(!u.params.cssMode){let{params:n,wrapperEl:o,rtlTranslate:l,snapGrid:h,touchEventsData:c}=u,t=v()-c.touchStartTime;if(e<-u.minTranslate())u.slideTo(u.activeIndex);else if(e>-u.maxTranslate())u.slides.length<h.length?u.slideTo(h.length-1):u.slideTo(u.slides.length-1);else{if(n.freeMode.momentum){if(1<c.velocities.length){let t=c.velocities.pop(),e=c.velocities.pop(),i=t.position-e.position,r=t.time-e.time;u.velocity=i/r,u.velocity/=2,Math.abs(u.velocity)<n.freeMode.minimumVelocity&&(u.velocity=0),(150<r||300<v()-t.time)&&(u.velocity=0)}else u.velocity=0;u.velocity*=n.freeMode.momentumVelocityRatio,c.velocities.length=0;let i=1e3*n.freeMode.momentumRatio,t=u.velocity*i,r=u.translate+t;l&&(r=-r);let e,s=!1;d=20*Math.abs(u.velocity)*n.freeMode.momentumBounceRatio;let a;if(r<u.maxTranslate())n.freeMode.momentumBounce?(r+u.maxTranslate()<-d&&(r=u.maxTranslate()-d),e=u.maxTranslate(),s=!0,c.allowMomentumBounce=!0):r=u.maxTranslate(),n.loop&&n.centeredSlides&&(a=!0);else if(r>u.minTranslate())n.freeMode.momentumBounce?(r-u.minTranslate()>d&&(r=u.minTranslate()+d),e=u.minTranslate(),s=!0,c.allowMomentumBounce=!0):r=u.minTranslate(),n.loop&&n.centeredSlides&&(a=!0);else if(n.freeMode.sticky){let e;for(let t=0;t<h.length;t+=1)if(h[t]>-r){e=t;break}r=-(r=Math.abs(h[e]-r)<Math.abs(h[e-1]-r)||"next"===u.swipeDirection?h[e]:h[e-1])}if(a&&f("transitionEnd",()=>{u.loopFix()}),0!==u.velocity){if(i=l?Math.abs((-r-u.translate)/u.velocity):Math.abs((r-u.translate)/u.velocity),n.freeMode.sticky){let t=Math.abs((l?-r:r)-u.translate),e=u.slidesSizesGrid[u.activeIndex];i=t<e?n.speed:t<2*e?1.5*n.speed:2.5*n.speed}}else if(n.freeMode.sticky)return void u.slideToClosest();n.freeMode.momentumBounce&&s?(u.updateProgress(e),u.setTransition(i),u.setTranslate(r),u.transitionStart(!0,u.swipeDirection),u.animating=!0,g(o,()=>{u&&!u.destroyed&&c.allowMomentumBounce&&(p("momentumBounce"),u.setTransition(n.speed),setTimeout(()=>{u.setTranslate(e),g(o,()=>{u&&!u.destroyed&&u.transitionEnd()})},0))})):u.velocity?(p("_freeModeNoMomentumRelease"),u.updateProgress(r),u.setTransition(i),u.setTranslate(r),u.transitionStart(!0,u.swipeDirection),u.animating||(u.animating=!0,g(o,()=>{u&&!u.destroyed&&u.transitionEnd()}))):u.updateProgress(r),u.updateActiveIndex(),u.updateSlidesClasses()}else{if(n.freeMode.sticky)return void u.slideToClosest();n.freeMode&&p("_freeModeNoMomentumRelease")}(!n.freeMode.momentum||t>=n.longSwipesMs)&&(p("_freeModeStaticRelease"),u.updateProgress(),u.updateActiveIndex(),u.updateSlidesClasses())}}}}})},function(t){let d,u,p,r,{swiper:f,extendParams:e,on:i}=t,g=(e({grid:{rows:1,fill:"column"}}),()=>{let t=f.params.spaceBetween;return"string"==typeof t&&0<=t.indexOf("%")?t=parseFloat(t.replace("%",""))/100*f.size:"string"==typeof t&&(t=parseFloat(t)),t});i("init",()=>{r=f.params.grid&&1<f.params.grid.rows}),i("update",()=>{var{params:t,el:e}=f,i=t.grid&&1<t.grid.rows;r&&!i?(e.classList.remove(t.containerModifierClass+"grid",t.containerModifierClass+"grid-column"),p=1,f.emitContainerClasses()):!r&&i&&(e.classList.add(t.containerModifierClass+"grid"),"column"===t.grid.fill&&e.classList.add(t.containerModifierClass+"grid-column"),f.emitContainerClasses()),r=i}),f.grid={initSlides:t=>{var e=f.params.slidesPerView,{rows:i,fill:r}=f.params.grid,t=(f.virtual&&f.params.virtual.enabled?f.virtual.slides:t).length;p=Math.floor(t/i),d=Math.floor(t/i)===t/i?t:Math.ceil(t/i)*i,"auto"!==e&&"row"===r&&(d=Math.max(d,e*i)),u=d/i},unsetSlides:()=>{f.slides&&f.slides.forEach(t=>{t.swiperSlideGridSet&&(t.style.height="",t.style[f.getDirectionLabel("margin-top")]="")})},updateSlide:(r,s,a)=>{var n=f.params.slidesPerGroup,t=g(),{rows:o,fill:e}=f.params.grid,a=(f.virtual&&f.params.virtual.enabled?f.virtual.slides:a).length;let l,h,c;if("row"===e&&1<n){let t=Math.floor(r/(n*o)),e=r-o*n*t,i=0===t?n:Math.min(Math.ceil((a-t*o*n)/o),n);c=Math.floor(e/i),l=(h=e-c*i+t*n)+c*d/o,s.style.order=l}else"column"===e?(h=Math.floor(r/o),c=r-h*o,(h>p||h===p&&c===o-1)&&(c+=1)>=o&&(c=0,h+=1)):(c=Math.floor(r/u),h=r-c*u);s.row=c,s.column=h,s.style.height=`calc((100% - ${(o-1)*t}px) / ${o})`,s.style[f.getDirectionLabel("margin-top")]=0!==c?t&&t+"px":"",s.swiperSlideGridSet=!0},updateWrapperSize:(t,r)=>{var{centeredSlides:e,roundLengths:s}=f.params,i=g(),a=f.params.grid.rows;if(f.virtualSize=(t+i)*d,f.virtualSize=Math.ceil(f.virtualSize/a)-i,f.params.cssMode||(f.wrapperEl.style[f.getDirectionLabel("width")]=f.virtualSize+i+"px"),e){let i=[];for(let e=0;e<r.length;e+=1){let t=r[e];s&&(t=Math.floor(t)),r[e]<f.virtualSize+r[0]&&i.push(t)}r.splice(0,r.length),r.push(...i)}}}},function(t){t=t.swiper;Object.assign(t,{appendSlide:function(e){let{params:t,slidesEl:i}=this;t.loop&&this.loopDestroy();var r=t=>{var e;"string"==typeof t?((e=document.createElement("div")).innerHTML=t,i.append(e.children[0]),e.innerHTML=""):i.append(t)};if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&r(e[t]);else r(e);this.recalcSlides(),t.loop&&this.loopCreate(),t.observer&&!this.isElement||this.update()}.bind(t),prependSlide:function(e){let{params:t,activeIndex:i,slidesEl:r}=this,s=(t.loop&&this.loopDestroy(),i+1);var a=t=>{var e;"string"==typeof t?((e=document.createElement("div")).innerHTML=t,r.prepend(e.children[0]),e.innerHTML=""):r.prepend(t)};if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&a(e[t]);s=i+e.length}else a(e);this.recalcSlides(),t.loop&&this.loopCreate(),t.observer&&!this.isElement||this.update(),this.slideTo(s,0,!1)}.bind(t),addSlide:function(i,e){var r=this,{params:s,activeIndex:a,slidesEl:n}=r;let o=a;if(s.loop&&(o-=r.loopedSlides,r.loopDestroy(),r.recalcSlides()),a=r.slides.length,i<=0)r.prependSlide(e);else if(a<=i)r.appendSlide(e);else{let t=o>i?o+1:o;var l=[];for(let e=a-1;e>=i;--e){let t=r.slides[e];t.remove(),l.unshift(t)}if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&n.append(e[t]);t=o>i?o+e.length:o}else n.append(e);for(let t=0;t<l.length;t+=1)n.append(l[t]);r.recalcSlides(),s.loop&&r.loopCreate(),s.observer&&!r.isElement||r.update(),s.loop?r.slideTo(t+r.loopedSlides,0,!1):r.slideTo(t,0,!1)}}.bind(t),removeSlide:function(e){var i=this,{params:t,activeIndex:r}=i;let s=r;t.loop&&(s-=i.loopedSlides,i.loopDestroy());let a,n=s;if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)a=e[t],i.slides[a]&&i.slides[a].remove(),a<n&&--n;else a=e,i.slides[a]&&i.slides[a].remove(),a<n&&--n;n=Math.max(n,0),i.recalcSlides(),t.loop&&i.loopCreate(),t.observer&&!i.isElement||i.update(),t.loop?i.slideTo(n+i.loopedSlides,0,!1):i.slideTo(n,0,!1)}.bind(t),removeAllSlides:function(){var e=[];for(let t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}.bind(t)})},function(t){let{swiper:n,extendParams:e,on:i}=t;e({fadeEffect:{crossFade:!1}}),o({effect:"fade",swiper:n,on:i,setTranslate:()=>{let t=n.slides;n.params.fadeEffect;for(let r=0;r<t.length;r+=1){let t=n.slides[r],e=-t.swiperSlideOffset,i=(n.params.virtualTranslate||(e-=n.translate),0);n.isHorizontal()||(i=e,e=0);var s=n.params.fadeEffect.crossFade?Math.max(1-Math.abs(t.progress),0):1+Math.min(Math.max(t.progress,-1),0),a=_(0,t);a.style.opacity=s,a.style.transform=`translate3d(${e}px, ${i}px, 0px)`}},setTransition:e=>{var t=n.slides.map(t=>a(t));t.forEach(t=>{t.style.transitionDuration=e+"ms"}),f({swiper:n,duration:e,transformElements:t,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!n.params.cssMode})})},function(t){let{swiper:v,extendParams:e,on:i}=t,y=(e({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}}),(t,e,i)=>{let r=i?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),s=i?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");r||(r=O("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(i?"left":"top")).split(" ")),t.append(r)),s||(s=O("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(i?"right":"bottom")).split(" ")),t.append(s)),r&&(r.style.opacity=Math.max(-e,0)),s&&(s.style.opacity=Math.max(e,0))});o({effect:"cube",swiper:v,on:i,setTranslate:()=>{let{el:t,wrapperEl:e,slides:h,width:i,height:a,rtlTranslate:c,size:d,browser:r}=v,u=v.params.cubeEffect,p=v.isHorizontal(),f=v.virtual&&v.params.virtual.enabled,n,g=0;u.shadow&&(p?((n=v.wrapperEl.querySelector(".swiper-cube-shadow"))||(n=O("div","swiper-cube-shadow"),v.wrapperEl.append(n)),n.style.height=i+"px"):(n=t.querySelector(".swiper-cube-shadow"))||(n=O("div","swiper-cube-shadow"),t.append(n)));for(let l=0;l<h.length;l+=1){let t=h[l],e=l,i=90*(e=f?parseInt(t.getAttribute("data-swiper-slide-index"),10):e),r=Math.floor(i/360),s=(c&&(i=-i,r=Math.floor(-i/360)),Math.max(Math.min(t.progress,1),-1)),a=0,n=0,o=0;e%4==0?(a=4*-r*d,o=0):(e-1)%4==0?(a=0,o=4*-r*d):(e-2)%4==0?(a=d+4*r*d,o=d):(e-3)%4==0&&(a=-d,o=3*d+4*d*r),c&&(a=-a),p||(n=a,a=0);var m=`rotateX(${p?0:-i}deg) rotateY(${p?i:0}deg) translate3d(${a}px, ${n}px, ${o}px)`;s<=1&&-1<s&&(g=90*e+90*s,c&&(g=90*-e-90*s),v.browser)&&v.browser.need3dFix&&Math.abs(g)/90%2==1&&(g+=.001),t.style.transform=m,u.slideShadows&&y(t,s,p)}if(e.style.transformOrigin=`50% 50% -${d/2}px`,e.style["-webkit-transform-origin"]=`50% 50% -${d/2}px`,u.shadow)if(p)n.style.transform=`translate3d(0px, ${i/2+u.shadowOffset}px, ${-i/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${u.shadowScale})`;else{let t=Math.abs(g)-90*Math.floor(Math.abs(g)/90),e=1.5-(Math.sin(2*t*Math.PI/360)/2+Math.cos(2*t*Math.PI/360)/2),i=u.shadowScale,r=u.shadowScale/e,s=u.shadowOffset;n.style.transform=`scale3d(${i}, 1, ${r}) translate3d(0px, ${a/2+s}px, ${-a/2/r}px) rotateX(-89.99deg)`}var s=(r.isSafari||r.isWebView)&&r.needPerspectiveFix?-d/2:0;e.style.transform=`translate3d(0px,0,${s}px) rotateX(${v.isHorizontal()?0:g}deg) rotateY(${v.isHorizontal()?-g:0}deg)`,e.style.setProperty("--swiper-cube-translate-z",s+"px")},setTransition:e=>{var{el:i,slides:t}=v;if(t.forEach(t=>{t.style.transitionDuration=e+"ms",t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(t=>{t.style.transitionDuration=e+"ms"})}),v.params.cubeEffect.shadow&&!v.isHorizontal()){let t=i.querySelector(".swiper-cube-shadow");t&&(t.style.transitionDuration=e+"ms")}},recreateShadows:()=>{let i=v.isHorizontal();v.slides.forEach(t=>{var e=Math.max(Math.min(t.progress,1),-1);y(t,e,i)})},getEffectParams:()=>v.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(t){let{swiper:d,extendParams:e,on:i}=t,u=(e({flipEffect:{slideShadows:!0,limitRotation:!0}}),(t,e)=>{let i=d.isHorizontal()?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),r=d.isHorizontal()?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");i=i||w("flip",t,d.isHorizontal()?"left":"top"),r=r||w("flip",t,d.isHorizontal()?"right":"bottom"),i&&(i.style.opacity=Math.max(-e,0)),r&&(r.style.opacity=Math.max(e,0))});o({effect:"flip",swiper:d,on:i,setTranslate:()=>{var{slides:n,rtlTranslate:o}=d,l=d.params.flipEffect;for(let a=0;a<n.length;a+=1){var h=n[a];let t=h.progress;d.params.flipEffect.limitRotation&&(t=Math.max(Math.min(h.progress,1),-1));var c=h.swiperSlideOffset;let e=-180*t,i=0,r=d.params.cssMode?-c-d.translate:-c,s=0;d.isHorizontal()?o&&(e=-e):(s=r,r=0,i=-e,e=0),d.browser&&d.browser.need3dFix&&(Math.abs(e)/90%2==1&&(e+=.001),Math.abs(i)/90%2==1)&&(i+=.001),h.style.zIndex=-Math.abs(Math.round(t))+n.length,l.slideShadows&&u(h,t);c=`translate3d(${r}px, ${s}px, 0px) rotateX(${i}deg) rotateY(${e}deg)`;_(0,h).style.transform=c}},setTransition:e=>{var t=d.slides.map(t=>a(t));t.forEach(t=>{t.style.transitionDuration=e+"ms",t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(t=>{t.style.transitionDuration=e+"ms"})}),f({swiper:d,duration:e,transformElements:t})},recreateShadows:()=>{d.params.flipEffect,d.slides.forEach(t=>{let e=t.progress;d.params.flipEffect.limitRotation&&(e=Math.max(Math.min(t.progress,1),-1)),u(t,e)})},getEffectParams:()=>d.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!d.params.cssMode})})},function(t){let{swiper:x,extendParams:e,on:i}=t;e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),o({effect:"coverflow",swiper:x,on:i,setTranslate:()=>{let{width:t,height:e,slides:u,slidesSizesGrid:p}=x,f=x.params.coverflowEffect,g=x.isHorizontal(),i=x.translate,m=g?t/2-i:e/2-i,v=g?f.rotate:-f.rotate,y=f.depth;for(let d=0,t=u.length;d<t;d+=1){let i=u[d],t=p[d],e=(m-i.swiperSlideOffset-t/2)/t,r="function"==typeof f.modifier?f.modifier(e):e*f.modifier,s=g?v*r:0,a=g?0:v*r,n=-y*Math.abs(r),o=f.stretch,l=("string"==typeof o&&-1!==o.indexOf("%")&&(o=parseFloat(f.stretch)/100*t),g?0:o*r),h=g?o*r:0,c=1-(1-f.scale)*Math.abs(r);Math.abs(h)<.001&&(h=0),Math.abs(l)<.001&&(l=0),Math.abs(n)<.001&&(n=0),Math.abs(s)<.001&&(s=0),Math.abs(a)<.001&&(a=0),Math.abs(c)<.001&&(c=0),x.browser&&x.browser.need3dFix&&(Math.abs(s)/90%2==1&&(s+=.001),Math.abs(a)/90%2==1)&&(a+=.001);var b=`translate3d(${h}px,${l}px,${n}px)  rotateX(${a}deg) rotateY(${s}deg) scale(${c})`;if(_(0,i).style.transform=b,i.style.zIndex=1-Math.abs(Math.round(r)),f.slideShadows){let t=g?i.querySelector(".swiper-slide-shadow-left"):i.querySelector(".swiper-slide-shadow-top"),e=g?i.querySelector(".swiper-slide-shadow-right"):i.querySelector(".swiper-slide-shadow-bottom");t=t||w("coverflow",i,g?"left":"top"),e=e||w("coverflow",i,g?"right":"bottom"),t&&(t.style.opacity=0<r?r:0),e&&(e.style.opacity=0<-r?-r:0)}}},setTransition:e=>{x.slides.map(t=>a(t)).forEach(t=>{t.style.transitionDuration=e+"ms",t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(t=>{t.style.transitionDuration=e+"ms"})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(t){let{swiper:y,extendParams:e,on:i}=t;e({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});o({effect:"creative",swiper:y,on:i,setTranslate:()=>{let{slides:c,wrapperEl:e,slidesSizesGrid:i}=y,d=y.params.creativeEffect,u=d.progressMultiplier,p=y.params.centeredSlides;if(p){let t=i[0]/2-y.params.slidesOffsetBefore||0;e.style.transform=`translateX(calc(50% - ${t}px))`}for(let h=0;h<c.length;h+=1){let t=c[h],e=t.progress,r=Math.min(Math.max(t.progress,-d.limitProgress),d.limitProgress),i=r,s=(p||(i=Math.min(Math.max(t.originalProgress,-d.limitProgress),d.limitProgress)),t.swiperSlideOffset),a=[y.params.cssMode?-s-y.translate:-s,0,0],n=[0,0,0],o=!1,l=(y.isHorizontal()||(a[1]=a[0],a[0]=0),{translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1});r<0?(l=d.next,o=!0):0<r&&(l=d.prev,o=!0),a.forEach((t,e)=>{a[e]=`calc(${t}px + (${t=l.translate[e],"string"==typeof t?t:t+"px"} * ${Math.abs(r*u)}))`}),n.forEach((t,e)=>{let i=l.rotate[e]*Math.abs(r*u);y.browser&&y.browser.need3dFix&&Math.abs(i)/90%2==1&&(i+=.001),n[e]=i}),t.style.zIndex=-Math.abs(Math.round(e))+c.length;var f=a.join(", "),g=`rotateX(${n[0]}deg) rotateY(${n[1]}deg) rotateZ(${n[2]}deg)`,m=i<0?`scale(${1+(1-l.scale)*i*u})`:`scale(${1-(1-l.scale)*i*u})`,v=i<0?1+(1-l.opacity)*i*u:1-(1-l.opacity)*i*u,f=`translate3d(${f}) ${g} `+m;if(o&&l.shadow||!o){let e=t.querySelector(".swiper-slide-shadow");if(e=!e&&l.shadow?w("creative",t):e){let t=d.shadowPerProgress?r*(1/d.limitProgress):r;e.style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}g=_(0,t);g.style.transform=f,g.style.opacity=v,l.origin&&(g.style.transformOrigin=l.origin)}},setTransition:e=>{var t=y.slides.map(t=>a(t));t.forEach(t=>{t.style.transitionDuration=e+"ms",t.querySelectorAll(".swiper-slide-shadow").forEach(t=>{t.style.transitionDuration=e+"ms"})}),f({swiper:y,duration:e,transformElements:t,allSlides:!0})},perspective:()=>y.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!y.params.cssMode})})},function(t){let{swiper:x,extendParams:e,on:i}=t;e({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),o({effect:"cards",swiper:x,on:i,setTranslate:()=>{let{slides:o,activeIndex:l,rtlTranslate:h}=x,c=x.params.cardsEffect,{startTranslate:d,isTouched:u}=x.touchEventsData,p=h?-x.translate:x.translate;for(let n=0;n<o.length;n+=1){var f=o[n],g=f.progress,m=Math.min(Math.max(g,-4),4);let t=f.swiperSlideOffset,e=(x.params.centeredSlides&&!x.params.cssMode&&(x.wrapperEl.style.transform=`translateX(${x.minTranslate()}px)`),x.params.centeredSlides&&x.params.cssMode&&(t-=o[0].swiperSlideOffset),x.params.cssMode?-t-x.translate:-t),i=0;var v=-100*Math.abs(m);let r=1,s=-c.perSlideRotate*m,a=c.perSlideOffset-.75*Math.abs(m);var y=x.virtual&&x.params.virtual.enabled?x.virtual.from+n:n,b=(y===l||y===l-1)&&0<m&&m<1&&(u||x.params.cssMode)&&p<d,y=(y===l||y===l+1)&&m<0&&-1<m&&(u||x.params.cssMode)&&d<p;if(b||y){let t=(1-Math.abs((Math.abs(m)-.5)/.5))**.5;s+=-28*m*t,r+=-.5*t,a+=96*t,i=-25*t*Math.abs(m)+"%"}if(e=m<0?`calc(${e}px ${h?"-":"+"} (${a*Math.abs(m)}%))`:0<m?`calc(${e}px ${h?"-":"+"} (-${a*Math.abs(m)}%))`:e+"px",!x.isHorizontal()){let t=i;i=e,e=t}b=m<0?""+(1+(1-r)*m):""+(1-(1-r)*m),y=`
        translate3d(${e}, ${i}, ${v}px)
        rotateZ(${c.rotate?h?-s:s:0}deg)
        scale(${b})
      `;if(c.slideShadows){let t=f.querySelector(".swiper-slide-shadow");(t=t||w("cards",f))&&(t.style.opacity=Math.min(Math.max((Math.abs(m)-.5)/.5,0),1))}f.style.zIndex=-Math.abs(Math.round(g))+o.length,_(0,f).style.transform=y}},setTransition:e=>{var t=x.slides.map(t=>a(t));t.forEach(t=>{t.style.transitionDuration=e+"ms",t.querySelectorAll(".swiper-slide-shadow").forEach(t=>{t.style.transitionDuration=e+"ms"})}),f({swiper:x,duration:e,transformElements:t})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!x.params.cssMode})})}]),p})());